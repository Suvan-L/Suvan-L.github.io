<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
    
  
  <link href="https://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet" type="text/css" />




  
  
  
  

  

  

  

  

  

  






  

<link href="https://cdn.bootcss.com/font-awesome/4.6.2/css/font-awesome.min.css" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Java," />





  <link rel="alternate" href="/atom.xml" title="Suvan" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="目录:一. 语法整理 概述(基本语法与规范) 变量 运算符 循环和判断 数组 函数(方法) 异常处理 面向对象【继承,多态,封装,抽象和接口】 Java的数据结构【集合框架】 泛型与对象序列化 静态关键字static 内部类 多线程基础 Java网络编程(Socket编程) IO体系构图 解析Java注解 JVM虚拟机【管理内存分区】 了解Java中的内存泄漏的 专业术语 程序设计 项目管理 数据">
<meta name="keywords" content="Java">
<meta property="og:type" content="article">
<meta property="og:title" content="Java_知识体系">
<meta property="og:url" content="http://suvan-l.github.io/2017/08/02/Java_知识体系/index.html">
<meta property="og:site_name" content="Suvan">
<meta property="og:description" content="目录:一. 语法整理 概述(基本语法与规范) 变量 运算符 循环和判断 数组 函数(方法) 异常处理 面向对象【继承,多态,封装,抽象和接口】 Java的数据结构【集合框架】 泛型与对象序列化 静态关键字static 内部类 多线程基础 Java网络编程(Socket编程) IO体系构图 解析Java注解 JVM虚拟机【管理内存分区】 了解Java中的内存泄漏的 专业术语 程序设计 项目管理 数据">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-01-17T03:54:55.821Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Java_知识体系">
<meta name="twitter:description" content="目录:一. 语法整理 概述(基本语法与规范) 变量 运算符 循环和判断 数组 函数(方法) 异常处理 面向对象【继承,多态,封装,抽象和接口】 Java的数据结构【集合框架】 泛型与对象序列化 静态关键字static 内部类 多线程基础 Java网络编程(Socket编程) IO体系构图 解析Java注解 JVM虚拟机【管理内存分区】 了解Java中的内存泄漏的 专业术语 程序设计 项目管理 数据">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"right","display":"always","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://suvan-l.github.io/2017/08/02/Java_知识体系/"/>





  <title>Java_知识体系 | Suvan</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Suvan</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">blog</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://suvan-l.github.io/2017/08/02/Java_知识体系/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="刘淑玮">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/suvan-min.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Suvan">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">Java_知识体系</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-02T17:43:18+08:00">
                2017-08-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  58,265
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  244
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="目录"><a href="#目录" class="headerlink" title="目录:"></a>目录:</h1><h2 id="一-语法整理"><a href="#一-语法整理" class="headerlink" title="一. 语法整理"></a>一. 语法整理</h2><ol>
<li>概述(基本语法与规范)</li>
<li>变量</li>
<li>运算符</li>
<li>循环和判断</li>
<li>数组</li>
<li>函数(方法)</li>
<li>异常处理</li>
<li>面向对象【继承,多态,封装,抽象和接口】</li>
<li>Java的数据结构【集合框架】</li>
<li>泛型与对象序列化</li>
<li>静态关键字static</li>
<li>内部类</li>
<li>多线程基础</li>
<li>Java网络编程(Socket编程)</li>
<li>IO体系构图</li>
<li>解析Java注解</li>
<li>JVM虚拟机【管理内存分区】</li>
<li>了解Java中的内存泄漏的</li>
<li>专业术语</li>
<li>程序设计</li>
<li>项目管理</li>
<li>数据结构基础</li>
</ol>
<h2 id="二-操作整理"><a href="#二-操作整理" class="headerlink" title="二. 操作整理"></a>二. 操作整理</h2><ol>
<li>操作日期和时间</li>
<li>自定义异常</li>
<li>反射操作</li>
<li>正则表达式</li>
<li>操作I/O输入输出流和文件</li>
<li>编写定时任务</li>
<li>获取控制台键盘输入</li>
<li>文档注释【JavaDoc】</li>
<li>编码问题</li>
<li>Applet的简单介绍</li>
<li>发送邮件【JavaMail】</li>
<li>GUI开发</li>
<li>自动化操作【模拟键盘和鼠标】</li>
<li>JDBC连接数据库</li>
<li>遍历与控制台打印输出</li>
<li>XML文件读取与生成</li>
<li><ol>
<li>Java加密与解密机制介绍</li>
<li>运用Base64算法</li>
<li>运用消息摘要算法</li>
<li>运用对称加密算法</li>
<li>运用非对称加密算法</li>
<li>运用数字签名算法</li>
</ol>
</li>
<li><ol>
<li>JSP开发</li>
<li>Servlet基础</li>
<li>过滤器</li>
<li>监听器</li>
<li>JSTL标签</li>
<li>JSP自定义标签</li>
</ol>
</li>
<li>JSON数据处理</li>
<li>DWR实现服务器向客户端推送</li>
</ol>
<h2 id="三-研究Github开源项目"><a href="#三-研究Github开源项目" class="headerlink" title="三. 研究Github开源项目"></a>三. 研究Github开源项目</h2><ol>
<li><a href="https://github.com/codingXiaxw/CustomerManagement" target="_blank" rel="external">JavaWeb项目之客户管理系统</a></li>
<li><a href="https://github.com/codingXiaxw/ssm" target="_blank" rel="external">一个案例带你快速入门SSM开发</a> 和 <a href="https://github.com/codingXiaxw/ssm2" target="_blank" rel="external">SSM注解开发的高级知识讲解</a></li>
<li><a href="https://github.com/codingXiaxw/shiro" target="_blank" rel="external">Shiro整合Web项目及整合后的开发</a></li>
<li><a href="https://github.com/codingXiaxw/seckill" target="_blank" rel="external">Java高并发秒杀系统API</a></li>
<li><a href="https://github.com/C0de8ug/Javaee-tutorial" target="_blank" rel="external">简单的教务系统网站(结合了图书订购功能)【SSM框架】</a></li>
<li><a href="https://github.com/nl101531/MarkdownViewTools" target="_blank" rel="external">本地Markdown文档读取展示工具【springboot框架】</a></li>
<li><a href="https://github.com/zhangxiang1/microblog" target="_blank" rel="external">microblog【实现了增删改查技术的微博】</a>和<a href="https://github.com/zhangxiang1/microblog_ssm" target="_blank" rel="external">microblog_ssm【用SSM实现】</a></li>
<li><a href="https://github.com/hot13399/spring-mvc-mini" target="_blank" rel="external">Spring-mvc-mini【基于Spring MVC,实现增删查改】</a> 和<a href="https://github.com/hot13399/spring-mvc-REST" target="_blank" rel="external">spring-mvc-REST【简单的Java RESTful 项目】</a></li>
<li><a href="https://github.com/code4craft/tiny-spring" target="_blank" rel="external">tiny-spring【Spring精简版】</a></li>
<li><a href="https://github.com/HuangFromJYU/JStruts2" target="_blank" rel="external">JStruts2【一个精简版Struts2框架】</a></li>
<li><a href="https://github.com/atrphy/WoodManager/" target="_blank" rel="external">简易木材管理系统【JQuery-Servlet-JDBC】</a></li>
</ol>
<h1 id="一-语法整理-1"><a href="#一-语法整理-1" class="headerlink" title="一.语法整理"></a>一.语法整理</h1><h2 id="1-概述-基本语法与规范"><a href="#1-概述-基本语法与规范" class="headerlink" title="1. 概述(基本语法与规范)"></a>1. 概述(基本语法与规范)</h2><ul>
<li>Java SE</li>
<li>Java EE</li>
<li>Java ME<br>本地配置Java运行环境JDK：<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;变量1</div><div class="line">        JAVA_HOME:C:\Program Files\Java\jdk1.8.0_65</div><div class="line">        【作用：找到java编译器以及执行文件2】</div><div class="line"></div><div class="line">            在Path变量结尾处添加：%JAVA_HOME%\bin;%JAVA_HOME%\jre\bin;</div><div class="line"></div><div class="line">&lt;2&gt;变量2</div><div class="line">        CLASSPATH:E:\Class;%JAVA_HOME%\lib;</div><div class="line">        【租用：指定Java类所在的目录(例如：导入原生工具包)】</div></pre></td></tr></table></figure>
</li>
</ul>
<p>JRE和JDK</p>
<ul>
<li>【Java运行时环境(JRE)】Java虚拟机,Java核心类库和支持文件</li>
<li>【JAVA开发工具包(JDK)】是完整的Java软件开发包,包含jre,编译器,和其他工具(JavaDoc,java调试器等),可以让开发者开发,编译，执行Java应用程序<br>​</li>
</ul>
<p>Java语言鲁棒性(Robust,即健壮性)特点</p>
<ul>
<li>能检查程序在编译和运行时的错误</li>
<li>自己操纵内存减少了内存出错的可能性</li>
<li>实现了真数组,避免了覆盖数据的可能<br>​</li>
</ul>
<p>Java程序的种类</p>
<ul>
<li>Applet【内嵌于Web文件中,用浏览器观看】</li>
<li>Application【可独立运行】</li>
<li>Servlet【服务器端】<br>​</li>
</ul>
<p>Java基本命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">javac 编译</div><div class="line">javac -D 指定编译后类层次的根目录</div><div class="line">java运行程序</div></pre></td></tr></table></figure></p>
<p>Java命名：</p>
<ul>
<li>大小写敏感</li>
<li>类名    【每个单词首字母大写】</li>
<li>方法名【小写字母开头，之后每个单词首字母大写】</li>
<li>文件名【.java后缀，文件名与类中唯一的public类名希艾娜沟通】<br>​</li>
</ul>
<p>Java注释</p>
<ul>
<li>单行注释(//)</li>
<li>多行注释(/<em> </em>/)</li>
<li>文档注释(/<em>*  </em>/)<br>​</li>
</ul>
<p>Java转义序列<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">\t  Tab键空行</div><div class="line">\n  换行</div><div class="line">\r  回车</div><div class="line">\b  退格符</div><div class="line">\f  换页符</div><div class="line">\&apos;  单引号</div><div class="line">\&quot;  双引号</div><div class="line">\\  反斜杠(\)</div></pre></td></tr></table></figure></p>
<p>程序包</p>
<ul>
<li>包名(全小写)</li>
<li>导包(例:import java.io.*)</li>
<li>java.lang【此包是由java解释器自动引入】<br>​</li>
</ul>
<p>程序入口</p>
<ul>
<li>主函数(main方法)</li>
<li>public static void main(String [] args){ … }<br>​</li>
</ul>
<p>标识符：</p>
<ul>
<li>类，变量和方法的名称称为标识符</li>
<li>必须以字母（ A 到 Z 或者 a 到 z ）、货币字符（ $ ）或者下划线( _ )开头【之后可以是任意字符】</li>
<li>不能是关键词</li>
</ul>
<p>修饰符</p>
<ul>
<li>【访问修饰符 】private,default,protected,public</li>
<li>【非访问修饰符】final,abstract,strictfp,synchronized,volatile<br>​</li>
</ul>
<p>访问修饰符</p>
<ul>
<li>【public】本类,同包,子类(包内,包外),包外其他</li>
<li>【protected】本类,同包,子类(包内,包外)</li>
<li>【default_默认】本类,同包,子类(包内)</li>
<li>【private】本类<br>​</li>
</ul>
<p>关键字</p>
<ul>
<li>java中所有关键字都是小写的</li>
<li>不能用作常量、变量和其他标识符的名字</li>
<li>java中的true,false,null,friendly,sizeof不是关键字,也不是保留字,它们只是显示常量值,但是程序中不能使用他们作为标识符</li>
<li>const和goto是java的保留的关键字,native是关键字<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">abstract, assert</div><div class="line">boolean, break, byte</div><div class="line">case, catch, char, class,const(保留),continue</div><div class="line">default, do, double</div><div class="line">else, enum(枚举), extends</div><div class="line">final, finally, float, for</div><div class="line">goto(保留关键字,没有具体含义)</div><div class="line">if, implements, import, instanceof, int, interface</div><div class="line">long</div><div class="line">native( 用来声明一个方法是由与计算机相关的语言&lt;如C/C++/FORTRAN语言&gt;实现的),new</div><div class="line">package, private, protected, public</div><div class="line">return</div><div class="line">strictfp(用来声明FP_strict（单精度或双精度浮点数）表达式遵循IEEE 754算术规范),short, static, super, switch, synchronized</div><div class="line">this, throw, throws, transient, try</div><div class="line">void, volatile, while</div></pre></td></tr></table></figure>
</li>
</ul>
<p>static关键字</p>
<ul>
<li>【静态变量 】类加载时初始化,所有实例共享</li>
<li>【静态方法】可类名.方法名()调用,必须实现,不能抽象,类加载时已经存在</li>
<li>【静态代码块】 可存在该类任意地方,类加载时一并执行</li>
<li>Java中并不存在全局变量,static可以实现一个”伪全局”,JVM加载一个类时,会为该类中static修饰的成员变量和成员方法,在固定的位置开辟一个固定大小的内存区域<br>​</li>
</ul>
<p>final关键字</p>
<ul>
<li>使用final关键字修饰的函数称为”内联函数”</li>
<li>“函数代码小,频繁调用”的情况下,适宜采用内联函数<br>​</li>
</ul>
<p>枚举</p>
<ul>
<li>java1.5新增加的特性,枚举类型是一种一种特殊的新类型</li>
<li>枚举类型可以定义玮一个单独的文件,也可定义在其他类的内部</li>
<li>默认继承java.lang.Enum抽象类,并且枚举类是final修饰,无法继承</li>
<li>枚举类允许定义抽象方法,每个实例都必须实现</li>
<li>枚举类可以实现多接口</li>
<li>参考资料:<a href="http://blog.csdn.net/javazejian/article/details/71333103" target="_blank" rel="external">深入理解Java枚举类型(enum) </a><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">/*枚举类型,定义枚举常量,简单模型调用*/</div><div class="line">    enum Day&#123;</div><div class="line">        MONDAY,TUESDAY,WEDNESDAY,</div><div class="line">        THURSDAY,FRIDAY,SATURDAY,SUNDAY</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public class EnumDemo&#123;</div><div class="line">        public static void main(String [] args)&#123;</div><div class="line">            Day day = Day.MONDAY; //直接引用</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="2-变量"><a href="#2-变量" class="headerlink" title="2.变量"></a>2.变量</h2><p>java中两种有效的数据类型</p>
<ul>
<li>【 原始数据类型】存放在栈中</li>
<li>【引用数据类型】JVM中虚拟栈存放“对象的地址”,堆中存放“对象的实质”,通过地址来找到堆中对象的过程<br><br></li>
</ul>
<p>Java编译器在基本数据类型和对应的包装类型进行转换</p>
<ul>
<li>装箱(基本 -&gt; 对象) 【可自动装箱】</li>
<li>拆箱(对象 -&gt; 基本) 【可自动拆箱】<br><br></li>
</ul>
<p>内存区域存放</p>
<ul>
<li>new创建的对象在堆区</li>
<li>函数中的临时变量在栈区</li>
<li>java中的String的字符串,在字符串常量区<br><br></li>
</ul>
<p>变量类型</p>
<ul>
<li>本地变量 (无默认值,栈深度内部实施)</li>
<li>实例变量 (有默认值[0,false,null],与对象共存共毁)</li>
<li>类变量(有默认值[0,false,null],与程序共开始共结束)<br><br></li>
</ul>
<p>数据类型</p>
<ul>
<li>【整数类型】byte,short,int,long</li>
<li>【浮点类型】float,double</li>
<li>【逻辑类型】boolean</li>
<li>【字符型】char<br><br></li>
</ul>
<p>原始数据类型(基本数据类型,从小到大排序)</p>
<ul>
<li>【byte】1字节(8bit)-2^7 ~ 2^7-1</li>
<li>【short】2字节,-2^15 ~ 2^15-1</li>
<li>【short】2字节,16位(16bit),\u0000 ~ 、\uFFFF</li>
<li>【int】4字节,-2^31 ~ 2^31-1</li>
<li>【long】8字节,-2^63 ~ 2^63-1</li>
<li>【long】单精度32位浮点</li>
<li>【double】双精度64位浮点</li>
<li>【boolean】true和false<br><br></li>
</ul>
<p>数字类型的包装类【都是抽象类Number的子类】</p>
<ul>
<li>Byte</li>
<li>Integer</li>
<li>Short</li>
<li>Long</li>
<li>Float</li>
<li>Double<br><br></li>
</ul>
<p>成员变量(静态与非静态)默认值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">【boolean】false</div><div class="line">【byte】0</div><div class="line">【short】0</div><div class="line">【char】 (此处空白,默认为空字符就是&apos;\u0000&apos;,数值为0)</div><div class="line">【int】0</div><div class="line">【long】0</div><div class="line">【float】0.0</div><div class="line">【double】0.0</div><div class="line">【String】 null</div><div class="line">【String []】 null</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>字符型常量</p>
<ul>
<li>单引号括起来的单个普通字符or转义字符</li>
<li>【注意】字符串用双引号<br><br></li>
</ul>
<p>不确定值的默认类型</p>
<ul>
<li>整数默认是int</li>
<li>带小数的默认是double<br><br></li>
</ul>
<p>类型互相转换</p>
<ul>
<li>小转大 [自动装换]</li>
<li>大转小 [强制转换，丢失精度]</li>
<li>原生类中的数据类型不可任意转换【范围大的转为范围小,需要强制类型转换】<br><br></li>
</ul>
<p>字符串和字节的转换<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;字符串 -&gt; 字节</div><div class="line">		String s;</div><div class="line">		byte [] bs = s.getBytes()</div><div class="line"></div><div class="line">&lt;2&gt;字节 -&gt; 字符串</div><div class="line">		byte [] bs = new byte[int];</div><div class="line">		String s = new String(bs) 或者 String s = new String(bs,encode);//encode指的是编码方式</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>特殊例题<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;</div><div class="line">        double d = 5.3e12;</div><div class="line">         【表示5.3乘以10的12次方】</div><div class="line"></div><div class="line">&lt;2&gt;</div><div class="line">        Integer对象范围是-127 ~ 127</div><div class="line">                如果超出范围会新建一个对象</div><div class="line">                否则就是使用内存中那个对象</div><div class="line"></div><div class="line">&lt;3&gt;</div><div class="line">        实现CharSequence接口的类</div><div class="line">                CharBuffer,String,StringBuffer,StringBuilder</div><div class="line"></div><div class="line">&lt;4&gt;</div><div class="line">        &apos;a&apos; = 1/3  这个表达式是错的</div><div class="line">              &apos;a&apos;是个常数,不能赋值,字符型与整型运算时会自动转换为整型,a的ASCII码为97</div><div class="line">                  &apos;A&apos; + 32  正确</div><div class="line">                  &apos;a&apos; % 3 正确</div><div class="line"></div><div class="line">&lt;5&gt;</div><div class="line">    执行`&quot;int a =&apos;2&apos;&quot;`的值,a的值是50</div><div class="line">    【注意常见字符的ASCII码是空格_32,0_48,A_65,a_97】</div></pre></td></tr></table></figure></p>
<h2 id="3-运算符"><a href="#3-运算符" class="headerlink" title="3.运算符"></a>3.运算符</h2><p>类型</p>
<ul>
<li>算数运算符  [+ - * / % ++ –]</li>
<li>关系运算符  [== != &gt; &lt; &gt;= &lt;=]<ul>
<li>位运算符  [&amp; | ^(异或,同真异假) ~ &lt;&lt; &gt;&gt; &gt;&gt;&gt;]</li>
</ul>
</li>
<li>逻辑运算符  [&amp;&amp; || !]</li>
<li>赋值运算符  [= += -= *= /= %= &lt;&lt;= &gt;&gt;= &amp;= ^= |=]</li>
<li>其他运算符  [?:(三元运算符) instanceof(判断左变量 是否为 右侧类型【同类型or子类】]instanceof运算符(二元运算符)</li>
</ul>
<ul>
<li>判断”左边的对象”是否为”右边类(接口,抽象类,父类)”的实例</li>
</ul>
<p>位运算<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;左移动运算符【&lt;&lt;】  </div><div class="line">	丢弃最高位,0补最低位  [左移n位相当于 乘以2的n次方]</div><div class="line">&lt;2&gt;右移运算符</div><div class="line">	符号位不变，左边补上符号位(正补0,负补1) [右移n位相当于 除以2的n次方]</div><div class="line">&lt;3&gt;无符号右移运算符 【&gt;&gt;&gt;】</div><div class="line">	丢弃最低位，0补最高位 【只是对32位和64位有意义】</div><div class="line"></div><div class="line">***********************************************************</div><div class="line"></div><div class="line">&lt;4&gt;按位与运算符【&amp;】</div><div class="line">	两位同时为“1”，结果才为“1”，否则为0 </div><div class="line">		a.清零[与一个二进制各位都为0的数相与]</div><div class="line">		b.取一个数中指定位[与一个数,需取的指定位为1,其余位置为0]，进入&amp;1</div><div class="line"></div><div class="line">&lt;5&gt;按位或运算符 【|】</div><div class="line">	两位有一个1,即为1</div><div class="line">		a.指定某些位置为1[与一个数指定位为1,其余位置为0]</div><div class="line"></div><div class="line"></div><div class="line">&lt;6&gt;异或运算符</div><div class="line">	同假异真</div><div class="line">		a.使特定为反转[需要翻转的位置为1,其余位为0]</div><div class="line">		b.保留原值[与0进行异或]</div><div class="line">		c.两个变量值交换[A=A^B;B=A^B;A=A^B]</div><div class="line">			【原理:利用一个数异或本身等于0和异或运算符合交换率】</div><div class="line"></div><div class="line">&lt;7&gt;取反运算符【~】</div><div class="line">	相反</div></pre></td></tr></table></figure></p>
<p>二进制</p>
<ul>
<li>原码  [二进制]</li>
<li>反码  [正数反码是本身,负数反码,符号位不变,各个位取反]</li>
<li>补码  [正数补码是本身,负数补码,符号位不变，各个位取反,最后+1]<br>​</li>
</ul>
<p>二进制的算术运算</p>
<ul>
<li>加法 [逢二进一]</li>
<li>减法 [借一有二]</li>
<li>乘法 [与十进制类似,00 = 0; 01=10=0;11 = 1]</li>
<li>除法 [与十进制类似]<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;加   </div><div class="line">	 1110 [被加数]</div><div class="line">   + 1011 [加数] </div><div class="line">   ------------</div><div class="line">    11001 </div><div class="line"></div><div class="line">&lt;2&gt;减</div><div class="line">     1101 [被减数]</div><div class="line">   + 1011 [减数]</div><div class="line">   -------------</div><div class="line">     0010</div><div class="line"></div><div class="line">&lt;3&gt;乘</div><div class="line">	 1001 [被乘数]</div><div class="line">   * 1010 [乘数]</div><div class="line">   --------------</div><div class="line">     0000     [部分积(1对1相乘)]</div><div class="line">    1001</div><div class="line">   0000   	 </div><div class="line">  1001</div><div class="line">  ---------------</div><div class="line">  1011010     [乘积]</div><div class="line"></div><div class="line">&lt;4&gt;除</div><div class="line">            000110    [商]</div><div class="line">		   ----------------------</div><div class="line"> [除数]110| 100110         [被除数]</div><div class="line"> 	      |  110</div><div class="line"> 	        --------</div><div class="line"> 	         01110</div><div class="line"> 	          110</div><div class="line"> 	        -------</div><div class="line"> 	            10</div></pre></td></tr></table></figure>
</li>
</ul>
<p>Java内置的进制转换<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">Integer.toHexString(int i);					[十进制 -&gt; 十六进制]</div><div class="line">Integer.toOctalString(int i);				[十进制 -&gt; 八进制]</div><div class="line">Integer.toBinaryString(int i);				[十进制 -&gt; 二进制]</div><div class="line">Integer.valueOf(&quot;FFF&quot;,16).toString();		[十六进制 -&gt; 十进制]</div><div class="line">Integer.valueOf(&quot;376&quot;,8).toString();		[八进制 -&gt; 十进制]</div><div class="line">Integer.valueOf(&quot;0101&quot;,2).toString();	    [二进制 -&gt; 十进制]</div><div class="line"></div><div class="line"></div><div class="line">八进制</div><div class="line">    以8为基数的算法,逢8进1,所以“10进制的8”就是010【前面哪个0是为了和十进制区分用的,又称转义符】</div></pre></td></tr></table></figure></p>
<p>0xff为16进制<br>二进制 1111 1111<br>十进制 255<br>八进制 377</p>
<p>反码【正数是本身,负数是符号位不变,各个位取反】<br>补码【正数是本身,负数符号位不变,各个位数取反,最后+1】</p>
<p>案例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">10</div><div class="line">    【原码】0000000000000000 0000000000001010</div><div class="line">	【~10】 1111111111111111 1111111111110101(变为负数,计算机用补码存储)</div><div class="line">【~10反码】 1000000000000000 0000000000001010</div><div class="line">【~10补码】 1000000000000000 0000000000001011(计算机最终储存数字-11)</div></pre></td></tr></table></figure></p>
<p>计算机中通常采用的字节存储机制大小端</p>
<ul>
<li>小端法(Little-Endian) [低位字节排放在内存的低地址端(即该值的起始地址,高位自己排放在内存的高地址端)]</li>
<li>大端法(Big-Endian) [高位自己排放在内存的低地址端(即该值的起始位置),低位自己排放在内存的高地址端]</li>
<li>网络字节序：TCP/IP各层协议将字节序定义为Big-Endian，因此TCP/IP协议中使用的字节序通常称之为网络字节序<br>​</li>
</ul>
<h2 id="4-循环和判断"><a href="#4-循环和判断" class="headerlink" title="4.循环和判断"></a>4.循环和判断</h2><p>循环类型<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;while(条件)&#123; ... &#125;</div><div class="line">&lt;2&gt;do&#123; ... &#125;while(条件);</div><div class="line">&lt;3&gt;for(变量;条件;每次循环更新)&#123; ... &#125;</div><div class="line">&lt;4&gt;for(类型 变量：类型集合)&#123; ... &#125;   【for-each循环】</div></pre></td></tr></table></figure></p>
<p>循环中特有关键字</p>
<ul>
<li>continue 【循环跳过此次，进行下一次】</li>
<li>break    【退出循环】</li>
</ul>
<p>条件判断<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;</div><div class="line">    if(条件)&#123; ... &#125;;</div><div class="line">&lt;2&gt;</div><div class="line">    if(条件1)&#123; ... &#125;else if(条件2)&#123; ... &#125;;</div><div class="line">&lt;3&gt;</div><div class="line">    f(条件1)&#123; ... &#125;else if(条件2)&#123; ... &#125;else&#123; ... &#125;</div><div class="line">&lt;4&gt;</div><div class="line">    switch(变量)&#123; case 值1: case 值2: ....; default: ....; &#125; 【对应变量值为入口执行，遇到break退出，未遇到执行到最后】</div></pre></td></tr></table></figure></p>
<p>switch判断</p>
<ul>
<li>JDK7之前,switch只能支持byte,short,char,int,JDK7后支持String</li>
<li>switch的表达式的值不能是null,否则会在运行时抛出NullPointerException,</li>
<li>case子句不能使用null,否则会出现编译错误</li>
</ul>
<h2 id="5-数组"><a href="#5-数组" class="headerlink" title="5.数组"></a>5.数组</h2><p>&emsp;储存相同类型的元素，固定大小的连续集合,下标从0开始[数组元素通过索引访问]</p>
<p>特点</p>
<ul>
<li>数组是一个对象</li>
<li>不是一种原生类</li>
<li>数组存储在堆中连续内存空间里<br>​</li>
</ul>
<p>应用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;创建数组</div><div class="line">        a. int [] number = new int[3]; </div><div class="line">        b. int [] number = &#123;1,2,3&#125;;</div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;赋值</div><div class="line">        number[0] = 2;</div></pre></td></tr></table></figure></p>
<p>工具类<br>java.util.Arrays 【排序,搜索,比较和填充】</p>
<h2 id="6-函数-方法"><a href="#6-函数-方法" class="headerlink" title="6.函数(方法)"></a>6.函数(方法)</h2><p>函数类型：</p>
<ul>
<li>原始类型是值传递,引用类型是引用传递</li>
<li>void关键字 [返回值类型,声明后方法体可不用返回值]</li>
<li>构造函数   【无返回值类型,方法名与类名一致】</li>
<li>普通函数   </li>
<li>类函数(静态函数)<br>​</li>
</ul>
<p>构造方法</p>
<ul>
<li>新对象被创建时,会被调用</li>
<li>每一个类都有构造方法,程序员没有给类提供构造方法的情况下,Java编译器会为该类创建一个默认的构造方法</li>
<li>【构造方法重载】可以为一个类创建多个构造方法,每一个构造方法必须有它唯一的参数列表</li>
<li>【不支持复制构造方法】Java不支持像C++中的复制构造方法(又称为拷贝构造函数,是一种特殊的构造函数,它由编译器调用来完成一些基于同一类的其他对象的构造及初始化)<br>​</li>
</ul>
<p>值传递和引用传递</p>
<ul>
<li>Java中只有按值传递，没有按引用传递,参考资料:<a href="http://guhanjie.iteye.com/blog/1683637" target="_blank" rel="external">http://guhanjie.iteye.com/blog/1683637</a></li>
<li>【都是值传递】基本型变量传递的是”变量副本”,对象型变量传递的是”对象引用的副本”</li>
<li>【引用传递】传递的是对象地址,并不是原对象本身(形参与实参指向同一内存地址,对形式参数的操作就是对实际参数的操作,方法中执行的形参改变会影响实际参数的值)</li>
<li>String是被final修饰的类,本身的内容是不会改变的<br>​</li>
</ul>
<p>类函数</p>
<ul>
<li>指的被static修饰的方法,无this指针【this不能在static方法内使用】</li>
<li>可以调用其他类方法(同为static修饰)<br>​</li>
</ul>
<p>重载</p>
<ul>
<li>形参列表必须不同(类型,个数or顺序)</li>
<li>访问修饰符 or 返回值 or 抛出异常 都可以不同</li>
<li>能够在一个类中或者一个子类中被重载<br>​</li>
</ul>
<p>重写</p>
<ul>
<li>对从基类中继承来的方法进行重写</li>
<li>返回值类型 and 函数名 and 参数列表 必须相同</li>
<li>重写方法的访问权限&gt;=被重写的方法<br>​</li>
</ul>
<p>类的默认执行顺序 [Father.java 和 Child.java(extends Father)]</p>
<ol>
<li>父类静态变量<br>2 父类的静态代码块【static{ … }】<br>3.子类静态变量</li>
<li>子类静态代码块</li>
<li>父类构造(非静态)代码块【{ … }】<br>6 父类构造函数</li>
<li>子类构造代码块</li>
<li>子类构造函数<br>​</li>
</ol>
<p>虚函数</p>
<ul>
<li>在Java语言中, 所有的方法默认都是”虚函数”. 只有以关键字final 标记的方法才是非虚函数</li>
<li>【结论】当执行到超类的构造器时，会调用move()，但是派生类也存在重写的move(),所以,最终只会执行派生类里的move()【超类的move()不执行】, 示例<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;Father类 【超类(父类】</div><div class="line">		public class Father &#123;</div><div class="line">			public Father()&#123;</div><div class="line">				System.out.println(&quot;Father constructor------------&quot;);</div><div class="line">				move();</div><div class="line">			&#125;</div><div class="line">			public void move()&#123;</div><div class="line">				System.out.println(&quot;Father move&quot;);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;Child类 【派生类(子类)】</div><div class="line">		public class Child extends Father&#123;</div><div class="line">			public Child()&#123;</div><div class="line">				System.out.println(&quot;Child constructor------------&quot;);</div><div class="line">				move();</div><div class="line">			&#125;</div><div class="line">			public void move()&#123;</div><div class="line">				System.out.println(&quot;Childe move&quot;);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line"></div><div class="line"></div><div class="line">&lt;3&gt;测试方法</div><div class="line">		public class test&#123;</div><div class="line">			public static void main(String[] args) &#123;</div><div class="line">						Father child = new Child();</div><div class="line">		//				Child child = new Child();	     两种结果一样</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">*************************************************</div><div class="line">控制台输出</div><div class="line">	Father constructor------------</div><div class="line">	Childe move</div><div class="line">	Child constructor----------------</div><div class="line">	Childe move</div></pre></td></tr></table></figure>
</li>
</ul>
<p>终结器</p>
<ul>
<li>仅在对象被垃圾收集器销毁时调用</li>
<li>关键字 protected 是为了保证在包外的代码不能访问 finalize() 方法【包外子类可以访问】</li>
<li>无法确定 finalize() 什么时候执行【如果你的程序在垃圾收集器发生之前就结束了，finalize() 方法将不会被执行。】<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">finalize()结构</div><div class="line">	protected void finalize( )&#123;</div><div class="line">		 ...</div><div class="line">	&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="7-异常处理"><a href="#7-异常处理" class="headerlink" title="7.异常处理"></a>7.异常处理</h2><p>三种类别</p>
<ul>
<li>检测异常      [IOException]</li>
<li>运行时异常  [RunntimeException]</li>
<li>错误  [Error]<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">		 ____Error(错误)</div><div class="line">Throwable			</div><div class="line">                                            	____IOException</div><div class="line">    	 _____Exception(异常)</div><div class="line">    	 		         ____RunntimeException</div></pre></td></tr></table></figure>
</li>
</ul>
<p>RuntimeException异常</p>
<ul>
<li>运行时异常(包含子类)将由系统自动抛出,不需要使用throw语句</li>
<li>Java编译器允许忽略运行时异常,一个方法可以既不捕捉,也不声明抛出运行时异常</li>
<li>例如”除数为0”等ArithmeticException,是RuntimeExcpetion的子类<br>​</li>
</ul>
<p>常见的异常</p>
<ul>
<li>JVM异常  [由JVM在逻辑层上专门抛出]</li>
<li>程序性异常 [由应用程序或是编写API的程序明确抛出]<br>​</li>
</ul>
<p>关键字</p>
<ul>
<li>throws</li>
<li>throw</li>
<li>finally  【无论是否抛出异常,都会执行finally代码块】<br>​</li>
</ul>
<p>try,catch,finally中返回值总结<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;finally中无return,try或者catch中有return</div><div class="line">    【在return前一定会执行finally的代码块,但finally内容不会影响返回值,返回值以try或者catch执行结果为主】</div><div class="line">                try&#123;</div><div class="line">                        ....</div><div class="line">                        return 1;</div><div class="line">                &#125;catch(Exception e)&#123;</div><div class="line">                        return 2;</div><div class="line">                &#125;finally&#123;&#125;</div><div class="line"></div><div class="line">&lt;2&gt;finally中有return,try或者catch中有return</div><div class="line">     【依旧一定会执行return,返回值以finally中的结执行结果为主】</div><div class="line">                try&#123;</div><div class="line">                    return 1;</div><div class="line">                &#125;catch(Exception e)&#123;</div><div class="line">                    return 2;</div><div class="line">                &#125;finally&#123;</div><div class="line">                    return 3;</div><div class="line">                &#125;</div></pre></td></tr></table></figure></p>
<p>捕获异常</p>
<ul>
<li>try/catch  【 [可添加finally{}]】</li>
<li>多个catch块 【[顺序依次寻找，范围由小_大，知道找到该异常类型]】<br>​</li>
</ul>
<p>抛出异常</p>
<ul>
<li>throws [方法定义时，定义抛出异常]</li>
<li>throw  [方法题内部抛出]<br>​</li>
</ul>
<p>自定义异常 [继承Exception类,异常类和其他类一样,包含字段和函数]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">class MyException extends Exception&#123;</div><div class="line">	public MyException()&#123;	</div><div class="line"></div><div class="line">	&#125;</div><div class="line">	public MyException(String message)&#123;</div><div class="line">		super(message);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>实际应用中的经验与总结</p>
<ul>
<li>处理运行时异常时,采用逻辑去合理规避同时辅助try-catch处理</li>
<li>在多重catch块后面,可以加一个catch(Exception)来处理可能会被遗漏的异常</li>
<li>对于不确定的代码,也可以加入try-catch,处理潜在异常</li>
<li>尽量去处理异常,切忌知识简单的调用printStackTrace()去打印输出</li>
<li>具体如何处理异常,要根据不同的业务需求和异常类型去决定</li>
<li>尽量添加finally去释放占用的资源<br>​</li>
</ul>
<p>程序代码出错</p>
<ul>
<li>java调试器为jdb.exe,对程序进行调试<br>​</li>
</ul>
<h2 id="8-面向对象【继承-多态-封装-抽象和接口】"><a href="#8-面向对象【继承-多态-封装-抽象和接口】" class="headerlink" title="8.面向对象【继承,多态,封装,抽象和接口】"></a>8.面向对象【继承,多态,封装,抽象和接口】</h2><p>类和对象</p>
<ul>
<li>【类】定义对象的行为和状态，的模版</li>
<li>【对象】 具有状态和行为<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;1.类 </div><div class="line">	局部变量</div><div class="line">	类变量(静态)</div><div class="line">	实例变量(非静态)</div><div class="line">	</div><div class="line">	构造器[无参／有参　构造方法]</div><div class="line">,2&gt;对象</div><div class="line">	声明</div><div class="line">	实例化</div><div class="line">	初始化</div></pre></td></tr></table></figure>
</li>
</ul>
<p>面向对象三大特征</p>
<ul>
<li>封装,继承,多态</li>
<li>c 是面向过程,java 和 c++ 都是面向对象<br>​</li>
</ul>
<p>面向对象的五大基本原则</p>
<ul>
<li>单一职责原则  [SRP]</li>
<li>开放封闭原则  [OCP]</li>
<li>里式替换原则  [LSP]</li>
<li>依赖倒置原则  [DIP]</li>
<li>接口隔离原则  [ISF]<br>​</li>
</ul>
<p>面向对象程序设计四大基本概念</p>
<ol>
<li>继承</li>
<li>多态</li>
<li>抽象</li>
<li>封装<br>​</li>
</ol>
<p>继承</p>
<ul>
<li>【IS-A关系】 继承关系 A is-a B(B是A的父类),使用insAtanceof关键字 检查左变量 是否 右类型(同类型 or 子类)</li>
<li>【HAS-A关系】 从属关系 A has a B(B是A的组成部分,例：属性)</li>
<li>【LIKE-A关系】 组合关系 A like a B(B是A的接口)</li>
<li>【继承缺点】1.父类变-子类必须变 2.强耦合关系 3.破坏了封装,对于父类,子类可以了解父类的实现细节</li>
<li>【子类继将继承父类所有的属性和方法】注意:1.父类private方法不能直接调用;2.静态方法不能重;3.父类构造函数不能被继承</li>
<li>【子类可以重写父类方法】final修饰的method的不能重写,重写时若需要调用父类函数时用super.函数名()</li>
<li>【子类重写父类方法】子类的访问权限&gt;=父类访问权限<br>​</li>
</ul>
<p>多态</p>
<ul>
<li>【父类引用指向子类对象】父类引用,实例化子类对象</li>
<li>【多接口机制】     指父类是多态,多个继承/接口</li>
<li>【子类可以覆盖(重写)父类函数】 必要调用时候用super关键字</li>
<li>【虚函数 】无论是什么数据类型的引用，运行时会调用被覆盖方法(只运行子类函数)，在编译时都会遵循于源码</li>
<li>【编译和运行】编译时多态【重载】和运行时多态 【动态绑定】</li>
<li>继承链中调用对象的方法存在优先级【this.show(O),super.show(O)、this.show((super)O)、super.show((super)O)】</li>
<li>经典案例<a href="http://blog.csdn.net/thinkGhoster/article/details/2307001" target="_blank" rel="external">深入理解java的多态性</a><br>​</li>
</ul>
<p>封装</p>
<ul>
<li>【特点】使类中字段私有，通过共有函数访问私有字段 (例如setter和getter,是该对象对外开发的接口)</li>
<li>【特点】良好的封装能够减少耦合,可以对成员进行更加精确的控制</li>
<li>【特点】使代码具有可维护性,灵活性和扩展性[类内部的结构可以自由修改]</li>
<li>【特点】隐藏信息,实现细节</li>
<li>【特点】封装确实可以使我们容易地修改类的内部实现，而无需修改使用了该类的客户代码(在setter和getter添加相应的业务逻辑)<br>​</li>
</ul>
<p>抽象</p>
<ul>
<li>【OOP(面向对象程序设计)中的抽象类】使用关键字abstract声明,extends继承</li>
<li>【特点】子类只能继承1个抽象类,必须实现所有抽象方法</li>
<li>【特点】接口能包含构造方法,不能被实例化</li>
<li>【特点】成员变量可以有final,也可包含非final</li>
<li>【特点】成员方法可以抽象也可以不抽象(抽象方法无方法体)</li>
<li>【特点】抽象类不能用static修饰方法(抽象类不能实例化,不能分配内存,而static修饰的方法在类实例化前就分配内存,矛盾)</li>
<li>【特点】抽象类必须被继承意义,final修饰类为终态,不能被继承,所以final不能修饰抽象类</li>
<li>【特点】抽象类可以在不提供接口方法实现的情况下实现接口。</li>
<li>【特点】以前的抽象类抽象方法默认是protected,jdk1.8后改成默认是default</li>
<li>【特点】子类抽象方法不能与父类抽象方法重名</li>
<li>【特点】abstract不能与final并列修饰同一个类</li>
<li>【特点】abstract 不能与 private、static、final 或 native 并列修饰同一个方法</li>
</ul>
<p>接口</p>
<ul>
<li>【是抽象方法的集合】 使用关键字interface声明,implements继承</li>
<li>【特点】子类可继承多个接口,必须实现接口内所有抽象方法</li>
<li>【特点】接口不能包含构造方法,不能被实例化</li>
<li>【特点】成员变量必须是public,static,final</li>
<li>【特点】成员方法必须是public,abstract,没有方法体</li>
<li>【特点】接口的成员变量默认public,static,final,需要直接附上初始值,子类实例类可以直接访问接口中的变量</li>
<li>【特点】不能用final修饰接口的成员方法</li>
<li>【特点】private和protected不能修饰接口,1.8以后支持static修饰接口,以前不支持</li>
<li>【注意】子类避免实现多个接口时,方法名出现重复</li>
</ul>
<p>抽象类与接口的区别</p>
<ol>
<li>抽象层次[抽象类是对类抽象,接口是对行为抽象]</li>
<li>跨域不同[抽象类体现继承,父类和派生类必须存在IS-A关系,接口是like-a关系]</li>
<li>设计层次[抽象类是底向上抽象而来,接口是自顶向下设计]<br>​</li>
</ol>
<h2 id="9-Java的数据结构【集合框架】"><a href="#9-Java的数据结构【集合框架】" class="headerlink" title="9.Java的数据结构【集合框架】"></a>9.Java的数据结构【集合框架】</h2><p>&emsp;Java中的集合类,是一种工具类,就像是容器,储存任意数量的具有共同属性的对象,java提供集合框架[java.util包].<br><br></p>
<p>参考资源</p>
<ul>
<li>集合框架[java.util包]</li>
<li><a href="http://www.tutorialspoint.com/java/java_collection_algorithms.htm" target="_blank" rel="external">The Collection Algorithms(所有算法实现的列表)</a></li>
</ul>
<p>作用</p>
<ul>
<li>在类的内部,对数据进行组织</li>
<li>简单而快速的搜索大数量的条目</li>
<li>有的集合接口,提供了一些列排列有序的元素,并且可以在序列中间快速的插入或者删除有关元素</li>
<li>有的集合接口,提供了映射关系,可以通过关键字(key)去快速查找到对应的唯一对象,而这个关键字可以是任意类型<br>​</li>
</ul>
<p>数组和集合的区别</p>
<ul>
<li>数组长度固定,集合长度可变</li>
<li>数组只能通过下标访问元素,类型固定,而有的集合可以通过任意类型查找所映射的具体对象<br>​</li>
</ul>
<p>集合框架体系图<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;常用两个2根接口</div><div class="line">			  ___List(序列)[有序,可重复]</div><div class="line">	Collection       ___Queue(队列)[有序,可重复]</div><div class="line">			  ___Set(集)[无序,不可重复(通过hashcode和equals函数保证)]</div><div class="line">	</div><div class="line">	Map       ___(键值对)</div></pre></td></tr></table></figure></p>
<p>Collection类【实现集合接口的标准集合类】<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">【ArrayList】   动态数组序列,异步,实现List接口</div><div class="line">【LinkedList】  双向链表,异步,实现List,Queue接口 </div><div class="line">【Vector】       动态数组,同步(线程安全)</div><div class="line">【Stack】         栈(后进先出)</div><div class="line">【HashSet】      哈希集</div><div class="line">                                (1.查询速度最快的集合; </div><div class="line">                                 2.内部HashCode实现;</div><div class="line">                                 3.内部顺序由哈希码决定;</div><div class="line">                                 4.不保证Set的迭代顺序 and 不保证顺序恒久不变),实现Set接口</div><div class="line">【LinkedHashSet】 继承HashSet,允许顺序插入迭代</div><div class="line">【TreeSet】            排序树集(1.内部TreeMap实现;2.使用元素自然顺序排序 or 使用提供的Comparator排序器排序)</div><div class="line">【HashMap】           哈希键值对</div><div class="line">                                    (1.哈希表数据结构实现;</div><div class="line">                                     2.j遇到冲突,使用散列链表的形式将所有相同的哈希地址的元素串起来)</div><div class="line">【TreeMap】           排序树键值对(</div><div class="line">                                     1.内部red-black(红-黑)数据结构实现;</div><div class="line">                                     2.实现了SortedMap接口);</div><div class="line">                                     3.需要维持内部元素的顺序,所以通常要比HashMap和HashTable慢</div><div class="line">【LinkedHashMap】     哈希键值对,允许顺序插入迭代</div><div class="line">【HashTable】     </div><div class="line">                        1.哈希表数据结构实现;</div><div class="line">                        2.解决冲突的方式与HashMap一样采用散列列表形式,不过性能比HashMap低;</div><div class="line">【Queue】	</div><div class="line">                        队列(先进先出),</div><div class="line">                        1.两类</div><div class="line">                                a.阻塞式队列(队列满了以后插入元素,抛出异常)</div><div class="line">                                b.双端队列(支持在头尾两端和移除元素)</div><div class="line"></div><div class="line">【PriorityQueue】 优先队列,是线程不安全</div><div class="line"></div><div class="line"> 【LinkedBlockingQueue】可选有界队列,线程安全,不允许有null值</div></pre></td></tr></table></figure></p>
<p>ArrayList特性</p>
<ul>
<li>底层是基于数组实现(动态数组),动态增长内存,初始容量10,默认扩容1.5倍</li>
<li>非线程安全</li>
<li>查找效率高(通过下标直接查找指定元素),插入删除效率低(需要大量移动元素)</li>
<li>允许元素为null</li>
<li>可以指定初始容量(提升速度“效率和资源利用率”)</li>
<li>实现了Serializable接口(支持序列化，可以通过序列化传输)</li>
<li>实现了RandomAccess接口(支持快速随机访问,通过下标序号)</li>
<li>实现了Cloneable接口(能被克隆)<br>​</li>
</ul>
<p>LinkedList特性</p>
<ul>
<li>底层是基于双向循环链表(头结点不存放数据)</li>
<li>非线程安全</li>
<li>基于链表实现,不存在容量不足问题【无扩容方法】</li>
<li>查找效率低(有加速动作-index &lt;&gt; size/2),插入删除效率高</li>
<li>可作为栈,队列和双端队列来使用</li>
<li>实现了Serializable接口(支持序列化)</li>
<li>实现了Cloneable接口(能被克隆)</li>
<li>允许元素为null<br>​</li>
</ul>
<p>Vector特性</p>
<ul>
<li>线程安全(相对安全，有时候需要添加同步语句保证线程安全)</li>
<li>默认容量为10,默认扩容2倍</li>
<li>很多方法加入synchronized关键字</li>
<li>允许元素为null</li>
<li>实现了Serializable接口(支持序列化，可以通过序列化传输)</li>
<li>实现了RandomAccess接口(支持快速随机访问,通过下标序号)</li>
<li>实现了Cloneable接口(能被克隆)<br>​</li>
</ul>
<p>HashMap特性</p>
<ul>
<li>非线程安全(多线程需采用concurrent并发包下的concurrentHashMap)</li>
<li>初始容量(默认16)和加载因子(默认为0.75)</li>
<li>key和value都允许为null</li>
<li>实现了Serializable接口(支持序列化，可以通过序列化传输)</li>
<li>实现了Cloneable接口(能被克隆)<br>​</li>
</ul>
<p>Hashtable特性</p>
<ul>
<li>线程安全</li>
<li>同样基于哈希表，同样每个元素都是key-value(内部也通过单链表解决冲突问题)</li>
<li>与HashMap存储结构和解决冲突的方法是相同的</li>
<li>默认初始容量11【HashMap初始为16，要求一定为2的整数次幂】</li>
<li>key和value都不允许为null</li>
<li>实现了Serializable接口(支持序列化，可以通过序列化传输)</li>
<li>实现了Cloneable接口(能被克隆)<br>​</li>
</ul>
<p>Arrays和Collections的作用(都在java.util包内)</p>
<ul>
<li>操作数组和集合的两个工具类</li>
<li>ArrayList和Vector中大量调用Arrays.Copyof()</li>
<li>Collections中有很多static方法可以返回集合类的synchronized版本(线程安全版, 要用线程安全的结合类，首选Concurrent并发包的集合类)<br>​</li>
</ul>
<p>Comparable接口</p>
<ul>
<li>实现该接口表示,该实例可以比较大小,可以进行自然排序</li>
<li>定义”默认”的比较规则</li>
<li>需要自定义实现compareTo()函数</li>
<li>compareTo()返回正数表示大,负数表示小,0标识相等<br>​</li>
</ul>
<p>Comparator接口</p>
<ul>
<li>用于定义”临时”比较规则</li>
<li>需自定义实现compare()方法</li>
<li>Comparator和Comparable都是Java集合框架的成员<br>​</li>
</ul>
<p>Iterator(迭代器)</p>
<ul>
<li>java.util包的接口,在集合中循环遍历元素</li>
<li>支持从源集合安全的删除对象(指针,it.remove()),当打开Iterator迭代集合同时有在对集合进行修改,避免ConcurrentModifiedException</li>
<li>只能遍历Collection的子类,不能遍历Map的子类</li>
<li>Collection的实现类都实现了iterator()，返回Iterator对象(ListIterator专门遍历List,EnumerationJDK.1.0引用，作用与其相同，功能要少,只能在Hashtable,Vector和Stack中使用)</li>
<li>ListIterator(接口) 继承了 Iterator [来允许一个列表的双向遍历和元素的修改]<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">public static void main(String[] args) &#123;	</div><div class="line">		List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();</div><div class="line">		for(int i = 0; i &lt; 100; i++)&#123;</div><div class="line">			list.add(i);</div><div class="line">		&#125;</div><div class="line">		Iterator&lt;Integer&gt; it = list.iterator();</div><div class="line">		while(it.hasNext())&#123;</div><div class="line">			System.out.print(it.next() + &quot; &quot;);</div><div class="line">		&#125;</div><div class="line">	&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>判断是集合中是否拥有指定元素</p>
<ul>
<li>使用contains()或者containsValue()【键值对】</li>
<li>遍历List中每一个元素，然后调用每一个元素的equals()，去跟contains()中方法参数进行比较,如果有一个元素的equals()返回true,则结果最终返回true(如果是自定义Object对象,需要根据需求重写equals方法),时间复杂度是O(n)<br>​</li>
</ul>
<p>集合排序<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;默认升序【注意:进行sort排序时,列表中的所有元素都必须实现Comparable接口否则编译器会提错】</div><div class="line">		Collections.sort(List&lt;T&gt; list); //默认从小到大</div><div class="line"></div><div class="line"></div><div class="line">&lt;1-2&gt;将元素反转【顺序调换】</div><div class="line">		Collections.reverse(List&lt;T&gt; list);</div><div class="line"></div><div class="line">&lt;2&gt;自定义排序 [对象外部,可改为升序 or 降序]</div><div class="line">		Collections.sort(list, new Comparator&lt;Integer&gt;() &#123;  </div><div class="line">				    @Override  </div><div class="line">				    public int compare(Integer a, Integer b) &#123;  </div><div class="line">				        return a&gt;b ?  1: ( a==b ? 0 : -1);    //a &gt;b(1) a==b(0) a&lt;b(-1)</div><div class="line">				    &#125;  </div><div class="line">				&#125;);  </div><div class="line"></div><div class="line"></div><div class="line">&lt;3&gt;对象排序[实现Comparable接口,对象内部定义排序]</div><div class="line">			/*Bean对象*/</div><div class="line">			public class Person implements Comparable&lt;Person&gt;&#123;  </div><div class="line">			    private String name;  </div><div class="line">			    private int age;  </div><div class="line">	</div><div class="line">			    public Person(String name, int age) &#123;  </div><div class="line">			        this.name = name;  </div><div class="line">			        this.age = age;  </div><div class="line">			    &#125;  </div><div class="line">			    </div><div class="line">			    //实现compareTo()函数</div><div class="line">			    @Override  </div><div class="line">			    public int compareTo(Person o) &#123;  </div><div class="line">			        return (o.age &lt; age) ? -1 : ((o.age==age)?0 : 1);     //这里定义根据年龄，降序 </div><div class="line">			    &#125;  </div><div class="line">			      </div><div class="line">			    //getter</div><div class="line">			    public String getName()&#123;		</div><div class="line">			    	return name; </div><div class="line">			    &#125;</div><div class="line">			    public int getAge()&#123;			</div><div class="line">			    	return age;  	</div><div class="line">			    &#125;</div><div class="line">			&#125;  </div><div class="line">	</div><div class="line">			/*测试类*/</div><div class="line">			public class test&#123;</div><div class="line">				public static void main(String[] args) &#123;	</div><div class="line">					Person a = new Person(&quot;皮皮翔&quot;,5);  </div><div class="line">					Person b = new Person(&quot;皮皮勋&quot;,62);  </div><div class="line">					Person c = new Person(&quot;皮皮强&quot;,12);  </div><div class="line">					List&lt;Person&gt; plist = new ArrayList&lt;Person&gt;();  </div><div class="line">					plist.add(a);  </div><div class="line">					plist.add(b);  </div><div class="line">					plist.add(c);  </div><div class="line">					Collections.sort(plist);  </div><div class="line">					for(Person info : plist)&#123;  </div><div class="line">					    System.out.println(&quot;Name:&quot;+info.getName()+&quot;	-&gt;	Age:&quot;+info.getAge());  </div><div class="line">					&#125;  </div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">	</div><div class="line">				*************输出结果**************</div><div class="line">				Name:皮皮勋	-&gt;	Age:62</div><div class="line">				Name:皮皮强	-&gt;	Age:12</div><div class="line">				Name:皮皮翔	-&gt;	Age:5</div></pre></td></tr></table></figure></p>
<p>集合去重<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;ArrayList有序去重【自定义对象】</div><div class="line">	     //a.将集合中元素倒叙</div><div class="line">	        Collections.reverse(clist);  //反转排序</div><div class="line">	  	    //Collections.sort(clist);    //自定义对象倒叙，内部需实现Comparable接口[里面的public int compareTo(Object obj) ]</div><div class="line"></div><div class="line"></div><div class="line">	    //b.将集合元素去重</div><div class="line">	        LinkedHashSet&lt;ClassMastesUser&gt;  linkSet=new LinkedHashSet&lt;ClassMastesUser&gt;(clist); [需根据需求重写hashCode()和equals(),Set集合先比较hasCode值,如果相等,再比较equals]</div><div class="line">	        clist.clear();</div><div class="line">	        clist.addAll(linkSet);</div><div class="line">	        Collections.reverse(clist);</div></pre></td></tr></table></figure></p>
<h2 id="10-泛型与对象序列化"><a href="#10-泛型与对象序列化" class="headerlink" title="10.泛型与对象序列化"></a>10.泛型与对象序列化</h2><p>泛型(generics)的应用</p>
<ul>
<li>限制类型参数(不能是原始类型(例:int double),必须是引用类型)</li>
<li>泛型函数</li>
<li>泛型类<br>​</li>
</ul>
<p>特点</p>
<ul>
<li>只在程序源码中存在(编译后字节码文件,已被替换为原来原生类型,并在相应类型插入强制转换代码)</li>
<li>对于运行期的Java语言来说，ArrayList<string>和ArrayList<integer>就是同一个类</integer></string></li>
<li>泛型技术实际是Java语言的一颗语法糖(Java语言中的泛型实现方法称为类型擦除,基于这种方法实现的泛型被称为伪泛型)</li>
<li>Java中集合的泛型,是防止错误输入的,只能在编译阶段有效【有泛型和无泛型的ArrayList,得到的Class对象进行==比较,返回true】</li>
<li>可以对对象的Class进行反射操作,绕过泛型添加元素<br>​</li>
</ul>
<p>简单实例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;遍历打印不同类型的数组</div><div class="line">		public class test&#123;	</div><div class="line">			public static &lt;E&gt; void printArray(E [] array)&#123;</div><div class="line">				for(E element: array)&#123;    //遍历数组</div><div class="line">					System.out.print(element);</div><div class="line">				&#125;</div><div class="line">				System.out.println(); //换行</div><div class="line">			&#125;</div><div class="line">			</div><div class="line">			public static void main(String[] args) &#123;</div><div class="line">				  Integer[] intArray = &#123; 1, 2, 3, 4, 5 &#125;;</div><div class="line">			      Double [] doubleArray = &#123; 1.1, 2.2, 3.3, 4.4 &#125;;</div><div class="line">			      Character[] charArray = &#123; &apos;H&apos;, &apos;E&apos;, &apos;L&apos;, &apos;L&apos;, &apos;O&apos; &#125;;</div><div class="line">			      </div><div class="line">			      printArray(intArray);</div><div class="line">			      printArray(doubleArray);</div><div class="line">			      printArray(charArray);</div><div class="line">			      </div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;泛型类</div><div class="line">		public class test&#123;	</div><div class="line"></div><div class="line">			public static void main(String[] args) &#123;</div><div class="line">				//1.声明</div><div class="line">				Box&lt;Integer&gt; iBox = new Box&lt;Integer&gt;();</div><div class="line">			    Box&lt;String&gt; sBox = new Box&lt;String&gt;();  </div><div class="line">			    </div><div class="line">			    //2.赋值</div><div class="line">			    iBox.add(10);</div><div class="line">			    sBox.add(&quot;皮皮&quot;);</div><div class="line">			    </div><div class="line">			    //3.输出</div><div class="line">			    System.out.println(iBox.get());</div><div class="line">			    System.out.println(sBox.get());</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	</div><div class="line">		class Box&lt;T&gt;&#123;</div><div class="line">			private T t;</div><div class="line">			public void add(T t)&#123;</div><div class="line">				this.t =t;</div><div class="line">			&#125;</div><div class="line">			public T get()&#123;</div><div class="line">				return t;</div><div class="line">			&#125;</div><div class="line">		&#125;</div></pre></td></tr></table></figure></p>
<hr>
<p>对象序列化</p>
<ul>
<li>Java的一种对象序列化的机制</li>
<li>对象被描述成一系列包括对象的数据,以及有关对象的类型，和在对象中存储的数据的类型<strong>的字节</strong></li>
<li>一个序列化的对象被写进文件,能在文件中被读出,并反序列化为类型信息和表示对象的字节,并且它的数据可以被用来重新创建为内存中的对象</li>
<li>整个过程都是 Java 虚拟机（JVM）独立的，也就是说，在一个平台上序列化的对象可以在另一个完全不同的平台上反序列化该对象。<br>​</li>
</ul>
<p>序列化标准</p>
<ul>
<li>类必须实现java.io.Serializable[接口]【不实现就不能序列化】</li>
<li>标记为transient(瞬态)的元素,不会进行jvm的默认序列化</li>
<li>序列化对象到文件中时候,java中标准是文件扩展名(后缀)为.ser</li>
<li>一个类实现了Serializable接口,那么其子类都能进行序列化</li>
<li>若父类没有实现Serializable接口,子类继承父类并实现Serializable接口,那么子类执行序列化操作时,父类的构造函数会被默认调用(如果都执行了序列化,则父类的构造函数是不会被调用的)<br>​</li>
</ul>
<p>案例【对象序列化和反序列化】<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div></pre></td><td class="code"><pre><div class="line">		class Employee implements Serializable&#123;</div><div class="line">			public String name;</div><div class="line">			public String  address;</div><div class="line">			public transient int SSN;</div><div class="line">			public int number;</div><div class="line">			public void check()&#123;</div><div class="line">				System.out.println(&quot;name : &quot; + name + &quot; --- address : &quot; + address);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		public class test&#123;	</div><div class="line">			//测试主方法</div><div class="line">				public static void main(String[] args) &#123;</div><div class="line">					Employee e = new Employee();</div><div class="line">						e.name = &quot;皮皮&quot;;</div><div class="line">						e.address = &quot;大街上&quot;;</div><div class="line">						e.SSN = 142101;</div><div class="line">						e.number = 1;</div><div class="line">						</div><div class="line">					doSerializable(e);										 //执行序列化</div><div class="line">					doInSerializable(&quot;src/test/object.ser&quot;);    //执行反序列化</div><div class="line">				&#125;</div><div class="line">				</div><div class="line">			//A-序列化</div><div class="line">			public static &lt;E&gt; void doSerializable(E e)&#123;//参数： 对象(泛型)</div><div class="line">				try&#123;</div><div class="line">					//1.定义</div><div class="line">					FileOutputStream fileOut = new FileOutputStream(&quot;src/test/object.ser&quot;);</div><div class="line">					ObjectOutputStream  out = new ObjectOutputStream(fileOut);</div><div class="line">					</div><div class="line">					//2.写入流</div><div class="line">					out.writeObject(e);</div><div class="line">					</div><div class="line">					//3.关闭流</div><div class="line">					out.close();</div><div class="line">					fileOut.close();</div><div class="line">					</div><div class="line">					System.out.println(&quot;序列化成功！  -&gt;	文件保存至项目根路径/src/test/object.ser&quot;);</div><div class="line">					</div><div class="line">				&#125;catch(IOException i)&#123;</div><div class="line">					i.printStackTrace();</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">			</div><div class="line">			//B-反序列化</div><div class="line">			public static void doInSerializable(String path)&#123; //参数：路径</div><div class="line">			</div><div class="line">				Employee e = null;    //泛型</div><div class="line">				try&#123;</div><div class="line">					//1.定义</div><div class="line">					FileInputStream  fileIn = new FileInputStream(path);</div><div class="line">					ObjectInputStream in = new ObjectInputStream(fileIn);</div><div class="line">					</div><div class="line">					//2.读取流</div><div class="line">					e = (Employee)in.readObject();</div><div class="line">					</div><div class="line">					//关闭流</div><div class="line">					in.close();</div><div class="line">					fileIn.close();</div><div class="line">	</div><div class="line">					System.out.println(&quot;反序列化成功！  -&gt;	成功读取&quot; + path + &quot;文件&quot;);</div><div class="line">					</div><div class="line">				&#125;catch(IOException i)&#123;</div><div class="line">					i.printStackTrace();</div><div class="line">				&#125;catch(ClassNotFoundException c)&#123;</div><div class="line">					System.out.println(&quot;没有发现文件&quot;);</div><div class="line">					c.printStackTrace();</div><div class="line">				&#125;</div><div class="line">						</div><div class="line">				//打印输出【验证是否反序列化成功】</div><div class="line">				    System.out.println(&quot;Name: &quot; + e.name);</div><div class="line">				    System.out.println(&quot;Address: &quot; + e.address);</div><div class="line">				    System.out.println(&quot;SSN: &quot; + e.SSN);       //因为SSN设置了transient(瞬态),不能被序列化，所以输出的是SSN的类型(int)的默认值0</div><div class="line">				    System.out.println(&quot;Number: &quot; + e.number);</div><div class="line">			</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	</div><div class="line">			*******************控制台输出***********************</div><div class="line">	</div><div class="line">				序列化成功！  -&gt;	文件保存至项目根路径/src/test/object.ser</div><div class="line">				反序列化成功！  -&gt;	成功读取src/test/object.ser文件</div><div class="line">				Employee对象反序列化结果-------------------&gt;</div><div class="line">				Name: 皮皮</div><div class="line">				Address: 大街上</div><div class="line">				SSN: 0</div><div class="line">				Number: 1</div><div class="line"></div><div class="line"></div><div class="line">注意：</div><div class="line">	1.object.ser是生成的序列化文件</div><div class="line">	2.Emplyee对象的SSN字段,被设置成transient(瞬态),所以没被序列化</div><div class="line">	3.反序列化时,调用readObject() ,得到结果需要强转为对象类型</div><div class="line">	4.try/catch需要捕获2个异常(IOException 和 ClassNotFoundException)</div></pre></td></tr></table></figure></p>
<h2 id="11-静态关键字static"><a href="#11-静态关键字static" class="headerlink" title="11.静态关键字static"></a>11.静态关键字static</h2><p>&emsp; “static”关键字表明一个成员变量or成员方法可以在没有所属的类的实例变量的情况下被访问。</p>
<p>Java中的static方法不能被覆盖</p>
<ul>
<li>因为方法覆盖是基于运行时动态绑定的,而static方法是编译时静态绑定的。static跟类的任何实例都不相关,概念上不适用<br>​</li>
</ul>
<p>不可以在static环境下访问非static变量</p>
<ul>
<li>static是属于类的,在该类中所有实例的值是共享唯一的,当Java虚拟机载入类时,会对static变量进行初始化,如果代码尝试不用实例访问非static变量,编译器会报错,因为非static变量还没被创建出来,没有跟任何实例关联<br>​</li>
</ul>
<p>静态方法</p>
<ul>
<li>静态方法中,可以直接调用同类中的静态成员,但不能直接调用非静态成员[(变量 or 方法)如需调用,则要创建类的对象]</li>
<li>普通成员方法中,可以直接访问同类的非静态变量和静态变量<br>​</li>
</ul>
<p>静态初始块</p>
<ul>
<li>只在类加载时执行,只执行1依次</li>
<li>只能给静态变量赋值,不能给普通成员变量赋值<br>​</li>
</ul>
<p>类的默认执行顺序 [Father.java 和 Child.java(extends Father)]</p>
<ol>
<li>父类静态变量</li>
<li>父类的静态代码块【static{ … }】</li>
<li>子类静态变量</li>
<li>子类静态代码块</li>
<li>父类构造(非静态)代码块【{ … }】</li>
<li>父类构造函数</li>
<li>子类构造代码块</li>
<li>子类构造函数<br><br></li>
</ol>
<hr>
<h2 id="12-内部类"><a href="#12-内部类" class="headerlink" title="12.内部类"></a>12.内部类</h2><p>&emsp;《Think in java》中的一句话<code>使用内部类最吸引人的原因是：每个内部类都能独立地继承一个（接口的）实现，所以无论外围类是否已经继承了某个（接口的）实现，对于内部类都没有影响</code><br><br></p>
<p>特点：【部分摘自《Think in java》】</p>
<ol>
<li>解决多重继承的问题</li>
<li>内部类可以用多个实例[每个实例都有自己的状态信息 and 与其他外围对象的信息相互独立]</li>
<li>在单个外围类中，可以让多个内部类以不同的方式实现同一个接口，或者继承同一个类</li>
<li>创建内部类对象,不依赖于外围类对象的创建【内部类对象需要另外创建,[<br>外部类.内部类 内部类对象名 = 外部类对象名.new 内部类()]】</li>
<li>内部类并没有令人迷惑的“is-a”关系，他就是一个独立的实体</li>
<li>内部类提供了更好的封装，除了该外围类，其他类都不能访问 </li>
<li>内部类无限制访问外围类元素</li>
<li>内部类是编译时的概念【编译成功后,它就与外围类属于两个完全不同的类,会生成两个文件(例如:Test.class和Test&amp;Inner.class),它们之间的联系依然存在】</li>
<li>内部类可以使用代码块<br>​</li>
</ol>
<p>外部类和内部类的修饰符区别<br>外部类只用public,abstract,final<br>内部类可以用修饰成员变量的修饰符修饰内部类,比如private,static,protected</p>
<p>final的使用</p>
<ul>
<li>所在的方法的形参需要被内部类(局部内部类)里面使用时，该形参必须为 final<br>​</li>
</ul>
<p>四种内部类类型:</p>
<ul>
<li>成员内部类</li>
<li>局部内部类 </li>
<li>匿名内部类 </li>
<li>静态内部类<br>​</li>
</ul>
<p>成员内部类</p>
<ul>
<li>定义在Outer类的内部,相当于Outer类一个成员变量的位置,可适用任意的访问控制符(public,protected,private)</li>
<li>Inner(内部)类可以直接访问Outer(外部)类中的数据,不受访问控制符影响(可直接访问私有属性)</li>
<li>Outer类不能直接使用Inner类的成员和方法</li>
<li>定义后,必须Outer类对象来创建Inner类对象,不能直接new(例:内部类 对象名 = 外部类对象.new 内部类())</li>
<li>Outer类和Inner类具有相同成员变量or方法时,Inner默认访问自己的,如果要访问外部类,需要使用this关键字</li>
<li>编译文件后,会初相两个.class</li>
<li>当于非静态内部类,可以直接访问外围类的数据(包含私有数据)<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">public  class Test &#123;</div><div class="line">            private String name;</div><div class="line">            public void setName(String name)&#123;</div><div class="line">                this.name = name;</div><div class="line">            &#125;</div><div class="line">            //成员内部类</div><div class="line">            public class Persion&#123;</div><div class="line">                public void run()&#123;</div><div class="line">                    System.out.println( name + &quot;在奔跑&quot;);  //调用外围类的成员变量</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            </div><div class="line">            //测试主方法</div><div class="line">            public static void main(String[] args) &#123;</div><div class="line">                Test t = new Test();</div><div class="line">                t.setName(&quot;皮皮&quot;);</div><div class="line">                Persion  p = t.new Persion();</div><div class="line">                p.run();</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        *************控制台输出****************</div><div class="line">                    皮皮在奔跑</div></pre></td></tr></table></figure>
</li>
</ul>
<p>局部内部类</p>
<ul>
<li>不能在方法以外的地方使用</li>
<li>不能使用访问控制符(private,default,protected,public)和static修饰符<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">public  class Test &#123;</div><div class="line">            public void show(final String name)&#123;  //声明final的形参，才能被内部里调用</div><div class="line">                class Person&#123;</div><div class="line">                    public  Person()&#123;</div><div class="line">                        System.out.println(name + &quot;在吃饭&quot;);  </div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">                Person p = new Person();</div><div class="line">            &#125;</div><div class="line">            </div><div class="line">            //主方法</div><div class="line">            public static void main(String[] args) &#123;</div><div class="line">                Test t = new Test();</div><div class="line">                t.show(&quot;皮皮&quot;);</div><div class="line">            &#125;</div><div class="line">        &#125;   </div><div class="line"></div><div class="line">    *************控制台输出****************</div><div class="line">                 皮皮在奔跑</div></pre></td></tr></table></figure>
</li>
</ul>
<p>匿名内部类</p>
<ul>
<li>使用时,必须继承一个类 or 实现一个接口(两者不能兼得,同时也只能各有1个)</li>
<li>本身不能是抽象的,必须实现继承or接口的所有抽象方法</li>
<li>不能定义构造函数</li>
<li>不能有static的成员变量和方法</li>
<li>类似于”局部内部类”,所以局部内部类所有限制同样生效<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">interface Wing&#123;                                              //翅膀接口</div><div class="line">        public void fly(); </div><div class="line">    &#125;</div><div class="line">    abstract class Animal implements Wing&#123;   //动物抽象类</div><div class="line">        public abstract void eat ();</div><div class="line">    &#125;</div><div class="line">    public  class Test &#123;</div><div class="line">        public void test(Animal animal)&#123;            //Test对象的测试方法，传入一个Animal对象</div><div class="line">            animal.eat();</div><div class="line">            animal.fly();</div><div class="line">        &#125;</div><div class="line">        public static void main(String[] args) &#123;</div><div class="line">            Test t  = new Test();</div><div class="line">            t.test(new Animal()&#123;                             //调用test方法,且用匿名内部类去实现 动物抽象类 and 翅膀接口的 抽象方法</div><div class="line">                @Override</div><div class="line">                public void eat()&#123;</div><div class="line">                    System.out.println(&quot;动物需要吃饭&quot;);</div><div class="line">                &#125;</div><div class="line">                @Override</div><div class="line">                public void fly()&#123;</div><div class="line">                    System.out.println(&quot;有翅膀的动物可以飞&quot;);</div><div class="line">                &#125;</div><div class="line">            &#125;);</div><div class="line">        &#125;</div><div class="line">    &#125;   </div><div class="line"></div><div class="line"></div><div class="line">    *************控制台输出****************</div><div class="line">                动物需要吃饭</div><div class="line">                有翅膀的动物可以飞</div></pre></td></tr></table></figure>
</li>
</ul>
<p>静态内部类</p>
<ul>
<li>不能直接访问Outer类发的非静态成员(可通过“new 外部类().成员”)<br>+【同名问题】1.与Outer类的静态成员名相同,使用”类名.静态成员访问”;2.与Outer类的静态成员名不同,使用”静态成员名”直接访问;</li>
<li>创建静态内部类对象时,不需要外部类对象”内部类 对象名 = new 内部类()”</li>
<li>只有静态内部类才可以用关键字static<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">public  class Test &#123;</div><div class="line">            static private String name;</div><div class="line">            private Integer height;</div><div class="line">            private Integer weight;</div><div class="line">            </div><div class="line">            static class Animal&#123;</div><div class="line">                static  private String age;</div><div class="line">                public static void show()&#123;</div><div class="line">                    name = &quot;皮皮&quot;;</div><div class="line">                    age = &quot;21&quot;;</div><div class="line">                    System.out.println(&quot;这个动物 name : &quot; + name  + &quot;------age :&quot; + age); //只能访问外部静态的name,不能访问非静态的height,weight</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line"></div><div class="line">            //主方法</div><div class="line">            public static void main(String[] args) &#123;</div><div class="line">                Test.Animal.show();  //直接 外围类名.内部类名.方法名()调用</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        *************控制台输出****************</div><div class="line">            这个动物 name : 皮皮------age :21</div></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h2 id="13-多线程基础"><a href="#13-多线程基础" class="headerlink" title="13.多线程基础"></a>13.多线程基础</h2><p>进程</p>
<ul>
<li>程序(任务)的执行过程</li>
<li>持有资源(共享内存,共享文件)和线程<br>​</li>
</ul>
<p>线程</p>
<ul>
<li>线程是系统中最小的执行单元</li>
<li>同一进程中有多个线程</li>
<li>线程共享进程的资源</li>
<li>java工具,查看线程类型(用户or守护)和线程状态【<code>jstat.exe</code>命令行工具,<code>jvisualvm.exe</code>界面话工具】<br>​</li>
</ul>
<p>进程和线程的区别</p>
<ul>
<li>【定义】进程是执行着的应用程序,线程是进程内部的一个执行序列</li>
<li>【从属关系】进程划分大于线程,一个进程可以包含多个线程</li>
<li>【形式】进程是程序的一个动态形式,是CPU,内存等资源占用的基本单位;线程无法占用这些资源</li>
<li>【通信】进程相互独立,通信困难;线程共享一块内存区域,通信方便</li>
<li>【固定】进程执行过程中,包含比较固定的入口,执行顺序,出口;而线程的这些过程被应用程序所控制<br>​</li>
</ul>
<p>Java线程两种类型<br>1.【用户线程】运行在前台,执行具体的任务(例:程序主线程,连接网络的子线)<br>2.【守护线程】运行在后台,为其他前台线程服务</p>
<p>守护线程的特点</p>
<ul>
<li>一旦所有用户线程都结束运行,守护线程会随 JVM 一起结束工作(自动结束)</li>
<li>【应用】数据连接池中的和JVM虚拟机启动后的监测线程,垃圾回收线程</li>
<li>通过Thread类的<code>setDaemon(true)</code>,设置当前线程为守护线程[]</li>
<li>【注意】setDaemon(true)必须在start()方法前调用,否则会抛出IllegalThreadStateException异常</li>
<li>【注意】在守护线程中产生的新线程也是守护线程</li>
<li>【注意】不是所有任务都可以分配守护线程(比如读写操作 or 计算逻辑)<br>​</li>
</ul>
<p>线程的生命周期</p>
<ul>
<li>【新建New】</li>
<li>【可运行Runnable】调用线程的start(),此时线程只是进入线程队列,等待获取CPU服务</li>
<li>【运行 Running】处于就绪的线程,获取了PCU资源,进入运行状态,指向run()内程序代码</li>
<li>【阻塞 Blocked】由于某些原因而暂时让出CPU资源,暂停自己的执行(例如:调用sleep())</li>
<li>【死亡 Dead】 线程的run()执行完毕 or 线程调用了stop()<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt; 新建( new )：新创建了一个线程对象。</div><div class="line"></div><div class="line">&lt;2.&gt;可运行( runnable )：线程对象创建后，其他线程(比如 main 线程）调用了该对象 的 start ()方法。该状态的线程位于可运行线程池中，等待被线程调度选中，获 取 cpu 的使用权 。</div><div class="line"></div><div class="line">&lt;3&gt;运行( running )：可运行状态( runnable )的线程获得了 cpu 时间片（ timeslice ） ，执行程序代码。</div><div class="line"></div><div class="line">&lt;4&gt; 阻塞( block )：阻塞状态是指线程因为某种原因放弃了 cpu 使用权，也即让出了 cpu timeslice ，暂时停止运行。直到线程进入可运行( runnable )状态，才有 机会再次获得 cpu timeslice 转到运行( running )状态。阻塞的情况分三种：</div><div class="line">          (一). 等待阻塞：运行( running )的线程执行 o . wait ()方法， JVM 会把该线程放 入等待队列( waitting queue )中。</div><div class="line">          (二). 同步阻塞：运行( running )的线程在获取对象的同步锁时，若该同步锁 被别的线程占用，则 JVM 会把该线程放入锁池( lock pool )中。</div><div class="line">          (三). 其他阻塞: 运行( running )的线程执行 Thread . sleep ( long ms )或 t . join ()方法，或者发出了 I / O 请求时， JVM 会把该线程置为阻塞状态。            当 sleep ()状态超时、 join ()等待线程终止或者超时、或者 I / O 处理完毕时，线程重新转入可运行( runnable )状态。</div><div class="line">&lt;5&gt; 死亡( dead )：线程 run ()、 main () 方法执行结束，或者因异常退出了 run ()方法，则该线程结束生命周期。死亡的线程不可再次复生。</div></pre></td></tr></table></figure>
</li>
</ul>
<p>线程优先级</p>
<ul>
<li>1到10的范围内,默认优先级为5</li>
<li>MIN_PRIORITY(表示常数1),MAX_PRIORITY(常熟10),NORM_PRIORITY(常数5)<br>​</li>
</ul>
<p>四种方式创建线程  </p>
<ol>
<li>继承Thread类，重写run方法；</li>
<li>实现Runnable接口，重写run方法，但是比继承Thread类好用，实现接口还可以继承类，避免了单继承带来的局限性；</li>
<li>实现callable接口，重写call方法(优点是可以获取返回值)</li>
<li>使用Executor框架实现线程池<br>​</li>
</ol>
<p>停止线程的方法</p>
<ol>
<li>【使用退出的标志】全局变量,用volatie关键字修饰变量(可见性关键,保证了线程正确的读取变量的值)</li>
<li>【使用stop()】 突然立刻停止，强行关闭,已被淘汰</li>
<li>【使用interrupt()】 线程1由于sleep,join等方法进入阻塞状态,其他线程运行中调用线程1的interrup(),则清除线程1的中断状态(isterrupted()-中断标志为false和并当前线程收到InterrruptedException异常)<br>​</li>
</ol>
<p>线程之间的交互<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">【同步的实现】</div><div class="line">【wait() 】在其他线程调用此对象的notify()或者notifyAll()之前,线程等待</div><div class="line">【notify() 】随机唤醒此对象监视器上等待的单个线程</div><div class="line">【nofifyAll()】唤醒此对象监视器上等待的所有线程</div><div class="line">【可见性】一个线程对共享变量值的修改,能够及时被其他线程看到</div><div class="line">【共享变量】如果一个变量在多个线程的工作内存中都存在副本,那么这几个变量就是这几个线程的共享变量</div></pre></td></tr></table></figure></p>
<p>同步方法和同步代码块的区别</p>
<ul>
<li>【锁】同步方法默认用this 或者当前类class对象作为锁,同步代码快可以自主选择以什么来加锁(比同步方法更细颗粒度),可以之选会发生同步问题的部分代码,而不是整个方法</li>
<li>【修饰】同步方法用关键字synchronized修饰,同步代码只修饰需要进行同步的代码用<code>synchronized(object){ 代码.... }</code><br>​</li>
</ul>
<p>在监视器(Monitor)内部,如果和做到线程同步</p>
<ul>
<li>监视器和锁在Java虚拟机中一块使用,监视器监视一块同步代码块,确保依次只有一个线程执行同步代码快</li>
<li>每一个监视器都和一个对象引用相关联</li>
<li>线程在获取锁之前不运行执行同步代码块<br>​</li>
</ul>
<p>死锁</p>
<ul>
<li>是指多个进 程因竞争资源而造成的一种僵局（互相等待），若无外力作用，这些进程都将无法向前推进</li>
<li>【死锁产生的四个必要条件】<ul>
<li>互斥条件;</li>
<li>.不剥夺条件;</li>
<li>请求和保持条件;</li>
<li>循环等待条件<br>​</li>
</ul>
</li>
</ul>
<p>如何确保N个线程可以访问N个资源同时不导致死锁</p>
<ul>
<li>指定获取锁的顺序,并强制线程按照指定顺序获取锁(所有线程以同样顺序加锁和释放锁,就不会造成死锁了)<br>​</li>
</ul>
<p> 线程的应用实例和场景:</p>
<ul>
<li>【线程池】     实现Thread子类的实例可以执行多个实现了Runnable的线程</li>
<li>【共享变量】   关键字volatile声明,所有线程可见,读取最后一次修改</li>
<li>【同步关键字】 声明为synchronized<br><br></li>
</ul>
<p>Thread(继承父类)和Runnable(实现接口)的区别</p>
<ul>
<li>Runnable方式可以避免Thread方式由于Java单继承特性带来的缺陷</li>
<li>Runnable的代码可以被多个线程(Thread实例)共享,适用于多个线程处理“同一资源”的情况 【一个实现Runnable对象,分别构建三个Thread】<br><br></li>
</ul>
<p>典型例题<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;java的main线程是不是最后一个退出的线程</div><div class="line">           a. JVM会在所有的非守护线程（用户线程）执行完毕后退出；</div><div class="line">           b. main线程是用户线程；</div><div class="line">           c. 仅有main线程一个用户线程执行完毕，不能决定JVM是否退出，(也即是说main线程并不一定是最后一个退出的线程)</div><div class="line"></div><div class="line">&lt;2&gt;Thread.run(),并没有启动一个新的线程，而只是调用线程中名为run()方法</div><div class="line">     Thread.start(),启动线程并调用run()方法</div><div class="line"></div><div class="line"></div><div class="line">&lt;3&gt; 创建时，定义线程的名字(方便根据名字查找哪个线程正在输出)</div><div class="line">    MyRunnable runnable = new MyRunnable();</div><div class="line">    Thread thread = new Thread(runnable, &quot;New Thread Name&quot;);</div><div class="line"></div><div class="line">&lt;4&gt;得到当先线程的名字(Thread.currentThread() -&gt; 得到当前线程的引用)</div><div class="line">    String threadName = Thread.currentThread().getName();</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>Thread类常用方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">【获取线程名称】getName();</div><div class="line">【取得当前线程对象】currentThread();</div><div class="line">【判断是否启动】isAlive();</div><div class="line">【强行运行[其余所有等待]】：join();</div><div class="line">【线程休眠】：sleep();</div><div class="line">【线程礼让(当前线程释放处理资源)】：yield();</div><div class="line">【配套锁】suspend()和resume()配套使用,suspend使线程进入阻塞,并不会自动恢复,必须等其对应的resume被调用时,才能使线程进入可执行状态</div><div class="line"></div><div class="line">注意：方法容易造成死锁,已被标记过时(Thread.suspend行为被打断不会导致InterruptedException)</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>ThreadLocal类</p>
<ul>
<li>【用途】用于创建一个线个线程都提供一个变量的副本,为每个线程都维护了自己独有的变量拷贝(重要作用在于数据程本地变量</li>
<li>【原理】采用哈希表的方式来为每的独立,而不是多线程的数据共享)</li>
<li>【优点】保证各个线程间数据安全,每个线程的数据不会被另外线程访问和破坏</li>
<li>【应用场景】数据库连接,既可以保证线程安全,又可以让性能不会太低,缺点是占用较多的空间<br><br></li>
</ul>
<p>java创建线程的四种方</p>
<ul>
<li>实现Runnable接口式</li>
<li>继承Thread类</li>
<li>匿名内部类[继承Thread(有对象 or 无对象)]</li>
<li>匿名内部类[实现Runnable(有对象 or 无对象)]<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;实现Runnable接口</div><div class="line">        class R implements Runnable&#123;</div><div class="line">            public void run()&#123;</div><div class="line">                for(int i = 0; i &lt; 10; i++)&#123;</div><div class="line">                    System.out.println(&quot;R线程 ：疯狂奔跑的皮皮&quot; + i );</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        public class test&#123;</div><div class="line">            public static void main(String[] args) &#123;</div><div class="line">                        Thread t = new Thread(new R());   //新建实例化Thread类,将实现Runable接口的类作为参数传入</div><div class="line">                        t.start();</div><div class="line">                        for(int i = 0;i &lt; 10;i++)&#123;</div><div class="line">                            System.out.println(&quot;Main线程 :&quot;+&quot;走路的糖糖&quot; + i );</div><div class="line">                        &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;继承Thread类</div><div class="line">        class T extends Thread&#123;</div><div class="line">            private String name;</div><div class="line">            </div><div class="line">            public T(String name)&#123;</div><div class="line">                this.name = name;</div><div class="line">            &#125;</div><div class="line">            public void run()&#123;                     //运行</div><div class="line">                for(int i = 0;i &lt; 5; i++)&#123;</div><div class="line">                    System.out.println(name+&quot;线程 :&quot;+&quot;走路的&quot; + i );</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        public class test &#123;</div><div class="line">            public static void main(String[] args) &#123;</div><div class="line">                    T t = new T(&quot;皮皮&quot;);</div><div class="line">                    t.start();</div><div class="line">                    T t2 = new T(&quot;糖糖&quot;);</div><div class="line">                    t2.start();</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    </div><div class="line">        ***************控制台输出**************</div><div class="line">            皮皮线程 :走路的0</div><div class="line">            糖糖线程 :走路的0</div><div class="line">            糖糖线程 :走路的1</div><div class="line">            皮皮线程 :走路的1</div><div class="line">            皮皮线程 :走路的2</div><div class="line">            皮皮线程 :走路的3</div><div class="line">            皮皮线程 :走路的4</div><div class="line">            糖糖线程 :走路的2</div><div class="line">            糖糖线程 :走路的3</div><div class="line">            糖糖线程 :走路的4</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;3&gt;匿名内部类[继承Thread(有对象 or 无对象)]</div><div class="line">        /*有对象*/</div><div class="line">        public class test &#123;</div><div class="line">            public static void main(String[] args) &#123;</div><div class="line">                    Thread t = new Thread(&quot;皮皮&quot;)&#123;</div><div class="line">                        public void run()&#123;                     //运行</div><div class="line">                            for(int i = 0;i &lt; 5;i++)&#123;</div><div class="line">                                System.out.println(this.getName()+&quot;线程 :&quot;+&quot;走路的&quot; + i );</div><div class="line">                            &#125;</div><div class="line">                        &#125;</div><div class="line">                    &#125;;</div><div class="line">                    t.start();</div><div class="line">                    </div><div class="line">                    //继续mian线程</div><div class="line">                    for(int i = 0;i&lt; 5; i++)&#123;</div><div class="line">                            System.out.println(&quot;糖糖开始奔跑&quot;+i);</div><div class="line">                    &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;   </div><div class="line"></div><div class="line"></div><div class="line">        /* 无对象*/</div><div class="line">        public class test &#123;</div><div class="line">            public static void main(String[] args) &#123;</div><div class="line">                    new Thread(&quot;皮皮&quot;)&#123;</div><div class="line">                        public void run()&#123;                     //运行</div><div class="line">                            for(int i = 0;i &lt; 5;i++)&#123;</div><div class="line">                                System.out.println(this.getName()+&quot;线程 :&quot;+&quot;走路的&quot; + i );</div><div class="line">                            &#125;</div><div class="line">                        &#125;</div><div class="line">                    &#125;.start();</div><div class="line">                    </div><div class="line">                    //继续mian线程</div><div class="line">                    for(int i = 0;i&lt; 5; i++)&#123;</div><div class="line">                            System.out.println(&quot;糖糖开始奔跑&quot;+i);</div><div class="line">                    &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line"></div><div class="line">&lt;4&gt;匿名内部类[实现Runnable(有对象 or 无对象)]</div><div class="line">        /* 有对象*/</div><div class="line">        public class test &#123;</div><div class="line">            public static void main(String[] args) &#123;</div><div class="line">                    Thread  t = new Thread(new Runnable() &#123;</div><div class="line">                        @Override</div><div class="line">                        public void run() &#123;</div><div class="line">                            for(int i = 0;i &lt; 5;i++)&#123;</div><div class="line">                                System.out.println(&quot;线程 :&quot;+&quot;走路的&quot; + i );</div><div class="line">                            &#125;</div><div class="line">                        &#125;</div><div class="line">                    &#125;);</div><div class="line">                    t.start();</div><div class="line">                    </div><div class="line">                    //继续mian线程</div><div class="line">                    for(int i = 0;i&lt; 5; i++)&#123;</div><div class="line">                            System.out.println(&quot;糖糖开始奔跑&quot;+i);</div><div class="line">                    &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line"></div><div class="line">        /* 无对象*/</div><div class="line">        public class test &#123;</div><div class="line">            public static void main(String[] args) &#123;</div><div class="line">                    new Thread(new Runnable() &#123;</div><div class="line">                        @Override</div><div class="line">                        public void run() &#123;</div><div class="line">                            for(int i = 0;i &lt; 5;i++)&#123;</div><div class="line">                                System.out.println(&quot;线程 :&quot;+&quot;走路的&quot; + i );</div><div class="line">                            &#125;</div><div class="line">                        &#125;</div><div class="line">                    &#125;).start();</div><div class="line">                    </div><div class="line">                    //继续mian线程</div><div class="line">                    for(int i = 0;i&lt; 5; i++)&#123;</div><div class="line">                            System.out.println(&quot;糖糖开始奔跑&quot;+i);</div><div class="line">                    &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<p>java concurrent包下的类<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">【Semaphore】控制某个资源可被同时访问的个数</div><div class="line">【ReentrantLock】具有与使用ynchronized方法和语句锁访问的隐式监视器相同的一些基本行为和语义,功能更强大</div><div class="line">【Future(接口)】表示异步计算的结果</div><div class="line">【CountDownLatch】可以用来在一个线程中等待多个线程完成任务的类</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>多线程编程常用的交互模型</p>
<ul>
<li>Producer-Consumer模型</li>
<li>Read-Writer Lock模型</li>
<li>Future模型</li>
<li>Woker Thread模型<br><br></li>
</ul>
<p>Java5 并发编程工具</p>
<ul>
<li>java.uitl.concurent</li>
<li>线程池ExecutorService</li>
<li>Callable 和Futrue</li>
<li>BlockingQueue<br>​</li>
</ul>
<p>Java内存模型(JMM ~ Java Memory Model)</p>
<ul>
<li>【定义】描述了Java程序中各种变量(线程共享变量)的访问规则,以及在JVM中将变量存储到内存和从内存中取出变量,这样的底层细节</li>
<li>【特点】所有变量都存储在主内存</li>
<li>【特点】每个线程都有自己独立的”工作内存”,里面保存该线程使用到的变量的副本(主内存中该变量的一份拷贝)</li>
<li>【规定1】线程对共享变量的所有操作都必须在自己的工作内存中进行,不能直接从主内存中读写</li>
<li>【规定2】不同线程之间无法直接访问其他线程工作内存中的变量,线程间变量值的传递需要通过主内存来完成<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;JMM模型图</div><div class="line">	线程1 &lt;---&gt; 工作内存【X的副本1】	&lt;---&gt;       主</div><div class="line"></div><div class="line">	线程2 &lt;---&gt; 工作内存【X的副本2】    &lt;---&gt;       内【共享变量X】</div><div class="line"></div><div class="line">	线程3 &lt;---&gt; 工作内存【X的副本3】	&lt;---&gt;       存</div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;共享变量可见性的原理</div><div class="line"></div><div class="line">	A.原状态</div><div class="line">		  线程1   工作内存1(X=0)</div><div class="line">							主内存(X=0)</div><div class="line">	            线程2   工作内存2(X=0)</div><div class="line">	</div><div class="line">	B.线程1的X变为1的步骤</div><div class="line">	    线程1 ---&gt;  工作内存1(X=1) ---&gt;</div><div class="line">						          主内存(X=1)</div><div class="line">	    线程2 &lt;---  工作内存2(X=1) &lt;---</div></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<p>重排序</p>
<ul>
<li>【定义】代码书写顺序与实际执行的顺序不同,指令重排序是编译器or处理器为了提高程序性能而做的优化</li>
<li>【as~if~serial语义】无论如何重排序,程序执行的结果应该与代码顺序执行的结果一致(Java编译器,运行时和处理器都会保证Java在单线程下遵循as~if~serial语义)</li>
<li>【可见性】重排序不会给单线程带来内存可见性问题,但是多线程中程序交错执行时,重排序可能会造成内存可见性问题</li>
<li>树级关系的代码禁止重排序<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">三种重排序</div><div class="line">        1.编译器优化的重排序(编译器优化)</div><div class="line">        2.指令级并行重排序(处理器优化)</div><div class="line">        3.内存系统的重排序(处理器优化)</div></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<p>线程可见性</p>
<ol>
<li>实现共享变量的可见性,保证两点</li>
<li>导致共享变量在线程间不可见的原因</li>
<li>Java”语言层面”支持的可见性实现方式</li>
<li>synchronized关键字</li>
<li>volatile关键字</li>
<li>保证变量自增(x++)操作的原子性的方式</li>
<li>synchronized和volatile比较</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;实现共享变量的可见性,保证两点</div><div class="line">	a.线程修改后的共享变量值能够及时从工作内存刷新到主内存中</div><div class="line">	b.其他线程能够及时把共享变量的最新值从主内存更新到自己的</div><div class="line"></div><div class="line">&lt;2&gt;导致共享变量在线程间不可见的原因</div><div class="line">	a.线程的交叉执行</div><div class="line">	b.重排序结合线程交叉执行</div><div class="line">	c.共享变量更新后的值,没有在工作内存与主内存间及时更新</div><div class="line"></div><div class="line"></div><div class="line">&lt;3&gt;Java&quot;语言层面&quot;支持的可见性实现方式</div><div class="line">	a.synchronized关键字</div><div class="line">	b.volatile关键字</div><div class="line"></div><div class="line">&lt;4&gt;synchronized关键字</div><div class="line">	(1)说明</div><div class="line">		a.原子性(同步)【能够实现互斥锁,保证任何一时刻都只有1个线程在执行锁内的代码】</div><div class="line">		b.可见性</div><div class="line">	</div><div class="line">	(2)JMM关于synchronized的两条规定</div><div class="line">		a.线程解锁前,必须把共享变量的最新值刷新到主内存中</div><div class="line">		b.线程加锁时,将清空工作内存中共享变量的值,从而使用共享变量时,需要从主内存中重新读取最新的值【注意:加锁与解锁需要是同一把锁,线程解锁前对共享变量的修改在下次加锁时对其他线程可见】</div><div class="line">	</div><div class="line">	(3)线程执行互斥代码的过程</div><div class="line">		a.获得互斥锁</div><div class="line">		b.清空工作内存</div><div class="line">		c.从主内存拷贝变量的最新副本到工作内存</div><div class="line">		d.执行代码</div><div class="line">		e.将更改后的共享变量的值刷新到主内存</div><div class="line">		f.释放互斥锁</div><div class="line">	</div><div class="line">	(4)synchronized解决可见性的问题</div><div class="line">		a.保证了锁内部代码的原子性,避免线程在锁内部交叉执行</div><div class="line">		b.根据synchronized的两台可见性规范,来实现共享变量的及时更新</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;5&gt;volatile关键字</div><div class="line">	(1)说明</div><div class="line">		a.轻量级的同步锁</div><div class="line">		b.能保证可见性</div><div class="line">		c.不能保证volatile变量相关操作的原子性</div><div class="line">	</div><div class="line">	(2)volatile如何实现内存可见性【通过加入内存屏障和静止重排序优化来实现】</div><div class="line">		a.对volatile变量执行写操作时,会在写操作后加入一条store屏障指令</div><div class="line">		b.对volatile变量执行读操作时,会在读操作前加入一条load屏障指令</div><div class="line">		【volatile变量每次被线程访问时,都强迫从主内存中重读该变量的值,而当该变量发生变化时,又会强迫线程将最新的值刷新到主内存,这样在任何时刻,不同的线程总能看到该变量的最新值】</div><div class="line">	</div><div class="line">	(3)线程写volatile变量的过程</div><div class="line">		a.改变线程工作内存中volatile便利nag副本的值</div><div class="line">		b.将改变后的副本的值从工作内存刷新到主内存</div><div class="line">	</div><div class="line">	(4)线程读volatile变量的过程</div><div class="line">		a.从主内存中读取volatile变量的最新值到线程的工作内存中</div><div class="line">		b.从工作内存中读取volatile变量的副本</div><div class="line">	</div><div class="line">	(5)【适用场合】要在多线程中安全的使用volatile变量,必须同时满足</div><div class="line">		a.对变量的写入操作不依赖当前值</div><div class="line">			.不满足: number++,count = count * 5等;</div><div class="line">			.满足： boolean变量,记录温度变化的变量等</div><div class="line">		b.该变量没有包含在具有其他变量的的不定式中【程序中有多个volatile变量,每个变量的状态应该独立与其他变量】</div><div class="line">			.不满足:不定式low &lt; up【例:程序中存在两个volatile变量low和up,这两个直接进行比较】</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;6&gt;保证变量自增(x++)操作的原子性的方式</div><div class="line">	(1)使用synchronized关键字</div><div class="line">		A./*修饰方法体*/</div><div class="line">			public synchronized void increate()&#123;&#125;</div><div class="line">	</div><div class="line">		B./*加锁代码块*/</div><div class="line">			private final Ojbect lockObj = new Object();</div><div class="line">	</div><div class="line">			public void transfer()&#123;</div><div class="line">				synchronized(lockObj)&#123;</div><div class="line">					//获得lockObj对象锁的线程.能够进入这块区域【java的语法保证了同一时间只能有一个线程获得lockObj】</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">	</div><div class="line">	(2)使用ReentrantLock(java.util.concurrent.locaks包下)</div><div class="line">		private Lock lock = new ReentrantLock();</div><div class="line">		private int number = 0;</div><div class="line">	</div><div class="line">		public void increase()&#123;</div><div class="line">	</div><div class="line">			lock.lock();//加锁</div><div class="line">			try&#123;</div><div class="line">				this.number++;</div><div class="line">			&#125;finally&#123;</div><div class="line">				lock.unlock();//释放锁</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	</div><div class="line">	(3)使用AtomicInterger(vava.util.concurrent.atomic包下)</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;7&gt;synchronized和volatile比较</div><div class="line">	a.volatile不需要加锁,比synchronized更轻量级,不会阻塞线程</div><div class="line">	b.从内存可见性角度来说,volatile读相当于加锁,volatile写相当于解锁</div><div class="line">	c.synchronized既能保证可见性,又能保证原子性,而volatile只能保证可见性,无法保证原子性</div><div class="line">	d.volatile比synchronized更轻量级,但是更多先知,所有没有synchronized使用广泛</div><div class="line">	e.【扩展】final也可以保存内存可见性</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;8&gt;扩展两个问题</div><div class="line">	 (1)问:即时没有保证可见性的措施,为什么很多时候共享变量依然能偶在主内存和工作内存中得到及时的更新?</div><div class="line"></div><div class="line">	 	答:一般只有在短时间内高并发的情况下才会出现变量不能及时更新的情况,因为CPU在执行时会很快的刷新缓存,所以一般情况下很难看到这种问题</div><div class="line"></div><div class="line"></div><div class="line">	 (2)问:64位(long,double)变量的读写可能不是原子操作如何解决?</div><div class="line">	 		【Java内存模型运行JVM将没有被volatile修饰的64为数据类型读写操作分为两次32位的读写操作来进行】</div><div class="line">	</div><div class="line">	 	答:可能会导致出现读取到&quot;半个变量&quot;的情况</div><div class="line">	 		解决方案是:加volatile关键字</div></pre></td></tr></table></figure>
<p><br></p>
<p>扩展定义(自己去了解)</p>
<ul>
<li>【线程控制逃逸规则】 如果一个资源的创建，使用，销毁都在同一个线程内完成，且永远不会脱离该线程的控制，则该资源的使用就是线程安全的</li>
<li>【争用条件】 多个线程同时共享访同一数据(内存区域)时,每个线程都尝试操作该数据,从而导致数据破外(corrupted)的现象]</li>
<li>【happens-before原则】通过synchronized,volatile,final实现这一原则</li>
<li>【Locks和Condition对象】5.0版本后引入,java锁机制和等待条件的高层实现</li>
<li>【线程安全性】原子性与可见性,通过java.util.concurrent.atomic避免原子性编程的问题,如何使用synchronized和voliatile进行可见性编程,避免发生死锁(DeadLocks)<br><br></li>
</ul>
<h2 id="14-Java网络编程-Socket编程"><a href="#14-Java网络编程-Socket编程" class="headerlink" title="14.Java网络编程(Socket编程)"></a>14.Java网络编程(Socket编程)</h2><p>参考资料</p>
<ul>
<li><a href="http://www.cnblogs.com/obama/p/3292335.html" target="_blank" rel="external"> TCP/IP 相关知识点</a></li>
</ul>
<p>TCP是什么</p>
<ul>
<li>【定义】TCP/IP是目前世界上应用最为广泛的协议,是以TCP和IP为基础的不同层次上多个协议的集合(也称TCP/IP 协议栈)</li>
<li>【特点】为实现网络中不同计算机之间的通信,每台机器必须有一个唯一的标识(IP地址),目前常用的是IPv4版本(定义IP地址的长度为32位的二进制),端口用于区分不同应用程序,端口号范围为0 ~ 65535(其中0 ~ 1023 为系统保留),IP地址和端口号组成Socket(Socket是网络上运行的程序之间双向通信链路的终结点,是TCP和UDP基础)<br><br></li>
</ul>
<p>网络模型5层</p>
<ol>
<li>【应用层】HTTP,FTP,SMTP</li>
<li>【传输层】TCP/IP协议,UDP</li>
<li>【网络层】 TCMP,ARP,RARP(ARP和RARP工作内容在数据链路层)</li>
<li>【数据链路层】</li>
<li>【物理层】  网线,网卡<br><br></li>
</ol>
<p>各种网络协议</p>
<ul>
<li>【TCP】         传输控制协议</li>
<li>【IP】           互联网协议</li>
<li>【FTP 】        文本传输协议</li>
<li>【SMTP】      简单邮件传输协议</li>
<li>【Telnet】     远程登录协议</li>
<li>【DNS 】       域名解析服务</li>
<li>【TETP】       简单文件传输协议</li>
<li>【HTTP】      超文本传输协议</li>
<li>【HTTPS 】  安全的超文本传输协议<br><br></li>
</ul>
<p>网路关键词</p>
<ul>
<li>URL [统一资源定位符,四部分组成“协议”“主机”“端口”“路径”]<br><br></li>
</ul>
<p>TCP/IP的三次握手<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;客户端向服务器发送SYN包(syn =j),进入SYN_SEDN状态(等待服务器确认)</div><div class="line">&lt;2&gt;服务器接收SYN包,确认SYN包,此时syn = j + 1,同时向客户端发送1个SYN包(syn = k)【即是SYN+ACK包】,进入SYN_RECV状态[等待客户端确认]</div><div class="line">&lt;3&gt;客户端接收到SYN+ACK包,向服务器发送ACK确认包,此时客户端+服务器,都进入ESTABLSIHED状态</div></pre></td></tr></table></figure></p>
<p>Java提供网络功能的四大类(java.net包下)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">+ 【InetAddress 】此类物联网协议(IP)地址,用于获取网络上指定机器的IP信息</div><div class="line">+ 【URL】 表示统一资源定位符,指向互联网的&quot;资源&quot;,可通过openStream()获取指定资源的输入流,通过流读取,访问网络上的数据</div><div class="line">+ 【ServerSocket】 TCP服务端</div><div class="line">+ 【Socket】 使用TCP协议实现网络通信的Socket相关类</div><div class="line">+ 【DatagramPacket】 表示数据包</div><div class="line">+ 【DatagramSocket】 进行端到端通信的类</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>TCP编程</p>
<ul>
<li>TCP协议是面向连接,可靠的,有序的,以字节流的方式发送数据</li>
<li>基于TCP协议实现网络通信的类(服务端的ServerSocket类 和 客户端的Socket类)<br><br></li>
</ul>
<p>UDP编程</p>
<ul>
<li>UDP协议(用户数据报协议)是无连接,不可靠的,无序的</li>
<li>以数据报作为数据传输的载体</li>
<li>将传输的数据定义成数据报,在数据报中指明数据所要达到的Socket,然后再将数据报发送出去<br><br></li>
</ul>
<p>Socket通信注意</p>
<ul>
<li>在服务端与多个客户端通信时,注意多线程的优先级[未设置优先级可能会导致运行时速度非常慢,适当将另启的线程优先级降低]</li>
<li>是否关闭输入流和输出流【同一个Socket,直接Socket关闭时,同时会将流关闭(不需要单独去关闭输入输出流)】</li>
<li>使用TCP通信传输对象【对象的形式进行传输,在流中使用ObjectInputStream和ObjectOutputStream进行传输,需要序列化(os.writeObject(user))】</li>
<li>socket编程传递文件【IO的知识,通过输入输出流,读取文件的数据,并发送到服务器端】<br><br></li>
</ul>
<p>Socket通信实现步骤【TCP编程】</p>
<ol>
<li>创建ServerSocket和Socket</li>
<li>打开连接到Socket的输入/输出流</li>
<li>按照协议对Socket进行读/写操作</li>
<li>关闭输入输出流,关闭Socket</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div></pre></td><td class="code"><pre><div class="line">启动步骤:</div><div class="line">	先启动服务端</div><div class="line">	再启动客户端</div><div class="line"></div><div class="line">服务器端</div><div class="line">	a.创建ServerSocket对象，绑定监听端口</div><div class="line">	b.通过accept()方法监听客户端请求</div><div class="line">	c.连接建立后,通过输入流读取客户端发送的请求信息</div><div class="line">	d.通过输出流向客户端发送响应信息</div><div class="line"></div><div class="line">客户端</div><div class="line">	a.创建Socket对象,指明需要连接的服务器的地址和端口号</div><div class="line">	b.连接建立后,通过输出流向服务器端发送请求信息</div><div class="line">	c.通过输入流获取服务器响应的信息</div><div class="line">	d.关闭相关资源</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">服务端</div><div class="line">		public static void main(String [] args)&#123;</div><div class="line">			try&#123;</div><div class="line">				ServerSocket serverSocket = new ServerSocket(888);</div><div class="line">				Socket socket = serverSocket.accept();</div><div class="line">	</div><div class="line">				//等待</div><div class="line">				InputStrema is = socket.getInputStream();</div><div class="line">				InputStreamReader isr = new InputStreamReader(is);</div><div class="line">				BufferedReader br = new BufferedReader(isr);</div><div class="line">				String info = null;</div><div class="line">				while((info = br.readLine()) != null)&#123;</div><div class="line">					System.out.println(info);</div><div class="line">				&#125;</div><div class="line">				socket.shudownInput();//关闭输入流</div><div class="line">	</div><div class="line">				//获取输出流,相应客户端</div><div class="line">				OutputStream os = socket.getOutputStream();</div><div class="line">				PrintWriter pw = new PrintWrtier(os);</div><div class="line">				pw.write(&quot;欢迎您！&quot;);</div><div class="line">				pw.flush();    //刷新缓存[将缓存输出]</div><div class="line"></div><div class="line"></div><div class="line">				//关闭资源</div><div class="line">				pw.close();</div><div class="line">				os.close();</div><div class="line">				br.close();</div><div class="line">				isr.close();</div><div class="line">				is.close();</div><div class="line">				socket.close();</div><div class="line">				serverSocket.close();</div><div class="line">	</div><div class="line">			&#125;catch(Exception e)&#123;</div><div class="line">				e.printStrackTrace();</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">客户端</div><div class="line">		public static void main(String [] args)&#123;</div><div class="line">			try&#123;</div><div class="line">				Socket socket = new Socket(&quot;localhost&quot;,8888);</div><div class="line">	</div><div class="line">				//发送</div><div class="line">				OutputStream os = socket.getOutputStream();</div><div class="line">				PrintWriter pw = new PrintWriter(os);</div><div class="line">				pw.write(&quot;用户名:admin - 密码:123&quot;);</div><div class="line">				pw.flush();  //调用此步发送信息	</div><div class="line">				socket.shutdownOutput();//关闭输出流</div><div class="line">	</div><div class="line">				//获取输入流,读取服务器端的响应</div><div class="line">				InputStream is = socket.getInputStream();</div><div class="line">				InputStreamReader isr = new InputStreamReader(is);</div><div class="line">				BufferedReader br = new BufferedReader(isr);</div><div class="line">				String info = null;</div><div class="line">				while((info = br.readLine()) != null)&#123;</div><div class="line">					System.out.println(&quot;这里是客户端,服务器端的响应&quot; + info);</div><div class="line">				&#125;</div><div class="line"></div><div class="line"></div><div class="line">				//关闭资源</div><div class="line">				br.close();</div><div class="line">				isr.close();</div><div class="line">				is.close();</div><div class="line">				pw.close();</div><div class="line">				os.close();</div><div class="line">				socket.close();</div><div class="line"></div><div class="line"></div><div class="line">			&#125;catch(UnknowHostException e)&#123;</div><div class="line">				e.printStackTrace();</div><div class="line">			&#125;catch(IOException e)&#123;</div><div class="line">				e.printStackTrace();</div><div class="line">			&#125;</div><div class="line">		&#125;</div></pre></td></tr></table></figure>
<p><br></p>
<hr>
<p>多线程服务器[TCP编程,实现服务器与多个客户端之间的通信]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div></pre></td><td class="code"><pre><div class="line">基本步骤</div><div class="line">	a.服务器创建ServerSocket,循环调用accept()等待客户端连接</div><div class="line">	b.客户端创建一个socket并请求和服务器端连接</div><div class="line">	c.服务器端接受客户端请求,创建socket与客户建立专线连接</div><div class="line">	d.建立连接的两个socket在一个单独的线程上对话</div><div class="line">	d.服务器端继续等待新的连接</div><div class="line">	</div><div class="line">		/*一.服务端*/</div><div class="line">		public class Server &#123;</div><div class="line">			/*main方法*/</div><div class="line">			public static void main(String [] args)&#123;</div><div class="line">				try&#123;</div><div class="line">					//A.启动服务端,监听8888端口</div><div class="line">					System.out.println(&quot;【服务器】&quot;);</div><div class="line">					ServerSocket serverSocket = new ServerSocket(8888);</div><div class="line"></div><div class="line"></div><div class="line">					//B.监听8888端口[若有客户端响应,则启动服务器线程处理专线连接Socket]</div><div class="line">					int client = 1;</div><div class="line">					while(true)&#123;</div><div class="line">						System.out.println(&quot;服务器正在监听8888端口 ----------&gt;&quot;);</div><div class="line">						Socket socket = serverSocket.accept();</div><div class="line">						</div><div class="line">						System.out.println(&quot;----------Client:&quot;+client + &quot;------------&quot;);</div><div class="line">						ServerThread sst = new ServerThread(socket);</div><div class="line">						Thread thread = new Thread(sst);</div><div class="line">						</div><div class="line">						thread.start();</div><div class="line">						client++;</div><div class="line">					&#125;</div><div class="line"></div><div class="line"></div><div class="line">				&#125;catch(Exception e)&#123;</div><div class="line">					e.printStackTrace();</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	</div><div class="line">		/*二.服务器线程*/</div><div class="line">		class ServerThread implements Runnable&#123;</div><div class="line">			</div><div class="line">			private Socket socket;</div><div class="line">			</div><div class="line">			public ServerThread(Socket socket) &#123;</div><div class="line">				this.socket = socket;</div><div class="line">			&#125;</div><div class="line">			</div><div class="line">			/*线程运行*/</div><div class="line">			public void run()&#123;</div><div class="line">				InputStream is = null;</div><div class="line">				InputStreamReader  isr = null;</div><div class="line">				BufferedReader br = null;</div><div class="line">				OutputStream  os = null;</div><div class="line">				PrintWriter pw = null;</div><div class="line">				</div><div class="line">				try&#123;</div><div class="line">					//A.接收客户端信息,接收完后关闭输入流</div><div class="line">					 is = socket.getInputStream();</div><div class="line">					 isr = new InputStreamReader(is);</div><div class="line">					 br = new BufferedReader(isr);</div><div class="line">					String info = null;</div><div class="line">					while((info = br.readLine()) != null)&#123;</div><div class="line">						System.out.println(info);</div><div class="line">					&#125;			</div><div class="line">					socket.shutdownInput();  //关闭输入流</div><div class="line">					</div><div class="line">					//B.向客户端发送信息</div><div class="line">					os = socket.getOutputStream();</div><div class="line">					pw = new PrintWriter(os);</div><div class="line">					pw.write(&quot;来自服务器的信息(&quot;+ socket.getLocalAddress() +&quot;):  欢迎登录！&quot;);</div><div class="line">					pw.flush();</div><div class="line"></div><div class="line"></div><div class="line">				&#125;catch (IOException e) &#123;</div><div class="line">					e.printStackTrace();</div><div class="line">				&#125;finally&#123;</div><div class="line">					</div><div class="line">					//C.关闭资源</div><div class="line">					try&#123;</div><div class="line">						if(pw != null) pw.close();</div><div class="line">						if(os != null) os.close();</div><div class="line">						if(br != null) br.close();</div><div class="line">						if(isr != null) isr.close();</div><div class="line">						if(is != null) is.close();</div><div class="line">						if(socket != null) socket.close();</div><div class="line">					&#125;catch (Exception e) &#123;</div><div class="line">						e.printStackTrace();</div><div class="line">					&#125;</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">**************************************************************</div><div class="line"></div><div class="line">		/*客户端*/</div><div class="line">		public class Client &#123;</div><div class="line">			/*main方法*/</div><div class="line">			public static void main(String[] args) &#123;</div><div class="line">				try&#123;</div><div class="line">					</div><div class="line">					//A.向服务器发送信息,接收完后关闭输出流</div><div class="line">				    System.out.println(&quot;【客户端】&quot;);</div><div class="line">					Socket socket = new Socket(&quot;localhost&quot;,8888);</div><div class="line">					OutputStream os = socket.getOutputStream();</div><div class="line">					PrintWriter pw = new PrintWriter(os);</div><div class="line">					pw.write(&quot;来自客户端的信息(&quot; + socket.getInetAddress() + &quot;): 登录：用户名 suvan - 密码 123&quot;);</div><div class="line">					pw.flush();</div><div class="line">					socket.shutdownOutput(); //关闭输出流</div><div class="line">					</div><div class="line">					//B.向服务器发送信息</div><div class="line">					InputStream is = socket.getInputStream();</div><div class="line">					InputStreamReader isr = new InputStreamReader(is);</div><div class="line">					BufferedReader br = new BufferedReader(isr);</div><div class="line">					String info = null;</div><div class="line">					while((info = br.readLine()) != null)&#123;</div><div class="line">						System.out.println(info);</div><div class="line">					&#125;</div><div class="line">					</div><div class="line">					//C.关闭资源</div><div class="line">					br.close();</div><div class="line">					is.close();</div><div class="line">					is.close();</div><div class="line">					pw.close();</div><div class="line">					os.close();</div><div class="line">					socket.close();</div><div class="line">					</div><div class="line">				&#125;catch (UnknownHostException e) &#123;</div><div class="line">					e.printStackTrace();</div><div class="line">				&#125;catch (IOException e) &#123;</div><div class="line">					e.printStackTrace();</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;</div></pre></td></tr></table></figure></p>
<p><br></p>
<hr>
<p>UDP 的 Socket 通信实现步骤【UDP编程】<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div></pre></td><td class="code"><pre><div class="line">服务器端</div><div class="line">	a.创建DatagramSocket,指定端口号</div><div class="line">	b.创建DatamPacket</div><div class="line">	c.接收客户端发送的数据信息</div><div class="line">	d.读取数据</div><div class="line"></div><div class="line">客户端</div><div class="line">	a.定义发送信息</div><div class="line">	b.创建DatagramPacket(数据报),包含要发送的信息</div><div class="line">	c.创建DatagramSocket</div><div class="line">	d.发送数据</div><div class="line"></div><div class="line"></div><div class="line">服务端</div><div class="line">	public static void main(String [] args)&#123;</div><div class="line">		try&#123;</div><div class="line">	</div><div class="line">			//A.定义服务器</div><div class="line">			DatagramSocket socket = new DatagramSocket(8888);</div><div class="line">			byte [] data = new byte[1024];//字节数组,指定接收数据报大小</div><div class="line">			DatagramPacket packet = new DatagramPacket(data, data.length);</div><div class="line">	</div><div class="line">			//B.接收到数据报之前一直阻塞</div><div class="line">			System.out.println(&quot;*****服务器端启动,正在监控8888端口***&quot;);</div><div class="line">			socket.receive(packet);   </div><div class="line">	</div><div class="line">			//C.读取数据</div><div class="line">			String info = new String(data,0,packet.getLength());</div><div class="line">			System.out.println(&quot;来自客户端的数据: &quot; + info);</div><div class="line"></div><div class="line"></div><div class="line">			//D.向客户端发送数据</div><div class="line">			InetAddress adress = packet.getAddress();//获取客户端IP地址</div><div class="line">			int clientPort = packet.getPort(); //获取客户端端口</div><div class="line">			byte [] data2 = &quot;服务器端欢迎您!&quot;.getBytes();</div><div class="line">	</div><div class="line">			DatagramPacket packet2 = new DatagramPacket(data2,data2.length,address,clentPort);</div><div class="line">	</div><div class="line">			socket.send(packet2);</div><div class="line">	</div><div class="line">			//E.关闭资源</div><div class="line">			socket.close();</div><div class="line"></div><div class="line"></div><div class="line">		&#125;catch(IOException e)&#123;</div><div class="line">			e.printStrackTrace();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line"></div><div class="line">客户端</div><div class="line">	public static void main(String [] args)&#123;</div><div class="line"></div><div class="line">		try&#123;</div><div class="line">			//A.定义服务器地址,端口号,数据</div><div class="line">			InetAddress address = InetAddress.getByName(&quot;localhost&quot;);</div><div class="line">			int serverPort = 8888;</div><div class="line">			byte [] data = &quot;用户名: admin - 密码: 123&quot;.getBytes();</div><div class="line">	</div><div class="line">			//B.创建数据报[包含发送的数据信息]</div><div class="line">			DatagramPacket packet = new DatagramPacket(data,data.length,address,serverPort);</div><div class="line">	</div><div class="line">			//C.创建DatagramSocket对象</div><div class="line">			DatagramSocket socket = new DatagramSocket();</div><div class="line">	</div><div class="line">			//D.向服务器发送数据报</div><div class="line">			socket.send(packet);</div><div class="line"></div><div class="line"></div><div class="line">			//E.接收服务器端的响应数据</div><div class="line">			byte [] data2 = new byte[1024];</div><div class="line">			DatagramPacket packet2 = new DatagramPacket(data2,data2.length);</div><div class="line">	</div><div class="line">			socket.receive(packet);</div><div class="line">	</div><div class="line">			String serverInfo = new String(data2,0, packet2.getLength());</div><div class="line">			System.out.println(&quot;来自服务器端的信息:&quot; + serverInfo);</div><div class="line">	</div><div class="line">			//F.关闭资源</div><div class="line">			socket.close();</div><div class="line"></div><div class="line"></div><div class="line">		&#125;catch(UnknownHostException e)&#123;</div><div class="line">				e.printStrackTrace();</div><div class="line">		&#125;catch(SocketException e)&#123;</div><div class="line">			e.printStackTrace();</div><div class="line">		&#125;</div><div class="line">	</div><div class="line">	&#125;</div></pre></td></tr></table></figure></p>
<p><br></p>
<hr>
<p><br><br></p>
<h2 id="15-IO体系构图"><a href="#15-IO体系构图" class="headerlink" title="15.IO体系构图"></a>15.IO体系构图</h2><p>参考资料：</p>
<ul>
<li><a href="http://www.cnblogs.com/rocomp/p/4783208.html" target="_blank" rel="external">Java I/O输入输出流详解【大体介绍】</a></li>
<li><a href="https://my.oschina.net/waylau/blog/604550" target="_blank" rel="external">Java 编程要点之 I/O 流详解【主要是原理】 </a></li>
</ul>
<p>构图<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;							</div><div class="line">					  |		FileInputOut(文件输入流)</div><div class="line">					  |		PipedInputOut(管道输入流)			           |          LineNumberInputStream(行号输入流)</div><div class="line">					  |		FiterInputOut (缓冲输入流)                          -&gt;|	|          DataInputStream(数据输入流)</div><div class="line">		InpputStrema-&gt;	  | 	           ByteArrayInputStream(字节数组输入流)	           |	BufferedInputStream(缓冲输入流)</div><div class="line">		(字节输入流)  |	  |	            SequenceInputStrema(顺序输入流)		           |	PushbackInputStream(回压输入)</div><div class="line">					  |		StringBufferInputStream(缓冲字符输入流)		</div><div class="line">					  |		ObjectInputStream(对象输入流)</div><div class="line">字节流</div><div class="line"></div><div class="line">					  |		FileOutputStream(文件输出流)</div><div class="line">					  | 	           PipedOutputStream(管道输出流)			|	DataOutputStream(数据输出流)</div><div class="line">	    OutputStream-&gt;              |		FilterOutputStream(过滤器输出流)	          -&gt;         |          BufferedOutputStream(缓冲输出流)</div><div class="line">	    (字节输出流)                   |		ByteArrayOutputStream(字节数组输出流)              |	PrintWriter(格式化输出流)	</div><div class="line">					  |		ObjectOutStream(数学怒输)				 </div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">	  				  |		BufferedReader(缓冲输入流)			   -&gt;|	LineNumberReader(行号输入流)</div><div class="line">	  				  |		CharArrayReader(字符数组输入流)		   </div><div class="line">	  	Reader		  |		InputStreamReader(字符输入流)		   -&gt;|	FileReader(文件输入流)</div><div class="line">	  	(字符输入流)  -&gt;       |		FilterReader(过滤器输入流)			   -&gt;|  PushbackReader(回压输入流)</div><div class="line">	  				  |		PipedReader(管道输入流)				   </div><div class="line">	  				  | 	          StringReader(字符输入流)			   </div><div class="line"></div><div class="line">字符流</div><div class="line">	  				  |		BufferedWriter(缓冲输出流)</div><div class="line">	  				  |		CharArrayWriter(字符数组输出流)</div><div class="line">	  	Writer		  | 	           FilterWriter(过滤器输出流)</div><div class="line">	  	(字符输出流)    -&gt;     |		OutputStreamWriter(字符输出流)		  -&gt;|	FileWriter(文件输出流)</div><div class="line">	  				  |		PipedWriter(管道输出流)				  </div><div class="line">	  				  |		StringWriter(字符输出流)</div><div class="line">	  				  |		PrintWriter(标准字符输出流)	</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;输入流基本方法</div><div class="line">	int b = in.read();   [读取一个字节无符号填充到int低八位置,-1是EOF(结尾)]</div><div class="line">	in.read(byte [] buf); [读取数据填充到字节数组buf]</div><div class="line">	int read(byte [] buf, int start,int size); [读取数组填充到字节数组buf,从start位置开始,存放size长度的数据]</div><div class="line"></div><div class="line"></div><div class="line">&lt;3&gt;输出流基本方法</div><div class="line">	out.write(int b);	[写出一个byte到流,b的低八位]</div><div class="line">	out.write(byte [] buf); [将buf字节数组都写到流]</div><div class="line">	out.write(byte [] buf,int start,int size);</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">注意：</div><div class="line">	键盘是输入流【往记事本写东西,是从键盘中读到数据,写到txt文本文件里】</div></pre></td></tr></table></figure></p>
<p><br></p>
<h2 id="16-解析Java注解"><a href="#16-解析Java注解" class="headerlink" title="16.解析Java注解"></a>16.解析Java注解</h2><p>&emsp;Java提供了一种原程序中的元素关联任何信息和任何元数据的途径和方法<br><br></p>
<p>参考资料</p>
<ul>
<li><a href="http://blog.csdn.net/zen99t/article/details/50351575" target="_blank" rel="external">注解反射生成SQL语句</a><br>​</li>
</ul>
<p>JDK常见注解<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;JDK自带</div><div class="line">	@Override    //表示覆盖父类的方法,重写</div><div class="line">	@Deprecated   //表示该方法已经过时</div><div class="line">	@Suppvisewarnings//忽略警告</div><div class="line">		【例：@SuppressWarnings(&quot;deprecation&quot;)  忽略deprecation的警告】</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;第三方注解</div><div class="line">			__@Autowired  //自动依赖注入bean</div><div class="line">	Spring  __@Service</div><div class="line">			__@Repository</div><div class="line">	</div><div class="line">			__@InsertProvider</div><div class="line">	Mybatis __@UpdateProvider</div><div class="line">			__@Options</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>注解的分类<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;按照运行机制区分</div><div class="line">	a.源码注解    【只在源码中存在,编译成.class文件就不存在】</div><div class="line">	b.编译时注解  【在源码和.class文件中都存在,运行时忽略】</div><div class="line">	c.运行时注解  【在运行阶段还起作用,可以通过反射读取,甚至会影响运行逻辑的注解(例:@Autowired)】</div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;按照来源分</div><div class="line">	a.JDK的注解</div><div class="line">	b.第三方注解</div><div class="line">	c.自定义注解</div><div class="line"></div><div class="line">&lt;3&gt;元注解</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>自定义注解<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;语法要求</div><div class="line">		@Target&#123;ElementType.METHOD,ElementType.TYPE&#125;     </div><div class="line">		@Retention(RetentionPolicy.RUNTIME)</div><div class="line">		@Inherited</div><div class="line">		@Documented</div><div class="line">		public @interface Description&#123;</div><div class="line">			String desc();</div><div class="line">			String author();</div><div class="line">	</div><div class="line">			int age() default 18;</div><div class="line">		&#125;</div><div class="line">	</div><div class="line">			a.使用@interface关键字定义注解</div><div class="line">			b.成员以无参无异常方式声明</div><div class="line">			c.可以用default为成员指定一个默认值</div><div class="line">			d.成员类型是受限的,合法的类型包括原始基本类型以及String,Class,Annotation,Enumeration</div><div class="line">			d.如果注解只有一个成员,成员名必须取名为value(),在使用时,可以忽略成员名和赋值号(=)</div><div class="line">			e.注解类可以没有成员,没有成员的注解称为&quot;标识注解&quot;</div><div class="line"></div><div class="line"></div><div class="line">			顶部四行就是元注解</div><div class="line">				_.Target作用域</div><div class="line">					ElementType.MODEHOD       //方法声明</div><div class="line">								.CONSTRUCTOR  //构造方法声明</div><div class="line">								.FIELD 		  //字段声明</div><div class="line">								.LOCAL_VARIABLE//局部变量声明</div><div class="line">								.PACKAGE  	  //包声明</div><div class="line">								.PARAMETER    //参数声明</div><div class="line">								.TYPE         //类,接口</div><div class="line">				_.Retention生命周期</div><div class="line">	        	     			RententionPlicy.SOURCE    //源码注解</div><div class="line">	        	     						   .CLASS     //编译时注解</div><div class="line">	        	     						   .RUNTIME   //运行时注解</div><div class="line">	     		            _.@Inherited标识性元注解</div><div class="line">	     			           运行子类继承</div><div class="line">	     		            _.@Documented</div><div class="line">	     			           生成javadoc时会包含注解信息</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;使用自定义注解【根据元注解的约束使用,定义在方法体上】</div><div class="line">		@Description(desc=&quot;I am suvan&quot;,author=&quot;suvan&quot;,age=18)</div><div class="line">		public String penColor()&#123;</div><div class="line">			return &quot;red&quot;;</div><div class="line">		&#125;</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>反射解析注解</p>
<ul>
<li>【概念】通过反射获取类,函数or成员上的”运行时”注解信息,从而实现动态控制程序运行的逻辑<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;通过反射</div><div class="line">		public static void main(String [] args)&#123;</div><div class="line">			try&#123;</div><div class="line">				//A.类加载器加载类</div><div class="line">				Class c = Class.forName(&quot;com.ann.test.Child&quot;);</div><div class="line">	</div><div class="line">				//B.判断是否存在指定注解</div><div class="line">				boolean isExist = c.isAnnotationPresent(Description.class);</div><div class="line">				if(isExist)&#123;</div><div class="line">					Description d = (Description)c.getAnnotation(Description.class);//得到注解实例</div><div class="line">				&#125;</div><div class="line">	</div><div class="line">				//C.找到方法上注解</div><div class="line">				Method [] ms = c.getMethod();</div><div class="line">				Description d =(Description)ms[0].getAnnotation(Description.class);</div><div class="line">	</div><div class="line">				//C-2</div><div class="line">				Annotation [] as = ms[0].getAnnotations();</div><div class="line">				for(Annotation a: as)&#123;</div><div class="line">					if(a instanceof Description)&#123; //注解属于Description类型</div><div class="line">						Description d = (Description)a;</div><div class="line">					&#125;</div><div class="line">				&#125;</div><div class="line"></div><div class="line"></div><div class="line">			&#125;catch(ClassNotFoundException e)&#123;&#125;</div><div class="line">		&#125;</div><div class="line"></div><div class="line"></div><div class="line">《2》</div></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<hr>
<h2 id="17-VM虚拟机【管理内存分区】"><a href="#17-VM虚拟机【管理内存分区】" class="headerlink" title="17.VM虚拟机【管理内存分区】"></a>17.VM虚拟机【管理内存分区】</h2><p>Java内存区域</p>
<ol>
<li>线程共享区</li>
<li>线程私有区<br><br></li>
</ol>
<p>线程共享区</p>
<ol>
<li>【Java Heap(堆)】虚拟机管理内存中最大一块,所有线程共享,几乎所有对象实例和数组都在这分配内存。垃圾收集器管理主要区域,又被称为”GC堆”</li>
<li>【方法区】储存已经被虚拟机加载的类信息，常量，静态变量，即是编译器后的代码等数据，又称“永久代”<br><br></li>
</ol>
<p>线程私有(随线程产生和消亡,因此不需要过多考虑内存回收的问题)</p>
<ol>
<li>【虚拟机栈 】描述Java方法执行的内存模型，执行Java方法服务</li>
<li>【本地方法栈】使用到本地操作系统(Native)服务</li>
<li>【程序计数器】一块较小内存区域，当前线程所执行的字节码的行号指示器<br><br></li>
</ol>
<p>方法调用</p>
<ul>
<li>方法调用时,会创建栈帧在栈中,调用完是程序自动出栈释放,俄不是gc<br><br></li>
</ul>
<p>垃圾回收(Garbage Collection,缩写GC)算法</p>
<ul>
<li>【标记清除】标记_清除两阶段(缺点：1.效率低 2.产生大量不连续的内存碎片)</li>
<li>【标记整理】清理后后让所有存活的对象一致后移(缺点：标记-清除后需进行对象移动，成本相对较高)</li>
<li>【复制算法】 将可用内存划分为大小相等两块，每次只使用一块,用完将存活对象复制到另一块,然后把之前的一次性清理掉(缺点：1.系统内存折半)适用于新生代(存活对象少,垃圾对象多)</li>
<li>【标记-压缩】清除标记对象时,还将所有存活对象压缩到内存的一端,之后清理边界所有空间(适用于老年代)<br><br></li>
</ul>
<p>垃圾收集动作</p>
<ul>
<li>Minor GC [指对新生代的回收]【Java对象大多朝生夕灭,所以Minor GC频繁,回收速度较快】</li>
<li>Major GC [年老代的回收]</li>
<li>Full GC[对整个堆进行扫描和回收]【值发生在老年代GC,出现了Major G C,经常伴随至少一次Minor GC(并非绝对).MajorGC的速度一般会比Minor GC慢 10倍以上】<br><br></li>
</ul>
<p>JVM类加载器(ClassLoader)</p>
<ul>
<li>【Bootstrap ClassLoader(启动类加载器)】加载JVM自身工作需要的类</li>
<li>【Application ClassLoader(扩展类加载器)】加载ClassPath指定的库类,一般情况下是程序中的默认类下载器</li>
<li>【Extension ClassLoader(应用程序类加载器)】加载“%JAVA_HOME%\lib\ext目录下的库类”<br><br></li>
</ul>
<p>JVM加载类的实现方式</p>
<ul>
<li>【双亲委托模型】如果一个类加载器收到类加载请求,先请求委托给自己的父加载器,每一层的类加载器都是如此,因此所有的类加载请求最终都应该传到顶层BootStrap ClassLoader,只有当父加载器反馈自己无法完成加载请求时,子加载器才会尝试自己加载</li>
<li>【上述模型主要为了解决类载入过程中的安全性问题】如果有人编写了一个java.lang.Object类,借此欺骗JVM,现在要使用自定义ClassLoader来加载该类,但是双亲委托模型不会让它成功,JVM会优先在BootStrap ClassLoader的路径下找到java.lang.Ojbect类,并载入它<br><br></li>
</ul>
<p>Java类的加载过程</p>
<ul>
<li>加载Loading(生成java.lang.Class对象)</li>
<li>验证Verfication</li>
<li>准备Preparation</li>
<li>解析Resolution(1.类方法发生在该过程)</li>
<li>初始化Initialization</li>
<li>使用Using</li>
<li>卸载Unloading<br><br></li>
</ul>
<p>JVM内存配置参数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">-Xmx  最大堆大小</div><div class="line">-Xms  初始堆大小【即是最小内存值】</div><div class="line">-Xmn  年轻代大小</div><div class="line">-XXurvivorRatio  年轻代中&quot;Eden区&quot;与&quot;Survivor&quot;区大小比值【Eden是Survior的倍数】</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">一般情况将年轻代分为1块Eden和2块Survivor</div><div class="line">举例：</div><div class="line">        -Xmn=5120m</div><div class="line">        -XXurvivorRatio=3</div><div class="line">    </div><div class="line">        计算Survivor区大小</div><div class="line">            Eden:Survivor = 1:3</div><div class="line">            年轻代 = Eden + Survivor = 3x + x + x =5120</div><div class="line">            可得出x=1024</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>内存调试工具</p>
<ul>
<li>jmap  [关擦运行中jvm物理内存的占用情况]</li>
<li>jstack [Linux特有,观察jvm中所有线程的运行情况和线程当前状态]</li>
<li>jconsole [图形化界面,可以观察java进程的gc.class.内存等信息]<br><br></li>
</ul>
<hr>
<h2 id="18-了解Java中的内存泄漏"><a href="#18-了解Java中的内存泄漏" class="headerlink" title="18.了解Java中的内存泄漏"></a>18.了解Java中的内存泄漏</h2><p>&emsp;指无用对象(不再使用的对象)持续占有内存或无用对象的内存得不到及时释放，从而造成内存空间的浪费。<br><br></p>
<p>Java的内存</p>
<ul>
<li>【栈内存】主要存放一些基本类型的变量,数组和对象的引用</li>
<li>【堆内存】主要存放一些对象<br><br></li>
</ul>
<p>Java中判断内存控件是否符合垃圾收集标准</p>
<ol>
<li>给对象赋予了控制null,以下再没有调用过</li>
<li>给对象赋予新值,这样冲洗分配了内存空间<br><br></li>
</ol>
<p>Java中内存泄漏发生的场景</p>
<ol>
<li>静态集合类引起的内存泄漏</li>
<li>当集合里面的对象属性被修改时,再调用remove()方法是不起作用【remove不掉,造成内存泄漏<br>】</li>
<li>监听器【数据库连接,网络连接，io连接】</li>
<li>内部类和外部模块的引用【内部类没释放 和 A调用B的一个public方法,传入一个对象(这里就标识B模块保持了该对象的引用)】</li>
<li>单例模式【单例对象在初始化后将在JVM整个生命周期存在(以静态变量的方式),如果单例对象持有外部的引用，该独享不能被JVM正常回收】<br><br></li>
</ol>
<blockquote>
<p>内存溢出：是指程序所需要的内存超出了系统所能分配的内存(包括动态扩展)的上限</p>
</blockquote>
<hr>
<p><br><br></p>
<h2 id="19-专业术语"><a href="#19-专业术语" class="headerlink" title="19.专业术语"></a>19.专业术语</h2><p>术语</p>
<ul>
<li>EJB(Enterprise JavaBean-企业级JavaBean)一个用来构筑企业级应用的服务器端可被管理组件</li>
<li>POJO(Plain Ordinary Java Object-普通的JavaBeans)简单的java对象</li>
<li>IoC(Inversion of Control-控制反转),是面向对象编程中的一种设计原则，用于代码之间的耦合度【常见方式：依赖注入(Dependency Injection)】</li>
<li>AOP(aspect-oriented programming -面向方面程序设计)</li>
<li>Framework(架构)</li>
<li>ISP(Interface Segregation Principle)面向对象的核心原则,表明使用多个专门的接口比使用单一的接口好<br><br></li>
</ul>
<p>面向对象</p>
<ul>
<li>OOA(面向对象分析)</li>
<li>OOD(面向对象设计)</li>
<li>OOP(面向对象编程)</li>
<li>UML(统一建模语言)<br><br></li>
</ul>
<p>语言</p>
<ul>
<li>HTML(Hyper Text Markup Language - 超文本标记语言)</li>
<li>CSS(Cascade Style Sheet - 层叠样式表)</li>
<li>JS(JavaScript - 脚本语言)</li>
<li>XML(Extensible Markup Language - 描述结构话数据语言)</li>
<li>DOM(Document Object Model - 文档对象模型)</li>
<li>JSP(Java Server Pages - Java服务器网页)</li>
<li>EL(Expression Language - 表达式)<br><br></li>
</ul>
<p>网络</p>
<ul>
<li>HTTP(HyperText Transfer Protocol - 超本文传输协议)</li>
<li>C/S和B/S模式(客户机/服务器 和 浏览器/服务器)<br><br></li>
</ul>
<h2 id="20-程序设计"><a href="#20-程序设计" class="headerlink" title="20.程序设计"></a>20.程序设计</h2><p>java自带程序</p>
<ul>
<li>java用来运行一个.class文件</li>
<li>javadoc用来生产api文档</li>
<li>jar用来生成jar包</li>
<li>javadoc用来把.java文件编译成.class文件<br><br></li>
</ul>
<p>程序设计中,模块划分的原则是</p>
<ul>
<li>高内聚,低耦合【模块内具有高内聚度,模块间具有低耦合度】<br><br></li>
</ul>
<hr>
<h2 id="21-项目管理"><a href="#21-项目管理" class="headerlink" title="21.项目管理"></a>21.项目管理</h2><p>&emsp;Ant和Maven都是基于Java构建(build)工具<br>&lt;br&lt;</p>
<p>Ant特点</p>
<ul>
<li>Ant是软件构建工具</li>
<li>没有一个约定的目录结构【必须明确让ant做什么,什么时候做,编译,打包】</li>
<li>没有生命周期【必须定义目标及其实现的任务序列】</li>
<li>没有集成依赖管理</li>
<li>Maven<br><br></li>
</ul>
<p>Maven特点</p>
<ul>
<li>软件项目管理和理解工具</li>
<li>拥有约定【知道代码在哪,放哪去】</li>
<li>拥有生命周期【执行mvn install就可以自动执行编译,测试,打包构建过程,只需定义pox.xml,把源码放到默认目录】</li>
<li>拥有依赖管理,仓库管理<br><br></li>
</ul>
<hr>
<p>r&gt;</p>
<h2 id="22-数据结构基础"><a href="#22-数据结构基础" class="headerlink" title="22.数据结构基础"></a>22.数据结构基础</h2><p>C++ STL(标准模板库)的实现<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">【vector】底层数据结构为数组,支持快速随机访问,容量大小有限制(扩容耗时)</div><div class="line">【list】底层数据结构为双向链表,支持快速增删</div><div class="line">【deque(双端队列)】底层结构为一个中央控制器和多个缓冲区,支持首尾(中间不能)快速增删,也支持随机访问</div><div class="line">【stack】底层一般用23实现,封闭头部即可</div><div class="line">【queue】底层一般用23实现,封闭头部即可</div><div class="line">【priority_queue(优先队列)】底层数据结构一般为vector底层容器,heap(堆)为处理规则来管理底层容器实现</div><div class="line">【set】底层数据结构为红黑树,有序,不重复,支持快速增删</div><div class="line">【multiset(多重集)】底层数据结构为红黑树,有序,可重复</div><div class="line">【map】底层数据数据结构为红黑树,有序,不重复,支持快速增删</div><div class="line">【multimap(多重映射)】底层数据结构为红黑树,有序,可重复</div><div class="line">【hash_set】底层数据结构为hash表,无序,不重复</div><div class="line">【hash_multiset】底层数据结构为hash表,无序,可重复</div><div class="line">【hash_map】底层数据结构为hash表,无序,不重复</div><div class="line">【hash_multimap】底层数据结构为hash表,无序,可重复</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>数据的逻辑结构<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">                                    _一般线性表（顺序存储结构和链式存储结构）</div><div class="line">                —线性结构  _受限的线性表(栈,队列,串)</div><div class="line">                                    _线性表的推广(数组,广义表)</div><div class="line">逻辑结构</div><div class="line">                                        _集合</div><div class="line">                —非线性结构   _树形结构(一般树,二叉树)</div><div class="line">                                        _图形结构(有向图,无向图)</div><div class="line"></div><div class="line"></div><div class="line">注意：</div><div class="line">        a.栈是逻辑结构,链表是存储结构</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>线性结构</p>
<ul>
<li>【定义】线性结构指的是数据元素之间存在”一对一”线性关系的数据结构</li>
<li>【组成】线性表是具有n个”数据元素”的有限序列(n&gt;0), 线性表由若干个数据元素组成,而数据元素又由若干个数据项组成</li>
<li>【常用的线性结构】线性表,堆,栈,队列,双队列,数组,串,广义表</li>
<li>【常见的非线性结构】二维数组,多维数组 ,树(二叉树等),图<br>+【有序表归并最多比较】将两个各有n个元素的有序表归并成一个有序表,其最多的比较次数是2n-1【想象两个序列(135),(2,4,6)的插入,最多需要比较5次】<br>+【折半查找计算】设有100个元素的有序表,采用折半查找方法时,成功时候最大的比较次数为7(使用log100,计算100能被2除多少次<br><br></li>
</ul>
<p>链表</p>
<ul>
<li>【定义】链表是线性表的链式存储结构</li>
<li>【定义】链表是一块不连续的动态空间,长度可变;链表需要按顺序检索节点,效率低</li>
<li>【优点】适合随机存取,可以快速插入和删除节点,大小动态分配,长度不固定,不存在越界问题,</li>
<li>【存储单元地址】线性表链式存储结构的所有节点之间的存储单元地址可连续可不连续</li>
<li>【静态链表】用数组实现,静态链表的指针表示下一个元素在数组中的位置,需要分配较大的空间,元素插入与删除时不需要移动元素(需要改的是游标,用空间换取时间)</li>
<li>【前驱和后继节点】前驱(llink,left,pointr),后继(rlink,right,next)<br>优点】</li>
<li>【单链表的存储密度】小于1,(存储密度=单链表数据项所占空间/节点所占空间)</li>
<li>【判断链表有没有环】1.直接遍历判断;2.反转指针;3.快慢指针(追赶法)</li>
<li>【链表相交问题】1.有环的单向链表和无环的单向链表不能相交(会被迫存在1个环,起点可能变化);2.两个单向链表之间相交可以存在环,它们的尾节点一定相同</li>
<li>【双向循环链表插入节点】要先入链(先将被插入的节点的前后链接好),后断链(再将原链表的前后关系节点断链,指向新的引用)</li>
<li>【判空条件】1.带头节点单向链表的判空条件是head.next==null(不带头节点是head==nul)；2.带头节点的单向循环链表的判空条件是head.next==head</li>
<li>【二叉链表存储树】(二叉树链表根节点指针)左孩子,右兄弟(指向树的根节点)<br>+【二叉链表指针域】在含有n个节点的二叉链表中,有n+1个空链(空指针)域,n-1个非空链域<br><br></li>
</ul>
<p>顺序表</p>
<ul>
<li>【求存储地址】在顺序表中,只要知道”基地址和结点大小”,就可在相同时间内求出任一结点的存储地址</li>
<li>线性表的顺序存储结构是一种”随机存取的存储结构”<br><br></li>
</ul>
<p>散列表</p>
<ul>
<li>【定义】是用散列法存储的线性表<br><br></li>
</ul>
<p>串</p>
<ul>
<li>【定义】是一种特殊的线性表,每个节点是一个字符,页可称为字符串<br><br></li>
</ul>
<p>栈</p>
<ul>
<li>【特点】栈可以是顺序存储,也可以是链式存储,与存储结构无关</li>
<li>【深度 or 广度】深度优先遍历用“栈”,广度优先遍历用”队列”</li>
<li>【栈】是数据结构,先进后出(常用于函数调用.例如main中调用各种方法,java虚拟机栈帧),栈是解决封闭对应问题的有效方法,</li>
<li>【遍历】”后序线索树”的遍历仍然需要栈的支持(因为在前序和中序遍历最后访问的都是左or右节点,后序遍历最后访问的是子树的根节点,子树根节点的两个指针域都指向子树了,所以不能空出来存放线索信息,只能借助栈存储)</li>
<li>【判空】<code>s-top</code>是栈顶针,空栈为-1,<code>s-&gt;top++</code>(插入元素),<code>s-&gt;top--</code>(出栈),<code>s-top=maxSize-1</code>(栈满)</li>
<li>【递归】递归工作栈包括(返回地址,本层局部电量和递归调用的形参代换为实参),无论递归过程有没使用局部变量,转换为非递归过程都需要用栈来模拟这个递归调用的过程</li>
<li>【递归】不是所有的递归转换为非递归都是要用到栈。转化为非递归主要有两种方法(1.对于尾递归或单向递归,可以用循环结构算法代替;2.另外一个才是栈的方法)</li>
<li>【元素个数】在栈中,栈顶指针的动态变化决定栈中元素的个数<br><br></li>
</ul>
<p>队列</p>
<ul>
<li>【队列】当队列中只有一个元素时，出队后需要清空对头和队尾指针</li>
<li>【循环队列】可以顺序存储,也可以链式存储</li>
<li>【STL优先级队列】用堆来实现<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">循环队列的计算问题</div><div class="line">1.队空条件：rear==front   </div><div class="line">2.队满条件：(rear+1) %QueueSIze==front   </div><div class="line">3.计算队列长度(队内元素)：（rear-front+QueueSize）%QueueSize   </div><div class="line">4.入队：（rear+1）%QueueSize   </div><div class="line">5.出队：（front+1）%QueueSize</div><div class="line">发</div></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<p>广义表<br>+【三个特性】1.层次性(广义表元素可以是子表,子表的元素仍然可以是子表);2.共享性(广义表可被其他广义表共享);3.递归性(广义表可以是其自身的一个子表)</p>
<ul>
<li>【求长度】广义表(((a,b,c),d,e,f))的长度是1【有三对括号】</li>
<li>【表头 or  表尾】一个非空广义表,1.表头(元素or子表);2.表尾(只能是子表,将除了第一个元素之外的所有元素,看作一个广义表)<br>+【广义表表达式】广义表A是(d,e,f)的话,head(A)只取d,tail(A)取(e,f)<br><br></li>
</ul>
<p>线性结构的比较</p>
<ul>
<li>【顺序表和链表】顺序表结构适宜进行随机查询(查询快),链表结构适合进行随机存取;(存取快)</li>
<li>【顺序表和链表】顺序表是一种随机存取的线性结构,链表是一种顺序存取的线性结构(因为存储地址不一定连续,即逻辑上位置不一定相邻,只能通过逐个指针顺序进行存储)</li>
<li>【顺序表和链表】顺序表可以用折半查询,链表不可以(因为折半查询要求线性表必须要顺序存储,且要有序)</li>
<li>【顺序栈和链栈】链表栈的比较明显的优势,是通常不会出现栈满的情况(链栈采用非连续的内存存储的模式,意味着可以从未使用的内存中开辟一个空间,很容易添加一个节点，对于连续存储的顺序栈而言,是很难增加大小的)<br><br></li>
</ul>
<p>数组</p>
<ul>
<li>数组的插入,删除需要移动数组元素,平均移动n/2<br><br></li>
</ul>
<p>二叉树<br><br></p>
<p>矩阵</p>
<ul>
<li>【稀疏矩阵压缩的存储方法】是三元组和十字链表<br><br></li>
</ul>
<p>图</p>
<ul>
<li>【无向图存储】邻接矩阵,邻接表,多重邻接表,边集数组</li>
<li>【有向图存储】邻接矩阵,邻接表,十字链表,边集数组<br><br></li>
</ul>
<hr>
<p><br><br></p>
<h1 id="二-常用操作"><a href="#二-常用操作" class="headerlink" title="二.常用操作"></a>二.常用操作</h1><h2 id="1-操作日期和时间"><a href="#1-操作日期和时间" class="headerlink" title="1.操作日期和时间"></a>1.操作日期和时间</h2><p>常用类</p>
<ul>
<li>java.util.Date【基础日期类】</li>
<li>java.util.GregorianCalendar【是一个Calendar(日历)类的具体实现】<br><br></li>
</ul>
<p>案例<br>1.获取当前时间<br>2.使用SimpleDateFormat格式化日期<br>3.字符串转换为日期<br>4.测量指定操作的具体执行时间<br>5.Calendar获取时间<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;获取当前时间</div><div class="line">	Date date = new Date();</div><div class="line">	System.out.println(&quot;当前时间:&quot; + date.toString());</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;使用SimpleDateFormat格式化日期</div><div class="line">	Date date = new Date();			 </div><div class="line">	SimpleDateFormat sdf = new SimpleDateFormat(&quot;E yyyy-MM-dd &apos;at&apos; hh:mm:ss a zzz&quot;);</div><div class="line">	System.out.println(&quot;格式化后日期：  &quot; + sdf.format(date));</div><div class="line">			</div><div class="line">			输出：  格式化后日期：  星期一 2017-03-20 at 10:54:04 上午 CST</div><div class="line">								   【星期     日期         时间   时辰 时区】</div><div class="line"></div><div class="line"></div><div class="line">					格式简码</div><div class="line">						G 	时代指示器 	AD</div><div class="line">						y 	四位数年份 	2001</div><div class="line">						M 	年中的月份 	July or 07</div><div class="line">						d 	月份中日期 	10</div><div class="line">						h 	时间 A.M./P.M.(1~12) 	12</div><div class="line">						H 	天中的小时 (0~23) 	22</div><div class="line">						m 	小时中的分钟 	30</div><div class="line">						s 	分钟中的秒钟 	55</div><div class="line">						S 	毫秒 	234</div><div class="line">						E 	星期中的天 	Tuesday</div><div class="line">						D 	年中的天 	360</div><div class="line">						F 	月中星期中的天 	2 (second Wed. in July)</div><div class="line">						w 	年中的星期 	40</div><div class="line">						W 	月中的星期 	1</div><div class="line">						a 	A.M./P.M. 标记 	PM</div><div class="line">						k 	天中的小时(1~24) 	24</div><div class="line">						K 	小时A.M./P.M. (0~11) 	10</div><div class="line">						z 	时区 	东部标准时间</div><div class="line">						&apos; 	脱离文本 	分隔符</div><div class="line">						&quot; 	单引号 	`</div><div class="line"></div><div class="line"></div><div class="line">&lt;3&gt;字符串转换为日期</div><div class="line">		SimpleDateFormat ft = new SimpleDateFormat (&quot;yyyy-MM-dd&quot;); </div><div class="line">		String input = &quot;1818-11-11&quot;;</div><div class="line">		Date t; </div><div class="line">			   </div><div class="line">		try &#123; </div><div class="line">			t = ft.parse(input); </div><div class="line">			System.out.println(&quot;日期: &quot; +t); </div><div class="line">		&#125; catch (ParseException e) &#123; </div><div class="line">			e.printStackTrace();</div><div class="line">		&#125;</div><div class="line">	</div><div class="line">				输出 : 日期: Wed Nov 11 00:00:00 CST 1818</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;4&gt;测量指定操作的具体执行时间</div><div class="line">		long start = System.currentTimeMillis( ); //获得自1970年1月1日午夜十二时起已经过的毫秒数</div><div class="line">			...</div><div class="line">		long end = System.currentTimeMillis( );</div><div class="line">		System.out.println(&quot;程序执行时间:&quot; + (start -end));</div><div class="line"></div><div class="line"></div><div class="line">&lt;5&gt;Calendar获取时间</div><div class="line">			//1.Calendar是抽象类,需要通过静态方法获取对象</div><div class="line">			Calendar c = Calendar.getInstance();</div><div class="line">			  //c1.set(2009, 6 - 1, 12);//把Calendar对象c1的年月日分别设这为：2009、6、12</div><div class="line"></div><div class="line"></div><div class="line">			//2.获取年月日时分秒</div><div class="line">			int year = c.get(Calendar.YEAR);</div><div class="line">			int month = c.get(Calendar.MONTH);</div><div class="line">			int day = c.get(Calendar.DAY_OF_MONTH);</div><div class="line">			int hour = c.get(Calendar.HOUR_OF_DAY);</div><div class="line">			int minute = c.get(Calendar.MINUTE);</div><div class="line">			int second = c.get(Calendar.SECOND);</div><div class="line">	</div><div class="line">			//3.将Calendar对象转换为Date对象</div><div class="line">			Date date = c.getTime();</div></pre></td></tr></table></figure></p>
<p><br></p>
<hr>
<h2 id="2-自定义异常"><a href="#2-自定义异常" class="headerlink" title="2.自定义异常"></a>2.自定义异常</h2><p>关键字</p>
<ul>
<li>throw   (方法体内抛出)</li>
<li>throws  (方法定义时抛出)<br><br></li>
</ul>
<p>流程</p>
<ol>
<li>定义一个类继承Exception</li>
<li>根据情况是否添加构造方法</li>
<li>在某个方法抛出该异常</li>
<li>捕获该异常<br><br></li>
</ol>
<p>应用场景</p>
<ul>
<li>异常链 (throws向上层抛出异常….)<br><br></li>
</ul>
<p>设计程序时应注意：</p>
<ul>
<li>try块不宜过长(仔细区分每快抛出异常)</li>
<li>保证所有资源都被正确释放 (充分运用finally关键字)</li>
<li>catch尽量指定具体的异常类型(减少使用Exception类)</li>
<li>处理异常(不应只是打印输出,可选择(1.处理; 2.上抛; 3.封装异常))</li>
<li>异常处理模块提供适量信息(便于错误的理解和阅读)</li>
<li>不要在finally处理返回值</li>
<li>不要在构造函数抛出异常</li>
</ul>
<p>自定义异常<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">class MyException extends Exception&#123;</div><div class="line">        public MyException()&#123; </div><div class="line">            //根据实际情况判断是否需要使用无参构造函数</div><div class="line">        &#125;  </div><div class="line">        public MyException(String message)&#123;</div><div class="line">            super();</div><div class="line">            System.out.println(message);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    public  class Test &#123;</div><div class="line">        public void show(int i) throws MyException&#123;</div><div class="line">            if(i == -1)&#123;</div><div class="line">                throw new MyException(&quot;当前值为-1，抛出异常&quot;); //跳到异常类MyException里的有参构造函数</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        public static void main(String[] args) &#123;</div><div class="line">            Test t = new Test();</div><div class="line">            try&#123;</div><div class="line">                 t.show(-1);</div><div class="line">                </div><div class="line">            &#125;catch(MyException my)&#123;</div><div class="line">                System.out.println(&quot;成功捕获MyException异常***************&quot;);</div><div class="line">                my.printStackTrace();</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<h2 id=""><a href="#" class="headerlink" title=""></a><br></h2><p><br><br></p>
<h2 id="3-反射操作"><a href="#3-反射操作" class="headerlink" title="3.反射操作"></a>3.反射操作</h2><p>&emsp;Java 反射机制可以让我们在编译期(Compile Time)之外的运行期(Runtime)检查类，接口，变量以及方法的信息。反射还可以让我们在运行期实例化对象，调用方法，通过调用 get/set 方法获取变量的值<br><br></p>
<p>Java反射机制提供以下功能</p>
<ul>
<li>运行时判断任意一个对象所属的类</li>
<li>运行时构造任意一个类的对象</li>
<li>运行时判断任意一个类所具有的成员变量和方法</li>
<li>运行时调用任意一个对象的方法</li>
<li>生成动态代理<br><br></li>
</ul>
<p>反射常用类</p>
<ul>
<li>java.lang.class   (类)</li>
<li>java.lang.reflect (包)<br><br></li>
</ul>
<p>获取Class对象的三种方式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">Foo foo1 = new Foo()</div><div class="line"></div><div class="line">	&lt;1&gt;方式1</div><div class="line">			Class c1 = Foo.class;</div><div class="line">	&lt;2&gt;方式2</div><div class="line">			Class c2 = foo1.getClass();</div><div class="line">	&lt;3&gt;方式3[动态加载类(编译时刻加载是&quot;静态加载类&quot;,运行时刻加载是&quot;动态加载类&quot;)]</div><div class="line">			Class c3 = null;</div><div class="line">			try &#123;</div><div class="line">				c3 = Class.forName(&quot;com.imooc.reflect.Foo&quot;);</div><div class="line">			&#125; catch (ClassNotFoundException e) &#123;&#125;</div><div class="line"></div><div class="line"></div><div class="line">            注意:</div><div class="line">            	(1)c1 == c2 == c3</div><div class="line">            	(2)可通过类的类类型创建该类的实例对象</div><div class="line">            		try &#123;</div><div class="line">            			Foo foo = (Foo)c1.newInstance();//需要强转</div><div class="line">            		&#125; catch (InstantiationException e) &#123;</div><div class="line">            			e.printStackTrace();</div><div class="line">            		&#125; catch (IllegalAccessException e) &#123;</div><div class="line">            			e.printStackTrace();</div><div class="line">            		&#125;</div><div class="line">            	(3)new创建对象,是&quot;静态加载类&quot;,在编译时刻就需要加载所有的可能用到的类【特点：一个出错,全盘出错】</div><div class="line">            	   Class.forName()是动态加载类,在运行时刻加载,可通过Class类类型,创建该类对象</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>反射获取指定对象的各种信息(成员函数,成员变量,构造函数)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div></pre></td><td class="code"><pre><div class="line">package com.imooc.reflect;</div><div class="line"></div><div class="line">import java.lang.reflect.Constructor;</div><div class="line">import java.lang.reflect.Field;</div><div class="line">import java.lang.reflect.Method;</div><div class="line"></div><div class="line">public class ClassUtil &#123;</div><div class="line">	/**</div><div class="line">	 * 获取的成员函数对象的信息</div><div class="line">	 * @param obj 该对象所属类的信息</div><div class="line">	 */</div><div class="line">	public static void printClassMethodMessage(Object obj)&#123;</div><div class="line">		//1.要获取类的信息  首先要获取类的类类型</div><div class="line">		Class c = obj.getClass();			//传递的是哪个子类的对象  c就是该子类的类类型</div><div class="line">		System.out.println(&quot;类名:&quot;+c.getName());</div><div class="line"></div><div class="line"></div><div class="line">		//2获取Method对象集合</div><div class="line">		Method[] ms = c.getMethods();</div><div class="line">		for(int i = 0; i &lt; ms.length;i++)&#123;</div><div class="line">			</div><div class="line">			//a,得到方法的名称</div><div class="line">			System.out.print(&quot;\t方法名-&quot; + ms[i].getName()+&quot;(&quot;);</div><div class="line">			</div><div class="line">			//b.得到方法的返回值类型的类类型</div><div class="line">			Class returnType = ms[i].getReturnType();</div><div class="line">			System.out.print(&quot;返回值类型:&quot; +returnType.getName()+&quot; &quot;);</div><div class="line">			</div><div class="line">			//c.获取参数类型---&gt;得到的是参数列表的类型的类类型</div><div class="line">			Class[] paramTypes = ms[i].getParameterTypes();</div><div class="line">			System.out.print(&quot;参数类型:&quot;);</div><div class="line">			for (Class class1 : paramTypes) &#123;</div><div class="line">				System.out.print(class1.getName()+&quot;,&quot;);</div><div class="line">			&#125;</div><div class="line">			System.out.println(&quot;)&quot;);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	/**</div><div class="line">	 * 获取成员变量对象的信息</div><div class="line">	 * @param obj</div><div class="line">	 */</div><div class="line">	public static void printFieldMessage(Object obj) &#123;</div><div class="line">	    //1.获取传入对象的类类型</div><div class="line">		Class c = obj.getClass();</div><div class="line">	</div><div class="line">		//2.获取Field对象集合[Field类封装了关于成员变量的操作]</div><div class="line">//		Field[] fs = c.getFields();    			 //获取的是所有的public的成员变量的信息</div><div class="line">		Field[] fs = c.getDeclaredFields(); //获取的是该类自己声明的成员变量的信息[public,private,protected,default]</div><div class="line">		for (Field field : fs) &#123;</div><div class="line">			//得到成员变量的类型的类类型</div><div class="line">			Class fieldType = field.getType();</div><div class="line">			</div><div class="line">			String typeName = fieldType.getName();  	//类型名</div><div class="line">			String fieldName = field.getName();			//变量名</div><div class="line">			System.out.println(typeName+&quot; &quot;+fieldName); //成员变量类型+变量名</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	/**</div><div class="line">	 * 获取构造函数对象的信息</div><div class="line">	 * @param obj</div><div class="line">	 */</div><div class="line">	public static void printConstructorMessage(Object obj)&#123;</div><div class="line">		  //1.获取传入对象的类类型</div><div class="line">		Class c = obj.getClass();</div><div class="line"></div><div class="line"></div><div class="line">		//2.获取对象构造函数的对象集合【构造函数也是对象】</div><div class="line">		//Constructor[] cs = c.getConstructors();				  //获取所有的public的构造函数</div><div class="line">		Constructor[] cs = c.getDeclaredConstructors();  //getDeclaredConstructors得到所有的构造函数</div><div class="line">		for (Constructor constructor : cs) &#123;</div><div class="line">			System.out.print(&quot;构造函数名:&quot; + constructor.getName()+&quot;(&quot;);</div><div class="line">			</div><div class="line">			//a.获取构造函数的参数列表,每个参数的类类型</div><div class="line">			Class[] paramTypes = constructor.getParameterTypes();</div><div class="line">			for (Class class1 : paramTypes) &#123;</div><div class="line">				System.out.print(class1.getName()+&quot;,&quot;);</div><div class="line">			&#125;</div><div class="line">			System.out.println(&quot;)&quot;);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>方法的反射操作<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line">package com.imooc.reflect;</div><div class="line"></div><div class="line">import java.lang.reflect.Method;</div><div class="line"></div><div class="line">class A&#123;</div><div class="line">	public void print()&#123;</div><div class="line">		System.out.println(&quot;helloworld&quot;);</div><div class="line">	&#125;</div><div class="line">	public void print(int a,int b)&#123;</div><div class="line">		System.out.println(a+b);</div><div class="line">	&#125;</div><div class="line">	public void print(String a,String b)&#123;</div><div class="line">		System.out.println(a.toUpperCase()+&quot;,&quot;+b.toLowerCase());</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line">public class MethodDemo1 &#123;</div><div class="line">	public static void main(String[] args) &#123;</div><div class="line">		//1.创建对象,获取类类型[要获取一个方法就是获取类的信息，获取类的信息首先要获取类的类类型]</div><div class="line">		A a1 = new A();</div><div class="line">		Class c = a1.getClass();</div><div class="line"></div><div class="line"></div><div class="line">		//2.获取方法 [名称和参数列表][getMethod获取的是public的方法 和 getDelcaredMethod自己声明的方法]</div><div class="line">	    try &#123;</div><div class="line">	    	</div><div class="line">	        System.out.println(&quot;==========方法1[无参构造方法]=========&quot;);</div><div class="line">	        Method m2 = c.getMethod(&quot;print&quot;);        		</div><div class="line">	       // m2.invoke(a1, new Object[]&#123;&#125;);</div><div class="line">	        m2.invoke(a1);</div><div class="line">	    	</div><div class="line">	    	System.out.println(&quot;==========方法2[有参构造方法(int,int)]=========&quot;);</div><div class="line">	    	//a.方法的反射操作 </div><div class="line">			//Method m =  c.getMethod(&quot;print&quot;, new Class[]&#123;int.class,int.class&#125;);</div><div class="line">	    	Method m = c.getMethod(&quot;print&quot;, int.class,int.class);</div><div class="line">	    	//b.传入参数,调用方法</div><div class="line">	    	//Object o = m.invoke(a1,new Object[]&#123;10,20&#125;);       //方法如果没有返回值返回null,有返回值返回具体的返回值</div><div class="line">	    	  Object o = m.invoke(a1, 10,20);</div><div class="line">	   </div><div class="line">	    	System.out.println(&quot;==========方法3[有参构造方法(Stirng,String)]=========&quot;);</div><div class="line">	        Method m1 = c.getMethod(&quot;print&quot;,String.class,String.class);</div><div class="line">	         o = m1.invoke(a1, &quot;hello&quot;,&quot;WORLD&quot;);</div><div class="line">	     </div><div class="line">		&#125; catch (Exception e) &#123;</div><div class="line">			e.printStackTrace();</div><div class="line">		&#125; </div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><br></p>
<h2 id="4-正则表达式"><a href="#4-正则表达式" class="headerlink" title="4.正则表达式"></a>4.正则表达式</h2><p>java.util.regex包下常用类</p>
<ul>
<li>Pattern类     【正则表达式编译表示】<ul>
<li>Matcher类    【匹配正则 and 操作结果序列 的工具类】</li>
<li>PatternSyntaxException异常【不被检查的异常，用来表示正则表达式的语法错误】<br><br></li>
</ul>
</li>
</ul>
<p>正则表达式匹配符号<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">子表达式    匹配对应</div><div class="line">    ^   匹配一行的开头</div><div class="line">    $   匹配一行的结尾</div><div class="line">    .   匹配除了换行符的任何单个字符，也可以利用 m 选项允许它匹配换行符</div><div class="line">    [...]   匹配括号内的任意单个字符。</div><div class="line">    [^...]  匹配不在括号内的任意单个字符。</div><div class="line">    \A  整个字符串的开始</div><div class="line">    \z  整个字符串的结束</div><div class="line">    \Z  整个字符串的结束，除了最后一行的结束符</div><div class="line">    re*     匹配0或者更多的前表达事件</div><div class="line">    re+     匹配1个或更多的之前的事件</div><div class="line">    re?     匹配0或者1件前表达事件</div><div class="line">    re&#123; n&#125;  匹配特定的n个前表达事件</div><div class="line">    re&#123; n,&#125;     匹配n或者更多的前表达事件</div><div class="line">    re&#123; n, m&#125;   匹配至少n最多m件前表达事件</div><div class="line">    a| b    匹配a或者b</div><div class="line">    (re)    正则表达式组匹配文本记忆</div><div class="line">    (?: re)     没有匹配文本记忆的正则表达式组</div><div class="line">    (?&gt; re)     匹配无回溯的独立的模式</div><div class="line">    \w  匹配单词字符</div><div class="line">    \W  匹配非单词字符</div><div class="line">    \s  匹配空格。等价于 [\t\n\r\f]</div><div class="line">    \S  匹配非空格</div><div class="line">    \d  匹配数字. 等价于 [0-9]</div><div class="line">    \D  匹配非数字</div><div class="line">    \A  匹配字符串的开始</div><div class="line">    \Z  匹配字符串的末尾，如果存在新的一行，则匹配新的一行之前</div><div class="line">    \z  匹配字符串的末尾</div><div class="line">    \G  匹配上一次匹配结束的地方</div><div class="line">    \n  返回参考捕获组号“N”</div><div class="line">    \b  不在括号里时匹配单词边界。在括号里时匹配退格键</div><div class="line">    \B  匹配非词边界</div><div class="line">    \n, \t, etc.    匹配换行符，回车符，制表符，等</div><div class="line">    \Q  引用字符的初始，结束于\E</div><div class="line">    \E  结束由\Q开始的引用</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>从给定字符串中找出数字字符串<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;从给定字符串中找出数字字符串</div><div class="line">		Pattern r = Pattern.compile(&quot;(.*)(\\d+)(.*)&quot;);  										//正则表达式</div><div class="line">		Matcher m = r.matcher(&quot;This order was placed for QT3000! OK?&quot;);							//需要匹配字的符串</div><div class="line">		if (m.find( )) &#123; 																	    //查找匹配的内容，得到结果序列</div><div class="line">			System.out.println(&quot;0：&quot; + m.group(0) );										    //查找结果中，指定索引序列的字符串</div><div class="line">			System.out.println(&quot;1：Found value: &quot; + m.group(1) );</div><div class="line">			System.out.println(&quot;2： Found value: &quot; + m.group(2) );</div><div class="line">			&#125; else &#123;</div><div class="line">				System.out.println(&quot;NO MATCH&quot;);</div><div class="line">			&#125;</div><div class="line">	</div><div class="line">		//替换第一个符合正则的数据</div><div class="line">		System.out.println(matcher.replaceFirst(&quot;We are the best&quot;));</div><div class="line">	</div><div class="line">		//替换全部符合正则的数据</div><div class="line">		System.out.println(matcher.replaceAll(&quot;We are the best&quot;));</div></pre></td></tr></table></figure></p>
<h2 id="-1"><a href="#-1" class="headerlink" title=""></a><br></h2><p><br><br></p>
<h2 id="5-操作I-O输入输出流和文件"><a href="#5-操作I-O输入输出流和文件" class="headerlink" title="5.操作I/O输入输出流和文件"></a>5.操作I/O输入输出流和文件</h2><p>&emsp;java.io.* 【各种输入和输出操作 的工具包】</p>
<p>次级目录</p>
<ol>
<li>文件</li>
<li>标准流[三种标准输入：STDIN,STDOUT,STDERR]</li>
<li>使用RandomAccessFile进行读写(随机读写)</li>
<li>字节流</li>
<li>字符流</li>
</ol>
<p><br></p>
<p><1>文件</1></p>
<ul>
<li>File类  [可用户文件(目录)的信息(名称,大小等)]<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;创建目录</div><div class="line">		String dirname = &quot;/tmp/user/java/bin&quot;;</div><div class="line">		File d = new File(dirname);</div><div class="line">		d.mkdirs();</div><div class="line"></div><div class="line">&lt;2&gt;遍历目录</div><div class="line">		public static void main(String args[])&#123;</div><div class="line">		     File file = null;</div><div class="line">		     String[] names;</div><div class="line">	</div><div class="line">		     try&#123;      </div><div class="line">		        file = new File(&quot;src/test&quot;);  //指定路径</div><div class="line">	</div><div class="line">		        names = file.list();			     //得到指定路径中的 文件和目录名 的集合</div><div class="line">		        for(String name : names) &#123;    //遍历</div><div class="line">		           System.out.println(name);</div><div class="line">		        &#125;</div><div class="line">		     &#125;catch(Exception e)&#123;</div><div class="line">		        e.printStackTrace();</div><div class="line">		     &#125;</div><div class="line">		&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<p><br></p>
<p><2>标准流[三种标准输入：STDIN,STDOUT,STDERR]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">jave提供3种:Standard Input,Standard Output,Standard Error】</div><div class="line"></div><div class="line">		public static void main(String args[]) throws IOException&#123;</div><div class="line">			 InputStreamReader isr = null;</div><div class="line">	</div><div class="line">		     try &#123;</div><div class="line">		    	 //A-实例化 【接收用户输入】</div><div class="line">		    	 isr = new InputStreamReader(System.in);  			//Standard Input - [System.in]</div><div class="line">		        System.out.println(&quot;输入 &apos;q&apos; ，回车 -&gt; 退出程序.&quot;);</div><div class="line">		        </div><div class="line">		        //B-do-while循环，判断用户输入，并打印输出</div><div class="line">		        char c;</div><div class="line">		        do &#123;</div><div class="line">		           c = (char) isr.read();</div><div class="line">		           System.out.print(c);										//Standard Output - [System.out]</div><div class="line">		        &#125; while(c != &apos;q&apos;);</div><div class="line">		     &#125;finally &#123;</div><div class="line">		    	 //C-关闭流</div><div class="line">		        if (isr != null)  isr.close();</div><div class="line">		     &#125;</div><div class="line">		&#125;</div></pre></td></tr></table></figure></2></p>
<hr>
<p><br></p>
<p><3>使用RandomAccessFile进行读写(随机读写)</3></p>
<ul>
<li>java文件模型  [在硬盘上的文件是byte,byte,byte存储的,是数据的集合]</li>
<li>打开文件方式  [有两种方式”rw(读写)”,”r(只读)”]<ul>
<li>写方法[raf.write(int),只写一个字节(后8位),同时指针指向下一个位置,准备再次写入]</li>
<li>读方法[int b = raf.read(),读一个字节]</li>
</ul>
</li>
<li>文件读写完成以后一定要关闭流<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">RandomAccessFile raf = new new RandomAccessFile(file,&quot;rw&quot;);</div><div class="line">System.out.println(&quot;指针的位置&quot; + raf.getFilePointer());</div><div class="line"></div><div class="line">//a-1.只写了一个字节</div><div class="line">raf.write(&apos;A&apos;); </div><div class="line">raf.write(&apos;B&apos;); </div><div class="line"></div><div class="line">//a.2-写1个int(用write每次只能写一个字节,如果要把i写进去得写次);</div><div class="line">int i = 0x7ffffff;  //16进制数组,代表999</div><div class="line">raf.write((i &gt;&gt;&gt; 24) &amp; 0xFF);  //高8位(右移后把前面的0给去掉,只留后8位)</div><div class="line">raf.write((i &gt;&gt;&gt; 16) &amp; 0xFF);</div><div class="line">raf.write((i &gt;&gt;&gt; 8) &amp; 0xFF);</div><div class="line">raf.write((i &gt;&gt;&gt; 0) &amp; 0xFF);</div><div class="line"></div><div class="line">//a-3直接写入一个int</div><div class="line">raf.writeInt(i); //底层即是如上操作</div><div class="line"></div><div class="line">//a-4写一个中文</div><div class="line">String s = &quot;中&quot;;</div><div class="line">byte [] gbk = s.getBytes(&quot;gbk&quot;);</div><div class="line">raf.write(gbk);</div><div class="line"></div><div class="line"></div><div class="line">//b-1.一次性读取[把文件中内容都读到字节数组中]</div><div class="line">raf.seek(0);  //读文件【必须把指针移动到头部】</div><div class="line">byte [] buf = new byte[(int)raf.length()];</div><div class="line">raf.read(buf);</div><div class="line">System.out.println(&quot;字节输出测试&quot; + Arrays.toString(buf));</div><div class="line"></div><div class="line"></div><div class="line">//b-2.构造成字符串读取</div><div class="line">String s1 = new String(buf);</div><div class="line">System.out.println(s1);</div><div class="line"></div><div class="line">//b-3.以16进制的方式读取</div><div class="line">for(byte b: buf)&#123;</div><div class="line">	System.out.println(Integer.toHexString(b &amp; 0xff) + &quot; &quot;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<p><1>字节流<br>a.字节单个读取指定文件内容<br>b.字节流批量读取<br>c.文件拷贝，字节批量读取<br>d.进行文件的拷贝，利用带缓冲的字节流<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div></pre></td><td class="code"><pre><div class="line">package com.imooc.io;</div><div class="line"></div><div class="line">import java.io.BufferedInputStream;</div><div class="line">import java.io.BufferedOutputStream;</div><div class="line">import java.io.File;</div><div class="line">import java.io.FileInputStream;</div><div class="line">import java.io.FileOutputStream;</div><div class="line">import java.io.IOException;</div><div class="line"></div><div class="line">public class IOUtil &#123;</div><div class="line">	/**</div><div class="line">	 * 读取指定文件内容，按照16进制输出到控制台并且每输出10个byte换行</div><div class="line">	 * 【单字节读取不适合大文件，大文件效率很低】</div><div class="line">	 * @param 文件名</div><div class="line">	 */</div><div class="line">	public static void printHex(String fileName)throws IOException&#123;</div><div class="line">		//把文件作为字节流进行读操作</div><div class="line">		FileInputStream in = new FileInputStream(fileName);</div><div class="line">		</div><div class="line">		int b ;</div><div class="line">		int i = 1;</div><div class="line">		while((b = in.read())!=-1)&#123;</div><div class="line">			//A.将整型转换为16进制标识的字符串</div><div class="line">			if(b &lt;= 0xf)&#123; //即表示1位,则单位数前面补0</div><div class="line">				System.out.print(&quot;0&quot;);</div><div class="line">			&#125;</div><div class="line">			System.out.print(Integer.toHexString(b)+&quot;  &quot;);</div><div class="line">			</div><div class="line">			//B.每输出10个byte换行</div><div class="line">			if(i++%10==0)&#123;</div><div class="line">				System.out.println();</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		</div><div class="line">		in.close();</div><div class="line">	&#125;</div><div class="line">	/**</div><div class="line">	 * 字节流批量读取</div><div class="line">	 * 【对大文件而言效率高，也是我们最常用的读文件的方式】</div><div class="line">	 * @param 文件名</div><div class="line">	 */</div><div class="line">	public static void printHexByByteArray(String fileName)throws IOException&#123;</div><div class="line">		FileInputStream in = new FileInputStream(fileName);</div><div class="line">		</div><div class="line">		byte[] buf = new byte[8 * 1024];</div><div class="line">		/*从in中批量读取字节，放入到buf这个字节数组中，</div><div class="line">		 * 从第0个位置开始放，最多放buf.length个 </div><div class="line">		 * 返回的是读到的字节的个数</div><div class="line">		*/</div><div class="line">		  int bytes = 0;</div><div class="line">		  int j = 1;</div><div class="line">		  while((bytes = in.read(buf,0,buf.length))!=-1)&#123;</div><div class="line">			  for(int i = 0 ; i &lt; bytes;i++)&#123;</div><div class="line">				  System.out.print(Integer.toHexString(buf[i] &amp; 0xff)+&quot;  &quot;);</div><div class="line">				  if(j++%10==0)&#123;</div><div class="line">					  System.out.println();</div><div class="line">				  &#125;</div><div class="line">			  &#125;</div><div class="line">		  &#125;</div><div class="line">		  </div><div class="line">	  in.close();</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	/**</div><div class="line">	 * 文件拷贝，字节批量读取</div><div class="line">	 * @param srcFile</div><div class="line">	 * @param destFile</div><div class="line">	 * @throws IOException</div><div class="line">	 */</div><div class="line">	public static void copyFile(File srcFile,File destFile)throws IOException&#123;</div><div class="line">		//A.判断</div><div class="line">		if(!srcFile.exists())&#123;</div><div class="line">			throw new IllegalArgumentException(&quot;文件:&quot;+srcFile+&quot;不存在&quot;);</div><div class="line">		&#125;</div><div class="line">		if(!srcFile.isFile())&#123;</div><div class="line">			throw new IllegalArgumentException(srcFile+&quot;不是文件&quot;);</div><div class="line">		&#125;</div><div class="line">		</div><div class="line">		//B.定义</div><div class="line">		FileInputStream in = new FileInputStream(srcFile);</div><div class="line">		FileOutputStream out = new FileOutputStream(destFile);</div><div class="line">		byte[] buf = new byte[8*1024];</div><div class="line">		int b ;</div><div class="line">		</div><div class="line">		//C.读取</div><div class="line">	    while((b = in.read(buf,0,buf.length))!=-1)&#123;</div><div class="line">	    	out.write(buf,0,b);</div><div class="line">	    	</div><div class="line">	    &#125;</div><div class="line">	    </div><div class="line">	    //D.关闭</div><div class="line">	    out.flush();//刷新流</div><div class="line">	    in.close();</div><div class="line">	    out.close();</div><div class="line">		</div><div class="line">	&#125;</div><div class="line"></div><div class="line"></div><div class="line">	/**</div><div class="line">	 * 进行文件的拷贝，利用带缓冲的字节流</div><div class="line">	 * @param srcFile</div><div class="line">	 * @param destFile</div><div class="line">	 * @throws IOException</div><div class="line">	 */</div><div class="line">	public static void copyFileByBuffer(File srcFile,File destFile)throws IOException&#123;</div><div class="line">		//A.判断</div><div class="line">		if(!srcFile.exists())&#123;</div><div class="line">			throw new IllegalArgumentException(&quot;文件:&quot;+srcFile+&quot;不存在&quot;);</div><div class="line">		&#125;</div><div class="line">		if(!srcFile.isFile())&#123;</div><div class="line">			throw new IllegalArgumentException(srcFile+&quot;不是文件&quot;);</div><div class="line">		&#125;</div><div class="line">		</div><div class="line">		//B.定义</div><div class="line">		BufferedInputStream bis = new BufferedInputStream(</div><div class="line">				new FileInputStream(srcFile));</div><div class="line">		BufferedOutputStream bos = new BufferedOutputStream(</div><div class="line">				new FileOutputStream(destFile));</div><div class="line">		int c ;</div><div class="line">		</div><div class="line">		//C.读取</div><div class="line">		while((c = bis.read())!=-1)&#123;</div><div class="line">			bos.write(c);</div><div class="line">			</div><div class="line">		&#125;</div><div class="line">		</div><div class="line">		//D.关闭</div><div class="line">		bos.flush();//刷新缓冲区</div><div class="line">		bis.close();</div><div class="line">		bos.close();</div><div class="line">	&#125;</div><div class="line">	/**</div><div class="line">	 * 单字节，不带缓冲进行文件拷贝</div><div class="line">	 * @param srcFile</div><div class="line">	 * @param destFile</div><div class="line">	 * @throws IOException</div><div class="line">	 */</div><div class="line">	public static void copyFileByByte(File srcFile,File destFile)throws IOException&#123;</div><div class="line">		if(!srcFile.exists())&#123;</div><div class="line">			throw new IllegalArgumentException(&quot;文件:&quot;+srcFile+&quot;不存在&quot;);</div><div class="line">		&#125;</div><div class="line">		if(!srcFile.isFile())&#123;</div><div class="line">			throw new IllegalArgumentException(srcFile+&quot;不是文件&quot;);</div><div class="line">		&#125;</div><div class="line">		FileInputStream in = new FileInputStream(srcFile);</div><div class="line">		FileOutputStream out = new FileOutputStream(destFile);</div><div class="line">		int c ;</div><div class="line">		while((c = in.read())!=-1)&#123;</div><div class="line">			out.write(c);</div><div class="line">			out.flush();</div><div class="line">		&#125;</div><div class="line">		in.close();</div><div class="line">		out.close();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></1></p>
<hr>
<p><br></p>
<p>字符流</p>
<ul>
<li>字符流读写文件</li>
<li>字符流的过滤器[一次读写1行]<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div></pre></td><td class="code"><pre><div class="line">package com.imooc.io;</div><div class="line"></div><div class="line">import java.io.BufferedReader;</div><div class="line">import java.io.BufferedWriter;</div><div class="line">import java.io.FileInputStream;</div><div class="line">import java.io.FileOutputStream;</div><div class="line">import java.io.FileReader;</div><div class="line">import java.io.FileWriter;</div><div class="line">import java.io.IOException;</div><div class="line">import java.io.InputStreamReader;</div><div class="line">import java.io.OutputStreamWriter;</div><div class="line">import java.io.PrintWriter;</div><div class="line"></div><div class="line">public class IOUtil_RW &#123;</div><div class="line"></div><div class="line">	/**</div><div class="line">	 * 字符流读写文件</div><div class="line">	 * @param readFileName [读取文件]</div><div class="line">	 * @param writeFileName [写入文件]</div><div class="line">	 * @throws IOException</div><div class="line">	 */</div><div class="line">	public static void ReaderWriteFile(String readFileName,String writeFileName) throws IOException&#123;</div><div class="line">		</div><div class="line">		//A.定义</div><div class="line">		FileReader fr = new FileReader(readFileName);</div><div class="line">		FileWriter fw = new FileWriter(writeFileName);</div><div class="line">		</div><div class="line">		//B.读写</div><div class="line">		char[] buffer = new char[2056];</div><div class="line">		int c ;</div><div class="line">		while((c = fr.read(buffer,0,buffer.length))!=-1)&#123;</div><div class="line">			fw.write(buffer,0,c);</div><div class="line">			</div><div class="line">		&#125;</div><div class="line">		</div><div class="line">		//C.刷新,关闭流</div><div class="line">		fw.flush();</div><div class="line">		fr.close();</div><div class="line">		fw.close();</div><div class="line">	&#125;</div><div class="line"></div><div class="line"></div><div class="line">	/**</div><div class="line">	 * 字符流的过滤器[一次读写1行]</div><div class="line">	* @param writeFileName [写入文件]</div><div class="line">	* @param writeFileName [写入文件]</div><div class="line">	 * @throws IOException</div><div class="line">	 */</div><div class="line">	public static void BufferReaderWriteFile(String readFileName,String writeFileName)  throws IOException&#123;</div><div class="line">		 //对文件进行读写操作 </div><div class="line">		BufferedReader br = new BufferedReader(</div><div class="line">											new InputStreamReader(</div><div class="line">													new FileInputStream(readFileName)));</div><div class="line">		BufferedWriter bw = new BufferedWriter(</div><div class="line">											new OutputStreamWriter(</div><div class="line">													new FileOutputStream(writeFileName)));</div><div class="line">		</div><div class="line">		//另一种缓冲流[可通过println换行]</div><div class="line">//		PrintWriter pw = new PrintWriter(&quot;e:\\javaio\\imooc4.txt&quot;);</div><div class="line">​		</div><div class="line">		String line ;</div><div class="line">		while((line = br.readLine()) != null)&#123;</div><div class="line">			System.out.println(line);//一次读一行，并不能识别换行</div><div class="line">			bw.write(line);               //写入文件</div><div class="line">			bw.newLine();				//单独换行操作【BufferedWriter无法自动识别换行】</div><div class="line"></div><div class="line">//			pw.println(line);</div><div class="line">//			pw.flush();</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		bw.flush();</div><div class="line">		br.close();</div><div class="line">		bw.close();</div><div class="line">//		pw.close();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<p><br></p>
<hr>
<p><br><br></p>
<h2 id="6-编写定时任务"><a href="#6-编写定时任务" class="headerlink" title="6.编写定时任务"></a>6.编写定时任务</h2><p>常用类</p>
<ul>
<li>Timer     [定时器工具,用来在一个后台线程计划执行指定任务]</li>
<li>TimerTask [抽象类,子类代表可以被Timer计划的任务]<br><br></li>
</ul>
<p>schedule() 和 scheduleAtFixedRate()的区别</p>
<ul>
<li>两个都是Timer类中安排执行定时器任务的方法</li>
<li>schedule[保持时间间隔的稳定]【循环时间】</li>
<li>scheduleAtFixedRate[保持执行频率的稳定]【循环速率】<br><br></li>
</ul>
<p>Timer的缺点</p>
<ul>
<li>Timer内部一个线程,需要等上一个任务执行完,才会执行下一个(某个任务超过预计指定时间)<br>+如果TimerTask 抛出 RuntimeException有异常,Timer会终止所有任务的运行<br><br></li>
</ul>
<p>用 ScheduledExecutorService类替代 Timer</p>
<ol>
<li>Timer是基于基于绝对时间【对系统时间比较敏感】;ScheduledExecutorService是基于相对时间</li>
<li>Timer内部单一线程;ScheduledExecutorService内部是个线程池,可以支持多个任务并发执行<br><br></li>
</ol>
<p>案例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">1. 延迟定时器(简单实现)</div><div class="line">2. 指定具体时间执行任务</div><div class="line">3. 循环定时器【指定第一次延迟 and 循环间隔】</div><div class="line">4. ScheduledExecutorService定时器</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;1&gt;延迟定时器(简单实现)</div><div class="line">		class Task extends TimerTask&#123;</div><div class="line">			public void run()&#123;</div><div class="line">				System.out.println(&quot;---------- &gt;开始定时器任务！&quot;);</div><div class="line">				for(int i = 0;i &lt; 5;i++)&#123;</div><div class="line">					System.out.println(&quot;定时器循环：&quot; + i);          //定时器线程奔跑</div><div class="line">					try &#123;</div><div class="line">						Thread.sleep(100);</div><div class="line">					&#125; catch (Exception e) &#123;&#125;</div><div class="line">				&#125;</div><div class="line">				System.out.println(&quot;---------- &gt;定时器执行完毕！&quot;);</div><div class="line">				this.cancel();</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		public  class Test &#123;</div><div class="line">			public static void main(String[] args)&#123;</div><div class="line">				System.out.println(&quot;**************2秒后执行定时器任务**************&quot;);</div><div class="line">				</div><div class="line">				Timer timer = new Timer();</div><div class="line">				timer.schedule(new Task(), 2*1000); 				  //2秒后执行定时器任务</div><div class="line">				</div><div class="line">				for(int i = 0;i &lt; 30; i ++)&#123;  </div><div class="line">					System.out.println(&quot;main线程的循环：&quot; + i);  //main线程奔跑</div><div class="line">					try &#123;</div><div class="line">						Thread.sleep(100);</div><div class="line">					&#125; catch (Exception e) &#123;&#125;</div><div class="line">				&#125;</div><div class="line">				</div><div class="line">				System.out.println(&quot;**************main线程完毕**********&quot;);</div><div class="line">				timer.cancel();    												  // 终止此计时器，丢弃所有当前已安排的任务。[不终止的话,定时器线程一直在运行]</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;指定具体时间执行任务</div><div class="line">		//定时器任务</div><div class="line">		class Task extends TimerTask&#123;</div><div class="line">			public void run()&#123;</div><div class="line">				System.out.println(&quot;指定时间执行定时器线程任务!&quot;);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		public  class Test &#123;</div><div class="line">			</div><div class="line">			//设置指定时间</div><div class="line">			public static Date getTime()&#123;</div><div class="line">				//当时间到达 2017-3-26 10:36:40 时就会执行该线程任务(大于该时间(运行前已经超过指定时间),会马上执行)</div><div class="line">				Calendar calendar = Calendar.getInstance();</div><div class="line">				     calendar.set(Calendar.YEAR, 2017);     				 //年</div><div class="line">				     calendar.set(Calendar.MONTH, 3 -1 );  				 //月份【月份需要-1 ,0(1月),2(3月)】</div><div class="line">				     calendar.set(Calendar.DAY_OF_MONTH,26);      //天</div><div class="line">				     calendar.set(Calendar.HOUR_OF_DAY,10);         //时</div><div class="line">					 calendar.set(Calendar.MINUTE, 36);				     //分</div><div class="line">					 calendar.set(Calendar.SECOND, 40);					 //秒</div><div class="line"></div><div class="line"></div><div class="line">				Date date = calendar.getTime();</div><div class="line">				return date;</div><div class="line">			&#125;</div><div class="line">			</div><div class="line">			//主方法</div><div class="line">			public static void main(String[] args)&#123;</div><div class="line">					</div><div class="line">				//A-获取指定时间</div><div class="line">				Date date = Test.getTime();</div><div class="line">				</div><div class="line">				//B-设置定时器</div><div class="line">				Timer timer = new Timer();</div><div class="line">				timer.schedule(new Task(), date); //定时器任务 and 指定时间</div><div class="line">				</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;3&gt;循环定时器【指定第一次延迟 and 循环间隔】</div><div class="line">		//定时器任务</div><div class="line">		class Task extends TimerTask&#123;</div><div class="line">			public void run()&#123;</div><div class="line">				Date nowDate = new Date(this.scheduledExecutionTime());  //获取当前时间</div><div class="line">				System.out.println(&quot;本次执行定时器线程的时间为: &quot;  + nowDate);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		public  class Test &#123;</div><div class="line">			</div><div class="line">			//主方法</div><div class="line">			public static void main(String[] args)&#123;</div><div class="line"></div><div class="line"></div><div class="line">				//B-设置定时器</div><div class="line">				Timer timer = new Timer();</div><div class="line">				timer.schedule(new Task(), 1*1000,2*1000); //定时器任务 and 1秒后执行 and 每2秒运行一次 【不关闭定时器会一直运行】</div><div class="line">				</div><div class="line">				try&#123;</div><div class="line">					Thread.sleep(10 * 1000);    //main线程休眠10秒</div><div class="line">					timer.cancel();  				  //关闭定时器</div><div class="line">				&#125;catch(Exception e)&#123;&#125;</div><div class="line">				</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line"></div><div class="line"></div><div class="line">&lt;4&gt;ScheduledExecutorService定时器</div><div class="line">		//一.自定义异常类</div><div class="line">		class MyException extends Exception&#123;</div><div class="line">			public MyException()&#123;</div><div class="line">				</div><div class="line">			&#125;</div><div class="line">			public MyException(String message)&#123;</div><div class="line">				super(message);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	</div><div class="line">		//二.测试定时器服务类</div><div class="line">		class TestScheduledExecutorService&#123;</div><div class="line">			public ScheduledExecutorService service;   //服务</div><div class="line">			public long  start;										//储存开始时间</div><div class="line">			</div><div class="line">			//构造函数</div><div class="line">			public TestScheduledExecutorService()&#123;</div><div class="line">				this.service =  Executors.newScheduledThreadPool(2);           // 创建2个线程池，它可安排在给定延迟后运行命令或者定期地执行。</div><div class="line">		        this.start = System.currentTimeMillis();                                    //开始时间</div><div class="line">			&#125;</div><div class="line">			</div><div class="line">			//任务1：</div><div class="line">			public void taskOne()&#123;</div><div class="line">				service.schedule(new Runnable() &#123;</div><div class="line">					@Override</div><div class="line">					public void run() &#123;</div><div class="line">						System.out.println(&quot;任务1(timeOne)的执行时间:&quot; + (System.currentTimeMillis() - start));</div><div class="line">						try&#123;</div><div class="line">							 throw new MyException(&quot;这里抛出自定义异常&quot;);   //这里抛出异常后仍然会执行任务2(taskTwo)</div><div class="line">						&#125;catch (Exception e) &#123;</div><div class="line">							e.printStackTrace();</div><div class="line">						&#125;</div><div class="line">					&#125;</div><div class="line">				&#125;, 1*1000, TimeUnit.MILLISECONDS); //延迟1秒后执行 and 时间单位(毫秒)</div><div class="line">			&#125;</div><div class="line">			//任务2:</div><div class="line">			public void taskTwo()&#123;</div><div class="line">				service.schedule(new Runnable() &#123;</div><div class="line">					@Override</div><div class="line">					public void run() &#123;</div><div class="line">						System.out.println(&quot;任务2(timeTwo)的执行时间:&quot; + (System.currentTimeMillis() - start));</div><div class="line">					&#125;</div><div class="line">				&#125;, 2* 1000, TimeUnit.MILLISECONDS); //延迟2秒后执行 and 时间单位(毫秒)</div><div class="line">										/*</div><div class="line">										 * MICROSECONDS    微秒   一百万分之一秒（就是毫秒/1000）</div><div class="line">											MILLISECONDS    毫秒   千分之一秒    </div><div class="line">											NANOSECONDS   毫微秒  十亿分之一秒（就是微秒/1000）</div><div class="line">											SECONDS          秒</div><div class="line">											MINUTES     分钟</div><div class="line">											HOURS      小时</div><div class="line">											DAYS      天</div><div class="line">										 */</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	</div><div class="line">		//三.测试类</div><div class="line">		public  class Test &#123;</div><div class="line">			</div><div class="line">			//主方法</div><div class="line">			public static void main(String[] args)&#123;</div><div class="line">				TestScheduledExecutorService s = new TestScheduledExecutorService();</div><div class="line">				s.taskOne();   //执行任务1</div><div class="line">				s.taskTwo();  //执行任务2</div><div class="line">				s.service.shutdown();  //关闭服务</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line"></div><div class="line"></div><div class="line">********************控制台输出*********************</div><div class="line">			任务1(timeOne)的执行时间:1001</div><div class="line">			任务2(timeTwo)的执行时间:2002</div></pre></td></tr></table></figure></p>
<h2 id="-2"><a href="#-2" class="headerlink" title=""></a><br></h2><p><br><br></p>
<h2 id="7-获取控制台键盘输入"><a href="#7-获取控制台键盘输入" class="headerlink" title="7.获取控制台键盘输入"></a>7.获取控制台键盘输入</h2><p>案例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;键盘输入</div><div class="line">	    public static void printIO(int way) throws  IOException&#123; //参数：方式</div><div class="line">	        if(way == 1)&#123;</div><div class="line">	            int i = 0;</div><div class="line">	            while(i != -1)&#123;</div><div class="line">	                i = System.in.read(); //获取输入流,从输入流中读取数据的下一个字节</div><div class="line">	                System.out.print((char)i);  //i是字符的ASCII码值,强转为字符输出</div><div class="line">	            &#125;</div><div class="line">	        &#125;</div><div class="line">	        else if(way == 2)&#123;</div><div class="line">	            byte [] b = new byte[1024];     //数据缓冲</div><div class="line">	            int n = System.in.read(b);</div><div class="line">	            String s = new String(b,0,n); //将byte数组转为字符串</div><div class="line">	            System.out.println(s);</div><div class="line">	        &#125;</div><div class="line">	        else if(way == 3)&#123;</div><div class="line">	            Scanner scanner = new Scanner(System.in);</div><div class="line">	            while(scanner.hasNext())&#123;</div><div class="line">	                System.out.println(scanner.nextLine());</div><div class="line">	            &#125;</div><div class="line">	        &#125;</div><div class="line">	        else if(way == 4)&#123;</div><div class="line">	            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));</div><div class="line">	            System.out.println(br.readLine());</div><div class="line">	        &#125;</div><div class="line">	    &#125;</div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;使用Scanner读取</div><div class="line">			public static void main(String[] args) throws Exception&#123;</div><div class="line"></div><div class="line">		        Scanner sr=new Scanner(System.in);</div><div class="line">		        String str=sr.next(); //next() --Finds and returns the next complete token from this scanner.</div><div class="line">		        System.out.println(str);</div><div class="line"></div><div class="line"></div><div class="line">		        //读取文件输入</div><div class="line">		//      Scanner s=null;</div><div class="line">		//      try&#123;</div><div class="line">		//          s=new Scanner(new BufferedReader(new FileReader(&quot;C:\\Users\\Liu-shuwei\\Desktop\\你好.txt&quot;)));</div><div class="line">		//          s.useDelimiter(&quot;jdk&quot;);//使用字符串&quot;jdk作为分隔符&quot;</div><div class="line">		//          while(s.hasNext())&#123;</div><div class="line">		//              System.out.println(s.next());</div><div class="line">		//          &#125;</div><div class="line">		//      &#125;finally&#123;</div><div class="line">		//          if(s!=null) s.close();</div><div class="line">		//      &#125;</div><div class="line">		 	&#125;</div></pre></td></tr></table></figure></p>
<h2 id="-3"><a href="#-3" class="headerlink" title=""></a><br></h2><p><br><br></p>
<h2 id="8-文档注释【JavaDoc】"><a href="#8-文档注释【JavaDoc】" class="headerlink" title="8.文档注释【JavaDoc】"></a>8.文档注释【JavaDoc】</h2><p>&emsp;Javadoc是JDK附带的一个工具[用来生成从需要预定义格式的文档的Java源代码至HTML格式的Java代码文档]<br><br></p>
<p>标签<br>@author         [添加类的作者]<br>@code             [不把文本转换成 HTML 标记和嵌套的Java标签而用代码字体展示它]<br>@docRoot         [表示从任何生成页面到生成文档的根目录的相对路径 ]<br>@deprecated     [添加一个注释暗示 API 应该不再被使用]<br>@exception         [用类名和描述文本给生成的文档添加一个副标题]<br>@inheritDoc     [从最近的可继承的类或可实现的接口继承注释]<br>@link             [用指向特定的包，类或者一个引用类的成员名的文档的可见文本标签插入在线链接]<br>@linkplain         [和{@link}相同，除了链接的标签用纯文本标示而不是代码字体]<br>@param             [给“参数”区域添加一个有特定参数名且后跟着特定描述的参数]<br>@return         [添加一个有描述文本的“Returns”区域]<br>@see             [添加带有链接或者指向引用的文本入口的标题“See] Also”<br>@serial         [在默认的序列化字段的文本注释中使用]<br>@serialData     [记录由 writeObject( ) 或 writeExternal( )方法所写的数据 ]<br>@serialField     [记录一个 ObjectStreamField 成分]<br>@since             [给生成的文档添加一个带有特定 since 文本的”Since”标题]<br>@throws         [@throw 和 @exception 标签是同义词]<br>@value             [当{@value}被用在一个静态字段的文本注释中，它展示了那个常量的值]<br>@version         [当 -version 选项被使用时用特定的 version w文本给生成的文本添加一个“Version”副标题]<br><br></p>
<p>案例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;转换HTML部分 以及文档</div><div class="line">		/**</div><div class="line">		* &lt;h1&gt;Hello, World!&lt;/h1&gt;</div><div class="line">		* The HelloWorld program implements an application that</div><div class="line">		* simply displays &quot;Hello World!&quot; to the standard output.</div><div class="line">		* &lt;p&gt;</div><div class="line">		* Giving proper comments in your program makes it more</div><div class="line">		* user friendly and it is assumed as a high quality code.</div><div class="line">		* </div><div class="line">		*</div><div class="line">		* @author  Zara Ali</div><div class="line">		* @version 1.0</div><div class="line">		* @since   2014-03-31 </div><div class="line">		*/</div><div class="line">		public class HelloWorld &#123;</div><div class="line">		    public static void main(String[] args) &#123;</div><div class="line">		        // Prints Hello, World! on standard output.</div><div class="line">		        System.out.println(&quot;Hello World!&quot;);</div><div class="line">		    &#125;</div><div class="line">		&#125;</div><div class="line">	</div><div class="line">		********************************************</div><div class="line">		JDK运行环境下输入命令：</div><div class="line">			javadoc HelloWorld.java</div></pre></td></tr></table></figure></p>
<h2 id="-4"><a href="#-4" class="headerlink" title=""></a><br></h2><p><br><br></p>
<h2 id="9-编码问题"><a href="#9-编码问题" class="headerlink" title="9.编码问题"></a>9.编码问题</h2><p>&emsp;char型变量是用来存储Unicode编码的字符的，unicode编码字符集中包含了汉字【你一个特殊工艺汉字没有被包含在unicode编码字符集中，就不能用char来储存】<br><br></p>
<p>资源</p>
<ul>
<li><a href="https://zh.wikipedia.org/wiki/Unicode" target="_blank" rel="external">Unicode编码</a><br><br></li>
</ul>
<p>Unicode码</p>
<ul>
<li>是java默认字符集,占两个字节byte</li>
<li>一个字节=8比特位</li>
<li>每个Unicode占用16比特位<br><br></li>
</ul>
<p>ANSI码f</p>
<ul>
<li>在简体中文的windows系统,ANSI就是GB2312</li>
<li>ASCII码是ANSI码的子集</li>
<li>标准的ASCII只使用7个bit<br><br></li>
</ul>
<p>中文字符</p>
<ul>
<li>Java语言中,中文字符所占字节取决于字符的编码方式<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">ISO8859-1  1个中文与1个英文字符一样,占1个字节</div><div class="line">GB2312 or GBK编码  1个中文字符,占2个字节</div><div class="line">UTF-8编码  1个中文字符,占3个字节</div></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;</div><div class="line">	 ASCII：美国标准信息交换码，用一个字节的7位可以表示一个字符</div><div class="line">	 ISO8859-1：拉丁码表，西欧标准字符集，用一个字节的8位表示</div><div class="line">	 GB2312：中文编码表，用两个字节来表示中文编码</div><div class="line">	 GBK：中文编码表的升级，融合了更多表示中文文字符号</div><div class="line">	 GB18030：GBK的取代版本</div><div class="line">	 BIG-5：同行与港台地区，是繁体字编码方案，俗称“大五码”</div><div class="line">	 Uicode:国际标准码，融合了多种文字</div><div class="line">	 UTF-8:是Unicode编码的实现方式，最多用三个字节来表示一个字符</div><div class="line">	    </div><div class="line">	 GBK编码     中文占用2个字节，英文占用1个字节</div><div class="line">	 UTF-8编码   中文占用3个字节，英文占用1个字节</div><div class="line">	 UTF-16be编码中文占用2个字节，英文占用2个字节</div><div class="line">	 Java是双字节编码 utf-16be，即java中每个字符占用两个字节</div><div class="line"></div><div class="line"></div><div class="line">	//转码</div><div class="line">	String.getBytes(&quot;要获得字节序列的编码格式&quot;);</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;</div><div class="line">		/*测试Unicode*/</div><div class="line">		public static void main(String[] args) &#123;</div><div class="line">				char c = &apos;Ǵ&apos;;</div><div class="line">				System.out.println((char)500);</div><div class="line">				</div><div class="line">				Unicode: //尝试将int转为char【得到Unicode编码的字符集】</div><div class="line">					for(int i = 0;i &lt; 10000; i++)&#123;</div><div class="line">						System.out.print((char)i + &quot;\t&quot;);</div><div class="line">						if(i % 10 == 0)&#123;</div><div class="line">							System.out.println();//换行</div><div class="line">						&#125;</div><div class="line">					&#125;</div><div class="line">		&#125;</div></pre></td></tr></table></figure>
<h2 id="-5"><a href="#-5" class="headerlink" title=""></a><br></h2><p><br><br></p>
<h2 id="10-Applet的简单介绍"><a href="#10-Applet的简单介绍" class="headerlink" title="10.Applet的简单介绍"></a>10.Applet的简单介绍</h2><p>&emsp;一个Applet是运行在网页浏览器上的Java程序</p>
<p>说明:</p>
<ul>
<li>一个Applet是继承Applet类(java.applet.Applet)的java类</li>
<li>main()不在Applet调用[一个Applet不定义main()]</li>
<li>Applet程序被设计嵌入HTML页面</li>
<li>用户查看带有Applet的HTML页面,Applet的代码会被下载到用户机器</li>
<li>需要JVM查看[浏览器的插件 or 独立运行环境]</li>
<li>有网页浏览器实施的严格安全规则[安全性被称为”沙箱安全”]</li>
<li>Java Archive(JAR)[下载Applet所需要的类]<br><br></li>
</ul>
<p>生命周期</p>
<ul>
<li>初始化[init(),Applet的参数标签被处理后调用]</li>
<li>开始[(start(),浏览器调用init()后自动调用 和 任何返回该applet的页面时候调用]</li>
<li>描述(paint(),执行start()方法后立刻调用)</li>
<li>离开[stop(),离开applet所在页面时自动调用,在同一个Applet能重复调用]</li>
<li>销毁(destroy(),仅正常关闭浏览器时调用)<br><br></li>
</ul>
<hr>
<p><br><br></p>
<h2 id="11-发送邮件【JavaMail】"><a href="#11-发送邮件【JavaMail】" class="headerlink" title="11.发送邮件【JavaMail】"></a>11.发送邮件【JavaMail】</h2><p>参考资料:</p>
<ul>
<li><a href="http://www.oracle.com/technetwork/java/index.html" target="_blank" rel="external">Java的扩展jar下载</a></li>
<li><a href="http://www.oracle.com/technetwork/java/javamail-1-4-140512.html" target="_blank" rel="external">JavaMail 1.4</a></li>
<li><a href="http://www.cnblogs.com/whgk/p/6506027.html" target="_blank" rel="external">Java Web(十三) 使用javamail进行发送邮件，(使用QQ，163，新浪邮箱服务器)</a></li>
<li>Java Activation Framework (JAF)<br><br></li>
</ul>
<p>Maven依赖<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;!--JavaMail包[发送邮件]--&gt;</div><div class="line">   &lt;dependency&gt;</div><div class="line">     &lt;groupId&gt;javax.mail&lt;/groupId&gt;</div><div class="line">     &lt;artifactId&gt;mail&lt;/artifactId&gt;</div><div class="line">     &lt;version&gt;1.4.7&lt;/version&gt;</div><div class="line">   &lt;/dependency&gt;</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>Email【POJO,储存邮件信息】<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div></pre></td><td class="code"><pre><div class="line">package com.blog.extend.javamail;</div><div class="line"></div><div class="line">import javax.mail.Authenticator;</div><div class="line">import javax.mail.PasswordAuthentication;</div><div class="line">import java.util.Date;</div><div class="line">	</div><div class="line">/**</div><div class="line"> *  POJO对象,储存邮箱信息</div><div class="line"> *</div><div class="line"> * @Author Suvan</div><div class="line"> * @Date 2017-05-29-21:17</div><div class="line"> */</div><div class="line">public class Email &#123;</div><div class="line">    private String username;                    //发送者地址</div><div class="line">    private String pensonalName;               //发信人名称[可自定义]</div><div class="line">    private String authorizationCode;        //授权码</div><div class="line">    private String recipients;                 //收件人</div><div class="line">    private String subject;                    //主题</div><div class="line">    private String text;                       //文本内容</div><div class="line">    private String content;                    //HTML内容</div><div class="line">    private Date sendDate;                     //发送日期</div><div class="line">    private String propertiesWay;               //连接方式[163和qq邮箱都是默认,gmail可选择SSL或者TSL]</div><div class="line">	</div><div class="line">    //授权信息</div><div class="line">    private Authenticator authenticator = new Authenticator() &#123;</div><div class="line">        @Override</div><div class="line">        protected PasswordAuthentication getPasswordAuthentication() &#123;</div><div class="line">            //填写自己163邮箱的登录账户和授权密码</div><div class="line">            return new PasswordAuthentication(username, authorizationCode);</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line"></div><div class="line"></div><div class="line">    //Getter</div><div class="line">    public String getUsername() &#123;</div><div class="line">        return username;</div><div class="line">    &#125;</div><div class="line">	</div><div class="line">    public String getAuthorizationCode() &#123;</div><div class="line">        return authorizationCode;</div><div class="line">    &#125;</div><div class="line">	</div><div class="line">    public String getRecipients() &#123;</div><div class="line">        return recipients;</div><div class="line">    &#125;</div><div class="line">	</div><div class="line">    public String getSubject() &#123;</div><div class="line">        return subject;</div><div class="line">    &#125;</div><div class="line">	</div><div class="line">    public String getText() &#123;</div><div class="line">        return text;</div><div class="line">    &#125;</div><div class="line">	</div><div class="line">    public String getContent() &#123;</div><div class="line">        return content;</div><div class="line">    &#125;</div><div class="line">	</div><div class="line">    public Date getSendDate() &#123;</div><div class="line">        return sendDate;</div><div class="line">    &#125;</div><div class="line">	</div><div class="line">    public Authenticator getAuthenticator() &#123;</div><div class="line">        return authenticator;</div><div class="line">    &#125;</div><div class="line">	</div><div class="line">    public String getPropertiesWay() &#123;</div><div class="line">        return propertiesWay;</div><div class="line">    &#125;</div><div class="line">	</div><div class="line">    public String getPensonalName() &#123;</div><div class="line">        return pensonalName;</div><div class="line">    &#125;</div><div class="line">	</div><div class="line">    //Setter</div><div class="line">    public void setUsername(String username) &#123;</div><div class="line">        this.username = username;</div><div class="line">    &#125;</div><div class="line">	</div><div class="line">    public void setAuthorizationCode(String authorizationCode) &#123;</div><div class="line">        this.authorizationCode = authorizationCode;</div><div class="line">    &#125;</div><div class="line">	</div><div class="line">    public void setRecipients(String recipients) &#123;</div><div class="line">        this.recipients = recipients;</div><div class="line">    &#125;</div><div class="line">	</div><div class="line">    public void setSubject(String subject) &#123;</div><div class="line">        this.subject = subject;</div><div class="line">    &#125;</div><div class="line">	</div><div class="line">    public void setText(String text) &#123;</div><div class="line">        this.text = text;</div><div class="line">    &#125;</div><div class="line">	</div><div class="line">    public void setContent(String content) &#123;</div><div class="line">        this.content = content;</div><div class="line">    &#125;</div><div class="line">	</div><div class="line">    public void setSendDate(Date sendDate) &#123;</div><div class="line">        this.sendDate = sendDate;</div><div class="line">    &#125;</div><div class="line">	</div><div class="line">    public void setAuthenticator(Authenticator authenticator) &#123;</div><div class="line">        this.authenticator = authenticator;</div><div class="line">    &#125;</div><div class="line">	</div><div class="line">    public void setPropertiesWay(String propertiesWay) &#123;</div><div class="line">        this.propertiesWay = propertiesWay;</div><div class="line">    &#125;</div><div class="line">	</div><div class="line">    public void setPensonalName(String pensonalName) &#123;</div><div class="line">        this.pensonalName = pensonalName;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>SendEmail【发送邮件功能】<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div></pre></td><td class="code"><pre><div class="line">package com.blog.extend.javamail;</div><div class="line"></div><div class="line"></div><div class="line">import com.sun.mail.util.MailSSLSocketFactory;</div><div class="line"></div><div class="line">import javax.mail.MessagingException;</div><div class="line">import javax.mail.NoSuchProviderException;</div><div class="line">import javax.mail.Session;</div><div class="line">import javax.mail.Transport;</div><div class="line">import javax.mail.internet.InternetAddress;</div><div class="line">import javax.mail.internet.MimeMessage;</div><div class="line">import java.io.UnsupportedEncodingException;</div><div class="line">import java.security.GeneralSecurityException;</div><div class="line">import java.util.Date;</div><div class="line">import java.util.Properties;</div><div class="line"></div><div class="line"></div><div class="line">/**</div><div class="line"> * 使用javaMail发送邮件【163邮箱,qq邮箱,gmail邮箱】</div><div class="line"> *</div><div class="line"> * @Author Suvan</div><div class="line"> * @Date 2017-05-29-20:40</div><div class="line"> */</div><div class="line">public class SendEmail &#123;</div><div class="line">    /*个人邮箱*/</div><div class="line">    public Properties getProperties_liushuwei()&#123;</div><div class="line">        Properties props = new Properties();</div><div class="line">	</div><div class="line">        props.setProperty(&quot;mail.host&quot;,&quot;mail.liushuwei.cn&quot;);      //网易smtp邮箱服务器</div><div class="line">        return props;</div><div class="line">    &#125;</div><div class="line">	</div><div class="line">    /*网易邮箱连接参数【需要开启：POP3/SMTP服务 】*/</div><div class="line">    public Properties getProperties_163()&#123;</div><div class="line">        Properties props = new Properties();</div><div class="line">            props.setProperty(&quot;mail.smtp.auth&quot;, &quot;true&quot;);        //开启权限验证</div><div class="line">            props.setProperty(&quot;mail.host&quot;,&quot;smtp.163.com&quot;);      //网易smtp邮箱服务器</div><div class="line">	</div><div class="line">        return props;</div><div class="line">    &#125;</div><div class="line">	</div><div class="line">    /*QQ邮箱连接参数【需要开启：POP3/SMTP服务 】*/</div><div class="line">    public Properties getProperties_qq()&#123;</div><div class="line">        Properties props = new Properties();</div><div class="line">            props.setProperty(&quot;mail.smtp.auth&quot;, &quot;true&quot;);        //开启权限验证</div><div class="line">            props.setProperty(&quot;mail.host&quot;,&quot;smtp.qq.com&quot;);      //qq的smtp邮箱服务器</div><div class="line">            props.setProperty(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);</div><div class="line">	</div><div class="line">        //QQ邮箱的SSL加密</div><div class="line">        MailSSLSocketFactory sf = null;</div><div class="line">        try&#123;</div><div class="line">            sf = new MailSSLSocketFactory();</div><div class="line">            sf.setTrustAllHosts(true);</div><div class="line">        &#125;catch (GeneralSecurityException e)&#123;</div><div class="line">            e.printStackTrace();</div><div class="line">        &#125;</div><div class="line">	</div><div class="line">        props.put(&quot;mail.smtp.ssl.enable&quot;,&quot;true&quot;);</div><div class="line">        props.put(&quot;mail.smtp.ssl.socketFactory&quot;,sf);</div><div class="line"></div><div class="line"></div><div class="line">        return props;</div><div class="line">    &#125;</div><div class="line">	</div><div class="line">    /*谷歌邮箱连接参数【需要开启：允许不够安全的应用】*/</div><div class="line">    public Properties getProperties_gmail(String way)&#123;</div><div class="line">	</div><div class="line">        Properties props = new Properties();</div><div class="line">        if(&quot;SSL&quot;.equals(way))&#123;</div><div class="line">            //1.SSL方式</div><div class="line">            final String SSL_FACTORY = &quot;javax.net.ssl.SSLSocketFactory&quot;;</div><div class="line">            props.put(&quot;mail.debug&quot;, &quot;true&quot;);</div><div class="line">            props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);</div><div class="line">            props.put(&quot;mail.smtp.ssl.enable&quot;, &quot;true&quot;);</div><div class="line">            props.put(&quot;mail.smtp.socketFactory.class&quot;, SSL_FACTORY);</div><div class="line">            props.put(&quot;mail.smtp.port&quot;, &quot;465&quot;);</div><div class="line">            props.put(&quot;mail.smtp.socketFactory.port&quot;, &quot;465&quot;);</div><div class="line">            props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);</div><div class="line">            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);</div><div class="line">        &#125;else&#123;</div><div class="line">            //2.TLS方式</div><div class="line">            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);</div><div class="line">            props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);</div><div class="line">            props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);</div><div class="line">            props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);</div><div class="line">        &#125;</div><div class="line">	</div><div class="line">        return props;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    /*发送邮件*/</div><div class="line">    public void GO(Email email)&#123;  //Email对象</div><div class="line">        try &#123;</div><div class="line">            //A-构建连接参数</div><div class="line">            String username = email.getUsername();</div><div class="line">            String emailServer = username.substring(username.indexOf(&quot;@&quot;)+1,username.lastIndexOf(&quot;.&quot;));</div><div class="line">            Properties props = null;</div><div class="line">            if(&quot;163&quot;.equals(emailServer))&#123;</div><div class="line">                props = getProperties_163();</div><div class="line">            &#125;else if(&quot;qq&quot;.equals(emailServer))&#123;</div><div class="line">                props = getProperties_qq();</div><div class="line">            &#125;else if(&quot;gmail&quot;.equals(emailServer))&#123;</div><div class="line">                props = getProperties_gmail(&quot;SSL&quot;);</div><div class="line">            &#125;else if(&quot;liushuwei&quot;.equals(emailServer))&#123;</div><div class="line">                props = getProperties_liushuwei();</div><div class="line">            &#125;</div><div class="line"></div><div class="line"></div><div class="line">            //B.获取连接【获取默认会话对】</div><div class="line">            Session mailSession = Session.getInstance(props, email.getAuthenticator()); //连接参数,授权信息</div><div class="line">	</div><div class="line">            //B-创建消息【获取MimeMessage对象】</div><div class="line">            MimeMessage  msg = new MimeMessage(mailSession);</div><div class="line">	</div><div class="line">            //B-2.发件邮件 + 发信名称[没设置的话默认为空]</div><div class="line">            String personalName =  email.getPensonalName();</div><div class="line">            if (personalName != null)&#123;</div><div class="line">                try&#123;</div><div class="line">                    msg.setFrom(new InternetAddress(email.getUsername(),personalName));</div><div class="line">                &#125;catch (UnsupportedEncodingException ue)&#123;ue.printStackTrace();&#125;</div><div class="line">            &#125;else&#123;</div><div class="line">                msg.setFrom(new InternetAddress(email.getUsername())); //默认发信名称为：邮箱地址</div><div class="line">            &#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">            /*B-3.收件人</div><div class="line">             *    参数1：</div><div class="line">             *      Message.RecipientType.TO  代表收件人(主要收件,能知道抄送给谁,不知道暗送)</div><div class="line">             *      Message.RecipientType.CC  抄送</div><div class="line">             *      Message.RecipientType.BCC 暗送</div><div class="line">             *</div><div class="line">             *    参数2：</div><div class="line">             *      收件人地址 or 抄送or密送名单【群发-Address[]】</div><div class="line">             */</div><div class="line">	</div><div class="line">            msg.setRecipient(MimeMessage.RecipientType.TO,</div><div class="line">                             new InternetAddress(email.getRecipients()));</div><div class="line">	</div><div class="line">            //B-4.日期,主题,正文</div><div class="line">            Date date = email.getSendDate();</div><div class="line">            String text = email.getText();</div><div class="line">            String content = email.getContent();</div><div class="line">	</div><div class="line">            if(date != null)&#123;</div><div class="line">                msg.setSentDate(date);                                                 //日期</div><div class="line">            &#125;</div><div class="line">            msg.setSubject(email.getSubject(), &quot;UTF-8&quot;);                       //主题</div><div class="line">            if(text != null)&#123;</div><div class="line">                msg.setText(text, &quot;UTF-8&quot;);                                    //文本内容</div><div class="line">            &#125;else if(content != null)&#123;</div><div class="line">                msg.setContent(content,&quot;text/html;charset=UTF-8&quot;);                       //HTML内容</div><div class="line">            &#125;</div><div class="line">	</div><div class="line">            msg.saveChanges();//保存更改</div><div class="line">	</div><div class="line">            //C-发送邮件</div><div class="line">            Transport.send(msg);</div><div class="line">	</div><div class="line">            System.out.println(&quot;邮件发送成功........!&quot;);</div><div class="line">	</div><div class="line">        &#125; catch (NoSuchProviderException e) &#123;</div><div class="line">            e.printStackTrace();</div><div class="line">        &#125; catch (MessagingException e) &#123;</div><div class="line">            e.printStackTrace();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">	</div><div class="line">    //public static void main(String[] args) &#123;</div><div class="line">        //String contentHTML = &quot;&lt;head&gt;&quot; +</div><div class="line">        //        &quot;&lt;title&gt;注册验证码&lt;/title&gt;&quot; +</div><div class="line">        //        &quot;&lt;/head&gt;&quot; +</div><div class="line">        //        &quot;&lt;body&gt;&quot; +</div><div class="line">        //        &quot;&lt;h1&gt;您好,注册码是:&quot; + 213123 + &quot;,欢迎您注册博客&lt;/h1&gt;&quot; +</div><div class="line">        //        &quot;&lt;/body&gt;&quot;;</div><div class="line">        //Email email = new Email();</div><div class="line">        //    email.setUsername(&quot;13202405189@163.com&quot;);</div><div class="line">        //    email.setAuthorizationCode(&quot;sendemail123&quot;);</div><div class="line">        //    email.setRecipients(&quot;526097449@qq.com&quot;);</div><div class="line">        //    email.setSubject(&quot;第一篇&quot;);</div><div class="line">        //    email.setContent(contentHTML);</div><div class="line">	</div><div class="line">        //Email email = new Email();</div><div class="line">        //    email.setUsername(&quot;526097449@qq.com&quot;);</div><div class="line">        //    email.setAuthorizationCode(&quot;qq邮箱授权码&quot;);</div><div class="line">        //    email.setRecipients(&quot;13202405189@163.com&quot;);</div><div class="line">        //    email.setSubject(&quot;第一篇&quot;);</div><div class="line">        //    email.setText(&quot;123456&quot;);</div><div class="line">        //</div><div class="line">        //Email email = new Email();</div><div class="line">        //email.setUsername(&quot;liushuwei0925@gmail.com&quot;);</div><div class="line">        //email.setAuthorizationCode(&quot;谷歌邮箱密码&quot;);</div><div class="line">        //email.setRecipients(&quot;13202405189@163.com&quot;);</div><div class="line">        //email.setSubject(&quot;第二篇&quot;);</div><div class="line">        //email.setText(&quot;asdfasdf&quot;);</div><div class="line">        //</div><div class="line">        //Email email = new Email();</div><div class="line">        //email.setUsername(&quot;robot@liushuwei.cn&quot;);</div><div class="line">        //email.setPensonalName(&quot;博客机器人&quot;);</div><div class="line">        //email.setAuthorizationCode(&quot;密码&quot;);</div><div class="line">        //email.setRecipients(&quot;526097449@qq.com&quot;);</div><div class="line">        //email.setSubject(&quot;第二篇&quot;);</div><div class="line">        //email.setText(&quot;asdfasdf&quot;);</div><div class="line">        //SendEmail sendEmail  = new SendEmail();</div><div class="line">        //sendEmail.GO(email);</div><div class="line">    //&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="-6"><a href="#-6" class="headerlink" title=""></a><br></h2><p><br><br></p>
<h2 id="12-GUI开发"><a href="#12-GUI开发" class="headerlink" title="12.GUI开发"></a>12.GUI开发</h2><p>&emsp;学习使用java开发GUI,目前是为了BatchCreate_file4.0开发UI界面</p>
<p>成熟的框架</p>
<ol>
<li>Swing</li>
<li>SWT</li>
<li>JFace</li>
<li>Flex</li>
<li>Eclipse RCP<br><br></li>
</ol>
<p>资源</p>
<ul>
<li><a href="http://www.blogjava.net/jerry-zhaoj/articles/283170.html" target="_blank" rel="external">swing入门教程</a></li>
<li><a href="http://www.yiibai.com/swing/home.html" target="_blank" rel="external">易百-Swing教程</a></li>
<li><a href="http://www.cnblogs.com/HJL085/p/5905427.html" target="_blank" rel="external">http://www.cnblogs.com/HJL085/p/5905427.html</a></li>
<li><a href="http://blog.csdn.net/zhao50632/article/details/20999173" target="_blank" rel="external">Java Swing中弹出对话框的几种方式</a></li>
<li><a href="http://www.cnblogs.com/happyPawpaw/archive/2013/03/27/2984750.html" target="_blank" rel="external">JProgressBar的用法-大牛的思路，有点6</a></li>
<li><a href="http://www.apihome.cn/api/java/JProgressBar.html" target="_blank" rel="external">JProgressBar的api中文版</a></li>
<li><a href="http://847353020-qq-com.iteye.com/blog/954532" target="_blank" rel="external">JOptionPane类提示框的一些常用的方法</a><br><br></li>
</ul>
<p>获取鼠标位于屏幕坐标的小工具【2017.1.2】<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">/*</div><div class="line"> * UI组件</div><div class="line"> * JComboBox【组合框】</div><div class="line"> * JPasswordFeid【密码文本】</div><div class="line"> * JCheckBox【多选-可随意取消】  JRadioButton【单选-唯一和强制必选一】</div><div class="line"> * JMenu，JMenuItem【选中时出发】,JMenuBar【菜单系统的基础】</div><div class="line">* JSlider【提供文本字段，允许用户输入值,可视化形式获取当前选择的反馈，还能设置接收的值的范围】</div><div class="line">* JSpinner【与JSlider类似，允许用户在任意组的值(日期,名称,颜色，任何事)进行选择】</div><div class="line">* JToolBar【调色板(充当其他组件)】</div><div class="line">* JToolTip【将鼠标停留在某个位置上面，弹出小&quot;泡泡&quot;提示】</div><div class="line">* JOptionPane【为开发人员提供了获取和接收简易消息的方法类似&quot;快捷方式&quot;】</div><div class="line">* JTextArea【支持多行文本(JTextField局限在在一行文本)】</div><div class="line">* JScrollPane【提供处理所有与滚动跳相关的动作(一旦添加它，就会自动处理每件事，包括在需要的时候隐藏/显示滚动条)】</div><div class="line">* JList【向用户呈现许多选择(在一列中显示数据)】</div><div class="line">* JTabel【类似Excel工作表(在多列中显示数据)】</div><div class="line">* JTree【数据采用树结构形式,要求数据模型】</div><div class="line">* ​</div><div class="line">* 布局</div><div class="line">* FlowLayout【流动布局，从左到右安排组件，空间不足，移动到下一行】</div><div class="line">* GridLayout【网格布局,指定行列，把组件放进单元格】</div><div class="line">* BorderLayout【边界布局，东南西北中的概念在屏幕上放置组件】</div><div class="line">* GrodBagLayout【更高级的布局管理器 】</div><div class="line">* ​</div><div class="line">* 模型</div><div class="line">* Collection【Java集合，用于处理数据】</div><div class="line">* ​</div><div class="line">* 事件</div><div class="line">* 登记监听器【listener实现listener接口】</div><div class="line">* 事件</div><div class="line">  */</div><div class="line"></div><div class="line"></div><div class="line">package mouse;</div><div class="line"></div><div class="line">import java.awt.Color;</div><div class="line">import java.awt.Font;</div><div class="line">import java.awt.Insets;</div><div class="line">import java.awt.Point;</div><div class="line">import java.awt.PointerInfo;</div><div class="line">import java.awt.event.ActionEvent;</div><div class="line">import java.awt.event.ActionListener;</div><div class="line">import java.awt.event.MouseEvent;</div><div class="line">import java.awt.event.MouseMotionListener;</div><div class="line">import java.util.Timer;</div><div class="line">import java.util.TimerTask;</div><div class="line"></div><div class="line">import javax.swing.ImageIcon;</div><div class="line">import javax.swing.JButton;</div><div class="line">import javax.swing.JFrame;</div><div class="line">import javax.swing.JLabel;</div><div class="line">import javax.swing.JPanel;</div><div class="line">import javax.swing.plaf.basic.BasicButtonUI;</div><div class="line"></div><div class="line">/**更新时间： 2017年1月2日   </div><div class="line"> *    小工具</div><div class="line"> *    实时获取鼠标在屏幕的XY坐标</div><div class="line">    *</div><div class="line"> *  @author Suvan</div><div class="line">    */</div><div class="line">    public class GetScreen_XY extends JFrame implements MouseMotionListener&#123;</div><div class="line"></div><div class="line">    private  JLabel X_label;        //固定标签</div><div class="line">    private  JLabel Y_label;        //固定标签</div><div class="line"></div><div class="line">    private JLabel X;           </div><div class="line">    private JLabel Y;                   </div><div class="line"></div><div class="line">    private JPanel panel;           //背景面板</div><div class="line">    private JButton button;     //关闭按钮</div><div class="line"></div><div class="line">    //无参构造方法</div><div class="line">    public GetScreen_XY ()&#123;</div><div class="line">        super();</div><div class="line"></div><div class="line">        //A-设置窗体</div><div class="line">        this.getContentPane().setLayout(null);</div><div class="line">        this.setSize(200,150);  </div><div class="line">        this.setUndecorated(true);          //去除最外面边框【所有】</div><div class="line">        this.setOpacity(1.0f);                  //设置窗体透明度</div><div class="line">        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);    //关闭窗体,则退出程序结束进程</div><div class="line">        </div><div class="line">        //B-初始化组件</div><div class="line">        load();</div><div class="line">        </div><div class="line">        //C-注册鼠标移动事件</div><div class="line">        addMouseMotionListener(this);//注册鼠标移动事件</div><div class="line"></div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    //方法1：初始化，构造组件</div><div class="line">    private void load()&#123;</div><div class="line">        //A-面板</div><div class="line">        if(panel==null)&#123;        </div><div class="line">            panel =new JPanel();</div><div class="line">            panel.setLayout(null);</div><div class="line">            panel.setSize(200, 150);</div><div class="line">            panel.setBackground(Color.WHITE);</div><div class="line">        &#125;</div><div class="line">        this.add(panel);</div><div class="line">        </div><div class="line">        //B-关闭按钮</div><div class="line">        if(button==null)&#123;</div><div class="line">            button = new JButton();</div><div class="line">            button.setBounds(170, 0, 30, 30);  </div><div class="line">            button.setUI(new BasicButtonUI());                                  //恢复基本的视觉效果</div><div class="line">            button.setMargin(new Insets(0, 0, 0, 0));                               // 按钮内容与边框举例【上-左-下-右】</div><div class="line">            button.setIcon(new ImageIcon(&quot;img/closeButton.png&quot;));</div><div class="line">            button.setContentAreaFilled(false);                                     //不绘制按钮区域</div><div class="line">            button.setBorderPainted(false);                                         //不绘制边框</div><div class="line">            button.setBackground(Color.white);                                  //设置背景色</div><div class="line">        &#125;</div><div class="line">        button.addActionListener(new ActionListener()&#123;</div><div class="line">            public void actionPerformed(ActionEvent e)&#123;</div><div class="line">                System.exit(0); //终止正在运行的Java虚拟机【Sstem.exit(status)不管status(退出状态)为何值都会退出程序 】</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">        panel.add(button);</div><div class="line">        </div><div class="line">        //C-显示X,Y坐标</div><div class="line">        Font font = new Font(&quot;幼圆&quot;,Font.PLAIN,20);   //字体，字样，大小</div><div class="line">        Font font2=new Font(&quot;幼圆&quot;,Font.BOLD,30);</div><div class="line">        if(X_label==null)&#123;</div><div class="line">            X_label=new JLabel();</div><div class="line">            X_label.setText(&quot;X坐标&quot;);</div><div class="line">            X_label.setFont(font);</div><div class="line">            X_label.setBounds(15, 40, 80, 20);//设置位置</div><div class="line">        &#125;</div><div class="line">        if(Y_label==null)&#123;</div><div class="line">            Y_label=new JLabel();</div><div class="line">            Y_label.setText(&quot;Y坐标&quot;);</div><div class="line">            Y_label.setFont(font);</div><div class="line">            Y_label.setBounds(110,40,80, 20);</div><div class="line">        &#125;</div><div class="line">        if(X==null)&#123;</div><div class="line">            X = new JLabel();</div><div class="line">            X.setFont(font2);</div><div class="line">            X.setForeground(Color.RED); //设置字体颜色</div><div class="line">            X.setBounds(15, 70, 80, 20);</div><div class="line">        &#125;</div><div class="line">        if(Y==null)&#123;</div><div class="line">            Y = new JLabel();</div><div class="line">            Y.setFont(font2);</div><div class="line">            Y.setForeground(Color.RED);</div><div class="line">            Y.setBounds(110, 70, 80, 20);</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        //将各个组件添加进面板</div><div class="line">        panel.add(X_label);         panel.add(Y_label);</div><div class="line">        panel.add(X);               panel.add(Y);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    @Override</div><div class="line">    public void mouseDragged(MouseEvent e) &#123;</div><div class="line">    </div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    @Override</div><div class="line">    public void mouseMoved(MouseEvent e) &#123;</div><div class="line">            PointerInfo pi =java.awt.MouseInfo.getPointerInfo(); //可获取系统鼠标的屏幕坐标</div><div class="line">            Point p = pi.getLocation();</div><div class="line">    //          System.out.println(&quot;X坐标-&quot;+p.x+&quot;-------Y坐标:&quot;+p.y);</div><div class="line">    //          X.setText(p.x+&quot;&quot;);</div><div class="line">    //          Y.setText(p.y+&quot;&quot;);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    //测试主方法</div><div class="line">    public static void main(String[] args) &#123;</div><div class="line">    ​    </div><div class="line">        GetScreen_XY u = new GetScreen_XY();</div><div class="line">        u.setVisible(true);</div><div class="line">        </div><div class="line">        //定时器</div><div class="line">        Timer timer = new Timer();</div><div class="line">        timer.schedule(new TimerTask()&#123;</div><div class="line">            public void run()&#123;</div><div class="line">                //获取鼠标在系统屏幕的坐标</div><div class="line">                Point point =java.awt.MouseInfo.getPointerInfo().getLocation();</div><div class="line">                u.X.setText(point.x+&quot;&quot;);</div><div class="line">                u.Y.setText(point.y+&quot;&quot;);</div><div class="line">            &#125;</div><div class="line">        &#125;,10,20);//10毫秒后开始，然后固定重复20毫秒执行一次</div><div class="line">    </div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="-7"><a href="#-7" class="headerlink" title=""></a><br></h2><p><br><br></p>
<h2 id="13-自动化操作【模拟键盘和鼠标】"><a href="#13-自动化操作【模拟键盘和鼠标】" class="headerlink" title="13.自动化操作【模拟键盘和鼠标】"></a>13.自动化操作【模拟键盘和鼠标】</h2><p>&emsp;突发奇想，能否用用java实现模拟用户点击来操作《QQ三国》游戏的任务，实现自动刷怪[暂时未实现,QQSG无法响应]</p>
<p>参考资料:</p>
<ul>
<li><a href="http://www.apihome.cn/api/java/Robot.html" target="_blank" rel="external">中文API</a></li>
<li><a href="http://blog.csdn.net/scholar_man/article/details/48035251" target="_blank" rel="external">java Robot 类模拟键盘按键和鼠标点击（全局模拟） </a></li>
<li><a href="http://blog.chinaunix.net/uid-25063573-id-2420369.html" target="_blank" rel="external">键盘常用ASCII码 &amp; Ctrl组合键</a></li>
<li><a href="http://blog.csdn.net/changqing5818/article/details/49471227" target="_blank" rel="external">java.awt.event.KeyEvent(键盘按键对应的KeyCode)</a></li>
</ul>
<p>扩展框架</p>
<ul>
<li><a href="http://download.csdn.net/detail/ysjian_pingcx/6510391" target="_blank" rel="external">SWT WIN32 Extension扩展包下载</a></li>
<li><a href="http://blog.csdn.net/linzhanggeorge/article/details/4419860" target="_blank" rel="external">Java 实现全局（全操作系统）的键盘鼠标模拟 </a></li>
<li><a href="http://blog.csdn.net/qiantujava/article/details/10060847" target="_blank" rel="external">Java JFrame实现无边框无标题</a></li>
<li><a href="http://blog.csdn.net/code_better/article/details/53505962" target="_blank" rel="external">java实现获取鼠标在屏幕上的坐标</a></li>
<li><a href="http://download.csdn.net/detail/a491857321/9531473" target="_blank" rel="external">jNative.jar包下载</a><br><br></li>
</ul>
<p>案例目录</p>
<ol>
<li>自动启动qq,网易云和eclipse【2016.12.29】</li>
<li>自动编写HelloWorld【2017.1.6】</li>
<li>java版拜年(新年快乐！)【2017.1.26】</li>
</ol>
<p><1>自动启动qq,网易云和eclipse【2016.12.29】<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div></pre></td><td class="code"><pre><div class="line">import java.awt.Dimension;</div><div class="line">import java.awt.Robot;</div><div class="line">import java.awt.Toolkit;</div><div class="line">import java.awt.event.InputEvent;</div><div class="line">import java.awt.event.KeyEvent;</div><div class="line"></div><div class="line">public class startWork1 &#123;</div><div class="line">        private static Robot r; </div><div class="line"></div><div class="line">        //静态块赋初始值</div><div class="line">        static&#123;</div><div class="line">            try&#123;</div><div class="line">                r=new Robot();</div><div class="line">            &#125;catch(Exception e)&#123;&#125;;</div><div class="line">        &#125;</div><div class="line"></div><div class="line"></div><div class="line">        //流程1：开启qq</div><div class="line">        public static void startQQ()&#123;</div><div class="line">            </div><div class="line">            //1秒后开始</div><div class="line">            r.delay(1000);</div><div class="line">            returnDesktop();//回到桌面</div><div class="line">    </div><div class="line">            System.out.println(&quot;组合键:window+R......&quot;);</div><div class="line">            r.keyPress(KeyEvent.VK_WINDOWS);            </div><div class="line">            r.keyPress(KeyEvent.VK_R); </div><div class="line">            r.keyRelease(KeyEvent.VK_WINDOWS);</div><div class="line">            r.keyRelease(KeyEvent.VK_R);            </div><div class="line">            //启动QQ</div><div class="line">            key(KeyEvent.VK_DELETE);    //删除键</div><div class="line">            key(KeyEvent.VK_Q);</div><div class="line">            key(KeyEvent.VK_Q);</div><div class="line">            key(KeyEvent.VK_ENTER);</div><div class="line">            key(KeyEvent.VK_ENTER); //敲两次回车，防止输入法</div><div class="line">            </div><div class="line">            //等待2s后，回车登录</div><div class="line">            r.delay(2000);          </div><div class="line">            key(KeyEvent.VK_ENTER);</div><div class="line">            </div><div class="line">            System.out.println(&quot;***************QQ启动完毕***************&quot;);</div><div class="line">        &#125;</div><div class="line"></div><div class="line"></div><div class="line">        //流程2:开启网易云</div><div class="line">        private static void startCloudmusic()&#123;          </div><div class="line">            //5秒后开始操作(等QQ登后)</div><div class="line">            r.delay(5000);</div><div class="line">            </div><div class="line">            //【组合】window+R键         System.out.println(&quot;组合键:window+R......&quot;);</div><div class="line">            r.keyPress(KeyEvent.VK_WINDOWS);            </div><div class="line">            r.keyPress(KeyEvent.VK_R); </div><div class="line">            r.keyRelease(KeyEvent.VK_WINDOWS);</div><div class="line">            r.keyRelease(KeyEvent.VK_R);</div><div class="line">            </div><div class="line">            //启动网易云音乐</div><div class="line">            System.out.println(&quot;输入cloudmusic,按回车......&quot;);</div><div class="line">            key(KeyEvent.VK_DELETE);</div><div class="line">            int [] keys=&#123;KeyEvent.VK_C,KeyEvent.VK_L,KeyEvent.VK_O,KeyEvent.VK_U,KeyEvent.VK_D,KeyEvent.VK_M,KeyEvent.VK_U,KeyEvent.VK_S,KeyEvent.VK_I,KeyEvent.VK_C&#125;;</div><div class="line">            keys(keys);//连续输入cloudmusic</div><div class="line">            key(KeyEvent.VK_ENTER);         </div><div class="line">            key(KeyEvent.VK_ENTER);         //回车两次</div><div class="line">            r.delay(2000);//等待2秒启动易云</div><div class="line">            </div><div class="line">            //点击发现音乐</div><div class="line">            System.out.println(&quot;左边栏发现音乐......&quot;);</div><div class="line">            r.mouseMove(546,295);</div><div class="line">            mouse(InputEvent.BUTTON1_MASK);</div><div class="line">            r.delay(500);</div><div class="line">            </div><div class="line">            //点击每日歌曲推荐</div><div class="line">            System.out.println(&quot;每日歌曲推荐......&quot;);</div><div class="line">            r.mouseMove(700, 630);</div><div class="line">            mouse(InputEvent.BUTTON1_MASK);</div><div class="line">            r.delay(500);</div><div class="line">            </div><div class="line">            //点击播放全部</div><div class="line">            System.out.println(&quot;播放全部......&quot;);</div><div class="line">            r.mouseMove(700,415);</div><div class="line">            mouse(InputEvent.BUTTON1_MASK);</div><div class="line">            r.delay(500);</div><div class="line">            </div><div class="line">            //最小化               </div><div class="line">            r.mouseMove(1401,230);</div><div class="line">            mouse(InputEvent.BUTTON1_MASK);</div><div class="line">            r.delay(200);       </div><div class="line">            System.out.println(&quot;***************网易云音乐启动完毕***************&quot;);</div><div class="line">        &#125;</div><div class="line">    </div><div class="line">        //流程3：开启eclipse</div><div class="line">        private static void startEclipse()&#123;</div><div class="line">            //获取屏幕分辨率</div><div class="line">            Dimension d = Toolkit.getDefaultToolkit().getScreenSize();</div><div class="line">            System.out.println(&quot;当前屏幕分辨率: &quot;+d);</div><div class="line">            </div><div class="line">            //2秒后开始操作</div><div class="line">            r.delay(2000);</div><div class="line">            </div><div class="line">            //【组合】window+R键</div><div class="line">            System.out.println(&quot;组合键:window+R......&quot;);</div><div class="line">            r.keyPress(KeyEvent.VK_WINDOWS); </div><div class="line">            r.keyPress(KeyEvent.VK_R); </div><div class="line">            r.keyRelease(KeyEvent.VK_WINDOWS);</div><div class="line">            r.keyRelease(KeyEvent.VK_R);</div><div class="line">            </div><div class="line">            //输入ec，然后回车</div><div class="line">            System.out.println(&quot;输入ec,按回车......&quot;);</div><div class="line">            key(KeyEvent.VK_DELETE);</div><div class="line">            key(KeyEvent.VK_E);</div><div class="line">            key(KeyEvent.VK_C);</div><div class="line">            key(KeyEvent.VK_ENTER);</div><div class="line">            key(KeyEvent.VK_ENTER);</div><div class="line">            r.delay(3000);//等待3秒加载eclise开头动画</div><div class="line">            </div><div class="line">            //移动到选择下拉框</div><div class="line">             System.out.println(&quot;鼠标移动到下拉框......&quot;);</div><div class="line">             r.mouseMove(1119,441); </div><div class="line">             mouse(InputEvent.BUTTON1_MASK);                 </div><div class="line">             r.delay(100);</div><div class="line">             </div><div class="line">           //移动到【E:\javaweb_WorkSpace】工作站选项</div><div class="line">             System.out.println(&quot;选择javaweb_WokSpace工作站......&quot;);</div><div class="line">             r.mouseMove(1119,480);     //移动到【E:\javaweb_WorkSpace】工作站选项</div><div class="line">             mouse(InputEvent.BUTTON1_MASK);</div><div class="line">               </div><div class="line">            //移动到确定，开启eclipse</div><div class="line">             System.out.println(&quot;点击确定,开启eclipse......&quot;);</div><div class="line">            r.mouseMove(1121,620);</div><div class="line">            mouse(InputEvent.BUTTON1_MASK);</div><div class="line">            </div><div class="line">            System.out.println(&quot;等待。。。&quot;);</div><div class="line">            //开启eclise,7秒启动</div><div class="line">            r.delay(7000);</div><div class="line">    </div><div class="line">            //【全屏操作】</div><div class="line">            System.out.println(&quot;eclipse全屏......&quot;);</div><div class="line">            MAX_SHOW();</div><div class="line">            System.out.println(&quot;***************Eclipse启动完毕***************&quot;);</div><div class="line"></div><div class="line"></div><div class="line">​            </div><div class="line">        &#125;</div><div class="line"></div><div class="line">        //工具1：键盘输入</div><div class="line">        public static void key(int keyValue)&#123;</div><div class="line">            r.keyPress(keyValue); </div><div class="line">            r.keyRelease(keyValue);</div><div class="line">            r.delay(300);</div><div class="line">        &#125;</div><div class="line">        //工具1-2：键盘连续输入</div><div class="line">        public static void keys(int [] keysValue)&#123;</div><div class="line">            for(int i=0;i&lt;keysValue.length;i++)&#123;</div><div class="line">                r.keyPress(keysValue[i]); </div><div class="line">                r.keyRelease(keysValue[i]);</div><div class="line">                r.delay(200);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        //工具2：鼠标点击 </div><div class="line">        public static void mouse(int mouseValue)&#123;</div><div class="line">            r.mousePress(mouseValue);</div><div class="line">            r.mouseRelease(mouseValue);</div><div class="line">            r.delay(500);</div><div class="line">        &#125;       </div><div class="line">        //工具3：最大化</div><div class="line">        public static void MAX_SHOW()&#123;</div><div class="line">            r.keyPress(KeyEvent.VK_ALT); </div><div class="line">            r.keyPress(KeyEvent.VK_SPACE); </div><div class="line">            r.keyRelease(KeyEvent.VK_ALT);</div><div class="line">            r.keyRelease(KeyEvent.VK_SPACE);            r.delay(500);</div><div class="line">            key(KeyEvent.VK_X);</div><div class="line">        &#125;</div><div class="line">        //工具4：回到桌面</div><div class="line">        public static void returnDesktop()&#123;</div><div class="line">            //组合键WIN+D回到桌面</div><div class="line">            r.keyPress(KeyEvent.VK_WINDOWS);            </div><div class="line">            r.keyPress(KeyEvent.VK_D); </div><div class="line">            r.keyRelease(KeyEvent.VK_WINDOWS);</div><div class="line">            r.keyRelease(KeyEvent.VK_D);    </div><div class="line">            r.delay(500);</div><div class="line">        &#125;</div><div class="line"></div><div class="line"></div><div class="line">​        </div><div class="line">​    </div><div class="line">​        </div><div class="line">        public static void main(String []args)&#123;</div><div class="line">            try&#123;</div><div class="line">                startQQ();</div><div class="line">                startCloudmusic();  </div><div class="line">                startEclipse();</div><div class="line">            &#125;catch(Exception e)&#123;</div><div class="line">                e.printStackTrace();</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></1></p>
<hr>
<p><br></p>
<p><2>自动编写HelloWorld【2017.1.2】<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div></pre></td><td class="code"><pre><div class="line">package start;</div><div class="line"></div><div class="line">import java.awt.AWTException;</div><div class="line">import java.awt.MouseInfo;</div><div class="line">import java.awt.Point;</div><div class="line">import java.awt.PointerInfo;</div><div class="line">import java.awt.Robot;</div><div class="line">import java.awt.event.InputEvent;</div><div class="line">import java.awt.event.KeyEvent;</div><div class="line"></div><div class="line">/**更新时间： 2017年1月26日   </div><div class="line"> *    机器人编写Hello World!</div><div class="line">    *</div><div class="line"> *  @author Suvan</div><div class="line">    */</div><div class="line">    public class HelloWorld &#123;</div><div class="line">    private static Robot r;	</div><div class="line">    private  int X;	//X和Y的坐标</div><div class="line">    private  int Y;</div><div class="line">    //静态块赋初始值</div><div class="line">    static&#123;</div><div class="line">    	try&#123;</div><div class="line">    		r=new Robot();</div><div class="line">    	&#125;catch(Exception e)&#123;&#125;;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    //无参构造方法</div><div class="line">    public HelloWorld()&#123;</div><div class="line">    	//获取鼠标当前坐标</div><div class="line">    	PointerInfo pi =MouseInfo.getPointerInfo();</div><div class="line">    	Point p =pi.getLocation();</div><div class="line">    	this.X=p.x;</div><div class="line">    	this.Y=p.y;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    //方法1：编写HelloWorld</div><div class="line">    public  void helloWorld_GO() throws AWTException&#123;</div><div class="line">    	r.delay(2000); //2s后开始教程</div><div class="line"></div><div class="line">    	//A-组合键win+D</div><div class="line">    	keyCombine(KeyEvent.VK_WINDOWS,KeyEvent.VK_D);</div><div class="line">    	</div><div class="line">    	//B-在桌面移动鼠标，新建文档</div><div class="line">    	mouseMove(1117,396);</div><div class="line">    	mouse(InputEvent.BUTTON3_DOWN_MASK);	//单击右键</div><div class="line">    	key(KeyEvent.VK_W); 							//&apos;W&apos;新建快捷键</div><div class="line">    	for(int i=0;i&lt;20;i++)&#123;							//移动方向键，往下</div><div class="line">    		key(KeyEvent.VK_DOWN); 				</div><div class="line">    	&#125;</div><div class="line">    	key(KeyEvent.VK_ENTER); 					//回车</div><div class="line">    	String fileName=&quot;HelloWorld&quot;;				</div><div class="line">    	keysInput(fileName)	;							//连续输入文件名</div><div class="line">    	key(KeyEvent.VK_ENTER); 					//回车</div><div class="line"></div><div class="line">//</div><div class="line">		//C-打开文档编写代码</div><div class="line">		mouseMove(1089,457);</div><div class="line">		mouse(InputEvent.BUTTON1_MASK);	</div><div class="line">		mouse(InputEvent.BUTTON1_MASK);	//双击</div><div class="line">			r.delay(1000);										//延迟1秒打开文件</div><div class="line">			//public class HelloWorld&#123;</div><div class="line">			key(KeyEvent.VK_SHIFT);  					//Shirt键，切换输入法</div><div class="line">			</div><div class="line">			String value1=&quot;public class HelloWorld&quot;;</div><div class="line">			keysInput(value1);</div><div class="line">			keyCombine(KeyEvent.VK_SHIFT, KeyEvent.VK_OPEN_BRACKET);//  &#123; 【Sulime Test 3会自动补齐&#123;&#125;()】</div><div class="line">			key(KeyEvent.VK_ENTER);//换行</div><div class="line">			</div><div class="line">			//public static void main(String [] args)&#123;</div><div class="line">			key(KeyEvent.VK_TAB);														//TAB</div><div class="line">	 		value1=&quot;public static void main&quot;;</div><div class="line">			keysInput(value1);</div><div class="line">			keyCombine(KeyEvent.VK_SHIFT, KeyEvent.VK_9);					//  (</div><div class="line">			value1=&quot;String &quot;;</div><div class="line">			keysInput(value1);</div><div class="line">			key(KeyEvent.VK_OPEN_BRACKET); 										//  [</div><div class="line">			key(KeyEvent.VK_CLOSE_BRACKET); 										// ]</div><div class="line">			value1=&quot; args&quot;;</div><div class="line">			keysInput(value1);</div><div class="line">			keyCombine(KeyEvent.VK_SHIFT, KeyEvent.VK_0);//  )</div><div class="line">			keyCombine(KeyEvent.VK_SHIFT, KeyEvent.VK_OPEN_BRACKET);//  &#123; </div><div class="line">			key(KeyEvent.VK_ENTER);														//换行</div><div class="line">			</div><div class="line">			//System.out.println(&quot;Hello World!&quot;);</div><div class="line">			key(KeyEvent.VK_TAB);															//开头空格Tab键</div><div class="line">			key(KeyEvent.VK_TAB);</div><div class="line">			value1=&quot;System&quot;; </div><div class="line">			keysInput(value1);</div><div class="line">			key(KeyEvent.VK_PERIOD);														// .</div><div class="line">			value1=&quot;out&quot;; </div><div class="line">			keysInput(value1);</div><div class="line">			key(KeyEvent.VK_PERIOD);														// .</div><div class="line">			value1=&quot;println&quot;; </div><div class="line">			keysInput(value1);</div><div class="line">			keyCombine(KeyEvent.VK_SHIFT, KeyEvent.VK_9);					//  (</div><div class="line">			keyCombine(KeyEvent.VK_SHIFT, KeyEvent.VK_QUOTE);		//	&quot;</div><div class="line">			value1=&quot;Hello Wrold&quot;; </div><div class="line">			keysInput(value1); </div><div class="line">			keyCombine(KeyEvent.VK_SHIFT, KeyEvent.VK_1);</div><div class="line">			keyCombine(KeyEvent.VK_SHIFT, KeyEvent.VK_QUOTE);		//	&quot;</div><div class="line">			keyCombine(KeyEvent.VK_SHIFT, KeyEvent.VK_0);					//  )</div><div class="line">			key(KeyEvent.VK_SEMICOLON); 											 	//;</div><div class="line">			key(KeyEvent.VK_ENTER);														//换行</div><div class="line">	</div><div class="line">			//&#125;</div><div class="line">			key(KeyEvent.VK_TAB);															// TAB</div><div class="line">			keyCombine(KeyEvent.VK_SHIFT, KeyEvent.VK_CLOSE_BRACKET);//  &#123; </div><div class="line">			key(KeyEvent.VK_ENTER);														//换行</div><div class="line">			</div><div class="line">			//&#125;</div><div class="line">			keyCombine(KeyEvent.VK_SHIFT, KeyEvent.VK_CLOSE_BRACKET);//  &#123; </div><div class="line">		</div><div class="line">		//D-保存</div><div class="line">		r.delay(100);</div><div class="line">		keyCombine(KeyEvent.VK_CONTROL, KeyEvent.VK_S); 			    //Ctrl+	S保存</div><div class="line">		keyCombine(KeyEvent.VK_ALT,KeyEvent.VK_SPACE);			    //Alt+空格</div><div class="line">		key(KeyEvent.VK_C);																    //&apos;C&apos;-快捷键，关闭文档</div><div class="line"></div><div class="line"></div><div class="line">		//E-移动到一旁，开启命令行，修改文件名，编译java文件，切执行</div><div class="line">		mouseMove(1500,500);</div><div class="line">		mouse(InputEvent.BUTTON1_MASK);							//左键单击</div><div class="line">		mouse(InputEvent.BUTTON1_MASK);							//左键单击</div><div class="line">		mouse(InputEvent.BUTTON1_MASK);							//左键单击</div><div class="line">		mouseShift(InputEvent.BUTTON3_DOWN_MASK);		//按住Shirt键，单机右键</div><div class="line">		key(KeyEvent.VK_W);														//&apos;W&apos;-快捷键【在此处打开命令窗口】</div><div class="line">		key(KeyEvent.VK_ENTER);												//回车</div><div class="line">		</div><div class="line">		r.delay(500);																		  //修改文件名</div><div class="line">		key(KeyEvent.VK_SHIFT);  												  //Shirt键，切换输入法</div><div class="line">		String inputValue =&quot;ren HelloWorld.txt HelloWorld.java&quot;;//修改文件名</div><div class="line">		keysInput(inputValue);</div><div class="line">		key(KeyEvent.VK_ENTER);												 //回车</div><div class="line"></div><div class="line"></div><div class="line">		r.delay(500);																		//延迟500ms</div><div class="line">	    inputValue =&quot;javac HelloWorld.java&quot;;							    //编译java文件</div><div class="line">		keysInput(inputValue);</div><div class="line">		key(KeyEvent.VK_ENTER);											   //回车</div><div class="line">		</div><div class="line">		r.delay(2000);																	</div><div class="line">		inputValue =&quot;java HelloWorld&quot;;										//执行编译文件</div><div class="line">		keysInput(inputValue);</div><div class="line">		key(KeyEvent.VK_ENTER);</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	//工具1：鼠标点击</div><div class="line">	private  void mouse(int mouseValue)&#123;</div><div class="line">		r.mousePress(mouseValue);</div><div class="line">		r.delay(10);</div><div class="line">		r.mouseRelease(mouseValue);</div><div class="line">		r.delay(30);</div><div class="line">	&#125;</div><div class="line">	//工具2：键盘敲打</div><div class="line">	private void key(int keyValue)&#123;</div><div class="line">		r.keyPress(keyValue); </div><div class="line">		r.delay(5);					//	按下和抬起之间有间隔</div><div class="line">		r.keyRelease(keyValue);</div><div class="line">		r.delay(30);</div><div class="line">	&#125;</div><div class="line">	//工具3：组合键</div><div class="line">	private void keyCombine(int keyValue1,int keyValue2)&#123;</div><div class="line">		r.keyPress(keyValue1);</div><div class="line">		r.keyPress(keyValue2);</div><div class="line">		r.delay(5);</div><div class="line">		r.keyRelease(keyValue1);</div><div class="line">		r.keyRelease(keyValue2);	</div><div class="line">		r.delay(30);</div><div class="line">	&#125;</div><div class="line">	//工具4：鼠标移动到目标位置</div><div class="line">	private void mouseMove(int goX,int goY)&#123;</div><div class="line">		String signX=goX &gt; X ? &quot;+&quot; : &quot;-&quot;;</div><div class="line">		String signY=goY &gt; Y ?  &quot;+&quot; : &quot;-&quot;;</div><div class="line">	</div><div class="line">		while(X!=goX || Y!=goY)&#123;</div><div class="line">			if(X!=goX)&#123;</div><div class="line">				if(&quot;+&quot;.equals(signX)) r.mouseMove(++X,Y);</div><div class="line">				else if(&quot;-&quot;.equals(signX)) r.mouseMove(--X, Y);</div><div class="line">			&#125;</div><div class="line">			if(Y!=goY)&#123;</div><div class="line">				if(&quot;+&quot;.equals(signY)) r.mouseMove(X,++Y);</div><div class="line">				else if(&quot;-&quot;.equals(signY)) r.mouseMove(X, --Y);</div><div class="line">			&#125;</div><div class="line">			r.delay(1);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	//工具5：键盘连续输入</div><div class="line">	private void keysInput(String value)&#123;</div><div class="line">		char [] arrayC =value.toUpperCase().toCharArray(); 	//将字符串全部转换为大写，再转换为ASCII码</div><div class="line">		int [] arrayI = new int[arrayC.length];</div><div class="line">		for(int i=0;i&lt;arrayC.length;i++)&#123;</div><div class="line">			arrayI[i]=(int)arrayC[i];</div><div class="line">		&#125;</div><div class="line">		</div><div class="line">		//开始连续输入</div><div class="line">		</div><div class="line">		for(int i=0;i&lt;arrayI.length;i++)&#123;</div><div class="line">			//判断字符大小写,分别进行处理</div><div class="line">			if(65&lt;=(int)value.charAt(i) &amp; (int)value.charAt(i)&lt;=90)&#123;  //A-65,Z-90</div><div class="line">				keyCombine(KeyEvent.VK_SHIFT,arrayI[i]); //组合键Shift+字母键</div><div class="line">				continue;</div><div class="line">			&#125;</div><div class="line">			key(arrayI[i]);</div><div class="line">			r.delay(30);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	//工具6：按住Shift键操作鼠标点击</div><div class="line">	private void mouseShift(int mouseValue)&#123;</div><div class="line">		r.keyPress(KeyEvent.VK_SHIFT);</div><div class="line">		r.delay(20);</div><div class="line">		r.mousePress(mouseValue);</div><div class="line">		r.delay(10);</div><div class="line">		r.mouseRelease(mouseValue);</div><div class="line">		r.delay(20);</div><div class="line">		r.keyRelease(KeyEvent.VK_SHIFT);</div><div class="line">	&#125;</div><div class="line"></div><div class="line"></div><div class="line">	public static void main(String []args)&#123;</div><div class="line">		HelloWorld  hw = new HelloWorld();</div><div class="line">		try&#123;</div><div class="line">			hw.helloWorld_GO();</div><div class="line">		&#125;catch(Exception e)&#123;</div><div class="line">			e.printStackTrace();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></2></p>
<hr>
<p><br></p>
<p><3>java版拜年(新年快乐！<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">package start;</div><div class="line"></div><div class="line">import java.awt.AWTException;</div><div class="line">import java.awt.MouseInfo;</div><div class="line">import java.awt.Point;</div><div class="line">import java.awt.PointerInfo;</div><div class="line">import java.awt.Robot;</div><div class="line">import java.awt.event.InputEvent;</div><div class="line">import java.awt.event.KeyEvent;</div><div class="line"></div><div class="line">/**更新时间： 2017年1月26日   </div><div class="line"> *    机器人编写Hello World!</div><div class="line">    *</div><div class="line"> *  @author Suvan </div><div class="line">    */</div><div class="line">    public class 拜年 &#123;</div><div class="line">    private static Robot r;		</div><div class="line">    private  int X;	//X和Y的坐标</div><div class="line">    private  int Y;</div><div class="line">    //静态块赋初始值</div><div class="line">    static&#123;</div><div class="line">    	try&#123;</div><div class="line">    		r=new Robot();</div><div class="line">    	&#125;catch(Exception e)&#123;&#125;;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    //无参构造方法</div><div class="line">    public 拜年()&#123;</div><div class="line">    ​	</div><div class="line">    	//获取鼠标当前坐标</div><div class="line">    	PointerInfo pi =MouseInfo.getPointerInfo();</div><div class="line">    	Point p =pi.getLocation();</div><div class="line">    	this.X=p.x;</div><div class="line">    	this.Y=p.y;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    //方法1：编写HelloWorld</div><div class="line">    public  void helloWorld_GO() throws AWTException&#123;</div><div class="line">    	r.delay(2000); //2s后开始教程</div><div class="line"></div><div class="line">    	//A-组合键win+D</div><div class="line">    	keyCombine(KeyEvent.VK_WINDOWS,KeyEvent.VK_D);</div><div class="line">    	</div><div class="line">    	//B-在桌面移动鼠标，新建文档</div><div class="line">    	mouseMove(1117,396);</div><div class="line">    	mouse(InputEvent.BUTTON3_DOWN_MASK);	//单击右键</div><div class="line">    	key(KeyEvent.VK_W); 							//&apos;W&apos;新建快捷键</div><div class="line">    	for(int i=0;i&lt;20;i++)&#123;							//移动方向键，往下</div><div class="line">    		key(KeyEvent.VK_DOWN); 				</div><div class="line">    	&#125;</div><div class="line">    	key(KeyEvent.VK_ENTER); 					//回车</div><div class="line">    	String fileName=&quot;xinniankuaile&quot;;				</div><div class="line">    	keysInput(fileName)	;							//连续输入文件名</div><div class="line">    	key(KeyEvent.VK_1);</div><div class="line">    	key(KeyEvent.VK_SHIFT);  					//Shirt键，切换输入法</div><div class="line">    	key(KeyEvent.VK_ENTER); 					//回车</div><div class="line"></div><div class="line"></div><div class="line">    	//C-打开文档编写代码</div><div class="line">    	mouseMove(1142,441);</div><div class="line">    	mouse(InputEvent.BUTTON1_MASK);	</div><div class="line">    	mouse(InputEvent.BUTTON1_MASK);	//双击</div><div class="line">    		r.delay(1000);										//延迟1秒打开文件</div><div class="line">    	</div><div class="line">    		key(KeyEvent.VK_SHIFT);  					//Shirt键，切换输入法</div><div class="line">    		</div><div class="line">    		String value1=&quot;public class &quot;;</div><div class="line">    		keysInput(value1);</div><div class="line">    		key(KeyEvent.VK_SHIFT);  					//Shirt键，切换输入法</div><div class="line">    		 value1=&quot;xinniankuaile&quot;;				</div><div class="line">    		keysInput(fileName)	;							//连续输入文件名</div><div class="line">    		key(KeyEvent.VK_1);</div><div class="line">    		key(KeyEvent.VK_SHIFT);  					//Shirt键，切换输入法</div><div class="line">    		keyCombine(KeyEvent.VK_SHIFT, KeyEvent.VK_OPEN_BRACKET);//  &#123; 【Sulime Test 3会自动补齐&#123;&#125;()】</div><div class="line">    		key(KeyEvent.VK_ENTER);//换行</div><div class="line">    		</div><div class="line">    		//public static void main(String [] args)&#123;</div><div class="line">    		key(KeyEvent.VK_TAB);														//TAB</div><div class="line">     		value1=&quot;public static void main&quot;;</div><div class="line">    		keysInput(value1);</div><div class="line">    		keyCombine(KeyEvent.VK_SHIFT, KeyEvent.VK_9);					//  (</div><div class="line">    		value1=&quot;String &quot;;</div><div class="line">    		keysInput(value1);</div><div class="line">    		key(KeyEvent.VK_OPEN_BRACKET); 										//  [</div><div class="line">    		key(KeyEvent.VK_CLOSE_BRACKET); 										// ]</div><div class="line">    		value1=&quot; args&quot;;</div><div class="line">    		keysInput(value1);</div><div class="line">    		keyCombine(KeyEvent.VK_SHIFT, KeyEvent.VK_0);//  )</div><div class="line">    		keyCombine(KeyEvent.VK_SHIFT, KeyEvent.VK_OPEN_BRACKET);//  &#123; </div><div class="line">    		key(KeyEvent.VK_ENTER);														//换行</div><div class="line">    		</div><div class="line">    		//System.out.println(&quot;Hello World!&quot;);</div><div class="line">    		key(KeyEvent.VK_TAB);															//开头空格Tab键</div><div class="line">    		key(KeyEvent.VK_TAB);</div><div class="line">    		value1=&quot;System&quot;; </div><div class="line">    		keysInput(value1);</div><div class="line">    		key(KeyEvent.VK_PERIOD);														// .</div><div class="line">    		value1=&quot;out&quot;; </div><div class="line">    		keysInput(value1);</div><div class="line">    		key(KeyEvent.VK_PERIOD);														// .</div><div class="line">    		value1=&quot;println&quot;; </div><div class="line">    		keysInput(value1);</div><div class="line">    		keyCombine(KeyEvent.VK_SHIFT, KeyEvent.VK_9);					//  (</div><div class="line">    		keyCombine(KeyEvent.VK_SHIFT, KeyEvent.VK_QUOTE);		//	&quot;</div><div class="line">    		key(KeyEvent.VK_SHIFT);  			//Shirt键，切换输入法</div><div class="line">    		value1=&quot;xinniankuaile&quot;;				</div><div class="line">    		keysInput(value1)	;						</div><div class="line">    		key(KeyEvent.VK_1);</div><div class="line">    		key(KeyEvent.VK_SHIFT);  					//Shirt键，切换输入法</div><div class="line">    		keyCombine(KeyEvent.VK_SHIFT, KeyEvent.VK_1);</div><div class="line">    		keyCombine(KeyEvent.VK_SHIFT, KeyEvent.VK_QUOTE);		//	&quot;</div><div class="line">    		keyCombine(KeyEvent.VK_SHIFT, KeyEvent.VK_0);					//  )</div><div class="line">    		key(KeyEvent.VK_SEMICOLON); 											 	//;</div><div class="line">    		key(KeyEvent.VK_ENTER);														//换行</div><div class="line">    	</div><div class="line">    		//&#125;</div><div class="line">    		key(KeyEvent.VK_TAB);															// TAB</div><div class="line">    		keyCombine(KeyEvent.VK_SHIFT, KeyEvent.VK_CLOSE_BRACKET);//  &#123; </div><div class="line">    		key(KeyEvent.VK_ENTER);														//换行</div><div class="line">    		</div><div class="line">    		//&#125;</div><div class="line">    		keyCombine(KeyEvent.VK_SHIFT, KeyEvent.VK_CLOSE_BRACKET);//  &#123; </div><div class="line">    	</div><div class="line">    	//D-保存</div><div class="line">    	r.delay(100);</div><div class="line">    	keyCombine(KeyEvent.VK_CONTROL, KeyEvent.VK_S); 			    //Ctrl+	S保存</div><div class="line">    	keyCombine(KeyEvent.VK_ALT,KeyEvent.VK_SPACE);			    //Alt+空格</div><div class="line">    	key(KeyEvent.VK_C);																    //&apos;C&apos;-快捷键，关闭文档</div><div class="line"></div><div class="line"></div><div class="line">		//E-移动到一旁，开启命令行，修改文件名，编译java文件，切执行</div><div class="line">		mouseMove(1500,500);</div><div class="line">		mouse(InputEvent.BUTTON1_MASK);							//左键单击</div><div class="line">		mouse(InputEvent.BUTTON1_MASK);							//左键单击</div><div class="line">		mouse(InputEvent.BUTTON1_MASK);							//左键单击</div><div class="line">		mouseShift(InputEvent.BUTTON3_DOWN_MASK);		//按住Shirt键，单机右键</div><div class="line">		key(KeyEvent.VK_W);														//&apos;W&apos;-快捷键【在此处打开命令窗口】</div><div class="line">		key(KeyEvent.VK_ENTER);												//回车</div><div class="line">		</div><div class="line">		r.delay(100);																		  //修改文件名</div><div class="line">		key(KeyEvent.VK_SHIFT);  												  //Shirt键，切换输入法</div><div class="line">		String inputValue =&quot;ren &quot;;//修改文件名</div><div class="line">		keysInput(inputValue);</div><div class="line">		key(KeyEvent.VK_SHIFT);  					//Shirt键，切换输入法</div><div class="line">		r.delay(50);</div><div class="line">		inputValue = &quot;xinniankuaile&quot;;</div><div class="line">		keysInput(inputValue);</div><div class="line">		key(KeyEvent.VK_1);</div><div class="line">		r.delay(10);</div><div class="line">		inputValue =&quot;.txt &quot;;</div><div class="line">		keysInput(inputValue);</div><div class="line">		key(KeyEvent.VK_SHIFT);  					//Shirt键，切换输入法</div><div class="line">		r.delay(10);</div><div class="line">		inputValue =&quot;xinniankuaile&quot;;</div><div class="line">		keysInput(inputValue);</div><div class="line">		key(KeyEvent.VK_1);</div><div class="line">		key(KeyEvent.VK_SHIFT);  					//Shirt键，切换输入法</div><div class="line">		r.delay(10);</div><div class="line">		inputValue = &quot;.java&quot;;</div><div class="line">		keysInput(inputValue);</div><div class="line">		key(KeyEvent.VK_ENTER);												 //回车</div><div class="line"></div><div class="line"></div><div class="line">		r.delay(100);																		//延迟500ms</div><div class="line">	    inputValue =&quot;javac &quot;;							    //编译java文件</div><div class="line">	    keysInput(inputValue);</div><div class="line">	    key(KeyEvent.VK_SHIFT);  					//Shirt键，切换输入法</div><div class="line">	    r.delay(10);</div><div class="line">		inputValue = &quot;xinniankuaile&quot;;</div><div class="line">		keysInput(inputValue);</div><div class="line">		key(KeyEvent.VK_1);</div><div class="line">		key(KeyEvent.VK_SHIFT);  					//Shirt键，切换输入法</div><div class="line">		r.delay(10);</div><div class="line">	    inputValue =&quot;.java&quot;;							    //编译java文件</div><div class="line">	    keysInput(inputValue);</div><div class="line">		key(KeyEvent.VK_ENTER);											   //回车</div><div class="line">		</div><div class="line">		r.delay(300);																	</div><div class="line">		inputValue =&quot;java &quot;;										//执行编译文件</div><div class="line">		keysInput(inputValue); </div><div class="line">		   key(KeyEvent.VK_SHIFT);  					//Shirt键，切换输入法</div><div class="line">		   r.delay(10);</div><div class="line">			inputValue = &quot;xinniankuaile&quot;;</div><div class="line">			keysInput(inputValue);</div><div class="line">			key(KeyEvent.VK_1);</div><div class="line">			key(KeyEvent.VK_SHIFT);  					//Shirt键，切换输入法</div><div class="line">			r.delay(10);</div><div class="line">		key(KeyEvent.VK_ENTER);</div><div class="line">		</div><div class="line">		key(KeyEvent.VK_SHIFT);  					//Shirt键，切换输入法</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	//工具1：鼠标点击</div><div class="line">	private  void mouse(int mouseValue)&#123;</div><div class="line">		r.mousePress(mouseValue);</div><div class="line">		r.delay(10);</div><div class="line">		r.mouseRelease(mouseValue);</div><div class="line">		r.delay(20);</div><div class="line">	&#125;</div><div class="line">	//工具2：键盘敲打</div><div class="line">	private void key(int keyValue)&#123;</div><div class="line">		r.keyPress(keyValue); </div><div class="line">		r.delay(5);					//	按下和抬起之间有间隔</div><div class="line">		r.keyRelease(keyValue);</div><div class="line">		r.delay(10);</div><div class="line">	&#125;</div><div class="line">	//工具3：组合键</div><div class="line">	private void keyCombine(int keyValue1,int keyValue2)&#123;</div><div class="line">		r.keyPress(keyValue1);</div><div class="line">		r.keyPress(keyValue2);</div><div class="line">		r.delay(5);</div><div class="line">		r.keyRelease(keyValue1);</div><div class="line">		r.keyRelease(keyValue2);	</div><div class="line">		r.delay(15);</div><div class="line">	&#125;</div><div class="line">	//工具4：鼠标移动到目标位置</div><div class="line">	private void mouseMove(int goX,int goY)&#123;</div><div class="line">		String signX=goX &gt; X ? &quot;+&quot; : &quot;-&quot;;</div><div class="line">		String signY=goY &gt; Y ?  &quot;+&quot; : &quot;-&quot;;</div><div class="line">	</div><div class="line">		while(X!=goX || Y!=goY)&#123;</div><div class="line">			if(X!=goX)&#123;</div><div class="line">				if(&quot;+&quot;.equals(signX)) r.mouseMove(++X,Y);</div><div class="line">				else if(&quot;-&quot;.equals(signX)) r.mouseMove(--X, Y);</div><div class="line">			&#125;</div><div class="line">			if(Y!=goY)&#123;</div><div class="line">				if(&quot;+&quot;.equals(signY)) r.mouseMove(X,++Y);</div><div class="line">				else if(&quot;-&quot;.equals(signY)) r.mouseMove(X, --Y);</div><div class="line">			&#125;</div><div class="line">			r.delay(1);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	//工具5：键盘连续输入</div><div class="line">	private void keysInput(String value)&#123;</div><div class="line">		char [] arrayC =value.toUpperCase().toCharArray(); 	//将字符串全部转换为大写，再转换为ASCII码</div><div class="line">		int [] arrayI = new int[arrayC.length];</div><div class="line">		for(int i=0;i&lt;arrayC.length;i++)&#123;</div><div class="line">			arrayI[i]=(int)arrayC[i];</div><div class="line">		&#125;</div><div class="line">		</div><div class="line">		//开始连续输入</div><div class="line">	</div><div class="line">		for(int i=0;i&lt;arrayI.length;i++)&#123;</div><div class="line">			//判断字符大小写,分别进行处理</div><div class="line">			if(65&lt;=(int)value.charAt(i) &amp; (int)value.charAt(i)&lt;=90)&#123;  //A-65,Z-90</div><div class="line">				keyCombine(KeyEvent.VK_SHIFT,arrayI[i]); //组合键Shift+字母键</div><div class="line">				continue;</div><div class="line">			&#125;</div><div class="line">			key(arrayI[i]);</div><div class="line">			r.delay(30);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	//工具6：按住Shift键操作鼠标点击</div><div class="line">	private void mouseShift(int mouseValue)&#123;</div><div class="line">		r.keyPress(KeyEvent.VK_SHIFT);</div><div class="line">		r.delay(20);</div><div class="line">		r.mousePress(mouseValue);</div><div class="line">		r.delay(10);</div><div class="line">		r.mouseRelease(mouseValue);</div><div class="line">		r.delay(20);</div><div class="line">		r.keyRelease(KeyEvent.VK_SHIFT);</div><div class="line">	&#125;</div><div class="line"></div><div class="line"></div><div class="line">	public static void main(String []args)&#123;</div><div class="line">		拜年  hw = new 拜年();</div><div class="line">		try&#123;</div><div class="line">			hw.helloWorld_GO();</div><div class="line">		&#125;catch(Exception e)&#123;</div><div class="line">			e.printStackTrace();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></3></p>
<h2 id="-8"><a href="#-8" class="headerlink" title=""></a><br></h2><p><br><br></p>
<h2 id="14-JDBC连接数据库"><a href="#14-JDBC连接数据库" class="headerlink" title="14.JDBC连接数据库"></a>14.JDBC连接数据库</h2><p>&emsp;全称(java Data Base Connectivity ~ java数据库连接),连接数据库的桥梁,由java语言编写的类和接口组成,可以为多种数据库提供统一的访问,JDBC+DATABASE使Application与数据库分开,开发者只需关心内部逻辑的实现,不需注重数据库连接的具体实现<br><br></p>
<p>JDBC升级的替代产品</p>
<ul>
<li>Commons-dbutils【Apache组织提供的开源JDBC工具类库,对传统操作数据库类进行二次封装,可以把结果集转为List】</li>
<li>Hibermate【一种Java语言下的对象关系映射解决方案,轻量级ORM框架,提供缓存机制,提高效率,对大量数据进行频繁操作的话,性能效率低,不如直接使用JDBC】</li>
<li>MyBatis【是支持普通SQL查询,存储过程和高级映射的优秀持久层框架,sql卸载xml里,便于统一管理和优化,支持独享与数据库ORM字段关系映射,支持对象关系组建维护,支持编写动态sql】<br><br></li>
</ul>
<p>继承关系<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Statement </div><div class="line">	1.PreparedStatement</div><div class="line">		(1)CollableStatement</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>JDBC的连接与使用</p>
<ul>
<li>加载驱动程序</li>
<li>数据库连接</li>
<li>Statement对象</li>
<li>PreparedStatement对象<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;加载驱动程序【须在项目中先Build指定数据库的驱动jar包】</div><div class="line">	Class.forName(&quot;com.mysql.jdbc.Driver&quot;);</div><div class="line">	Class.forName(&quot;com.mysql.jdbc.Driver&quot;);//MySQL</div><div class="line">	Class.forName(&quot;roacle.jdbc.driver.OracleDriver&quot;);//Oracle</div><div class="line"></div><div class="line">&lt;2&gt;数据库连接</div><div class="line">	Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://127.0.0.1:3306/my_blog&quot;,&quot;root&quot;,&quot;123&quot;);   </div><div class="line"></div><div class="line"></div><div class="line">&lt;3&gt;Statement对象【直接执行】</div><div class="line">         Statement st=conn.createStatement();</div><div class="line">         ResultSet rs = st.executeUpdate(&quot;select * from user&quot;);</div><div class="line">    </div><div class="line">         while(rs.next())&#123;</div><div class="line">         	String name = rs.getString(&quot;user_name&quot;);//用户名</div><div class="line">         &#125;</div><div class="line"></div><div class="line"></div><div class="line">&lt;4&gt;PreparedStatement对象【预编译】</div><div class="line">		 String sql = &quot;insert into user(user_name,user_age) values(?,?)&quot;;</div><div class="line">	     PreparedStatement pst = conn.prepareStatement(sql);</div><div class="line">	     pst.setString(1,&quot;用户名&quot;);</div><div class="line">	     pst.setString(2,&quot;22岁&quot;)</div><div class="line">	     pst.execute();</div><div class="line">	     //Result rs = pst.executeQuery(); //查询语句,有返回结果集</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">扩展：</div><div class="line">    drop table book   删除整个book表</div><div class="line">    truncate table book 删除表中的数据(删除速度比delete更快,无法撤回)</div><div class="line">    delete from book 删除表中数据(可以回退)</div></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<p>JDBC调用存储过程</p>
<ul>
<li>调用无参数存储过程</li>
<li>调用含输入参数存储过程</li>
<li>调用含输出参数存储过程<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;调用无参数*******************************************************</div><div class="line">		a.存储过程：</div><div class="line">			CREATE PROCEDURE imooc_db.sp_select_nofilter()</div><div class="line">			BEGIN</div><div class="line">				select * from imooc_gooddess;</div><div class="line">			END;</div><div class="line">	</div><div class="line">		b.程序代码</div><div class="line">			Connection conn = DBUtils.getConnection();</div><div class="line">			CallableStatement c = conn.prepareCall(&quot;call sp_select_nofilter()&quot;);</div><div class="line">			c.execute(); //执行存储过程</div><div class="line">			ResultSet rs = c.getResultSet();//返回处理结果</div><div class="line">			while(rs.next())&#123;</div><div class="line">				String name = rs.getString(&quot;user_name&quot;);</div><div class="line">				......</div><div class="line">			&#125;</div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;调用含输入参数*************************************************</div><div class="line">		a.存储过程【IN-输入参数】</div><div class="line">			CREATE DEFINER =&apos;imooc&apos;@&apos;localhost&apos; PROCEDURE &apos;sp_select_filter&apos;(IN sp_name VARCHAR(20))</div><div class="line">			BEGIN </div><div class="line">				IF sp_name IS NULL OR sp_name = &apos;&apos; THEN</div><div class="line">					SELECT * FROM imooc_goddess;</div><div class="line">				ELSE</div><div class="line">					IF length(sp_name)=11 AND substring(sp_name,1,1)=1 THEN</div><div class="line">						SELECT * FROM imooc_goddess WHERE mobile=sp_name;</div><div class="line">					ELSE</div><div class="line">						SELECT * FROM imooc_goddess WHERE user_name LIKE concat(&apos;%&apos;,sp_name,&apos;%&apos;);</div><div class="line">					END IF;</div><div class="line">				END IF;</div><div class="line">			END</div><div class="line">	</div><div class="line">		b.程序代码</div><div class="line">			List&lt;User&gt; result = new ArrayList&lt;User&gt;();</div><div class="line">	</div><div class="line">			Connection conn = DBUtil.getConnection();</div><div class="line">			CallableStatement cs = conn.prepareCall(&quot;Call sp_select_filter(?)&quot;);</div><div class="line">			cs.setString(1,&quot;user&quot;);</div><div class="line">			cs.execute();//执行</div><div class="line">			ResultSet rs = cs.getResultSet();</div><div class="line">			User user = null;</div><div class="line">			while(rs.next())&#123;</div><div class="line">				user = new User();</div><div class="line">				user.setId(rs.getInt(&quot;id&quot;));</div><div class="line">				user.setUser(rs.getString(&quot;user_name&quot;));</div><div class="line">	</div><div class="line">				result.add(user);</div><div class="line">			&#125;</div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;调用含输出参数****************************************************</div><div class="line">		a.存储过程【ON-输出参数】</div><div class="line">			CREATE DEFING=&apos;imooc&apos;@&apos;localhost&apos; PROCEDURE &apos;sp_select_count&apos;(OUT count INT(10))</div><div class="line">			BEGIN</div><div class="line">				SELECT count(*) INTO count FROM imooc_goddess;</div><div class="line">			END</div><div class="line">	</div><div class="line">		b.程序代码</div><div class="line">			Connection conn = DBUtils.getConnection();</div><div class="line">			CallableStatement cs = conn.prepareCall(&quot;call sp_select_count(?)&quot;);</div><div class="line">			cs.registerOutParameter(1,Types.INTEGER);//注册输出参数</div><div class="line">			cs.execute();</div><div class="line">	</div><div class="line">			Integer count = cs.getInt(1);//得到输出值</div></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<p>JDBC事务管理</p>
<ul>
<li>事务TRANSACTION是作为”单个逻辑工作单元”执行的一系列操作</li>
<li>这些操作作为一个”整体”一起向系统提交,要么都执行,要么都不执行</li>
<li>【特点】ACID,原子性(Atomicty,事务是一个完整的操作),一致性(Consistency,当事务完成时,数据处于一致状态),隔离性(Isolation,对数据进行修改的所有并发事务是彼此隔离的),永久性(Durability,事务完成后,对数据库的修改被永久保持)<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;JDBC对事务管理的支持</div><div class="line">	a.</div><div class="line">		commit()  ~  提交</div><div class="line">		rollback() ~ 回滚</div><div class="line">	b.</div><div class="line">		事务操作默认是自动提交,可以通过调用setAutoCommit(false)来禁止自动提交</div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;代码实现</div><div class="line">		public String transaction()&#123;</div><div class="line">			Connection conn = DBUtil.getConnection();</div><div class="line">			conn.setAutoCommit(false);//关闭自动提交,进行手动提交</div><div class="line">			try&#123;</div><div class="line">				//增删查改。。。。。	</div><div class="line">	</div><div class="line">				conn.commit();//提交</div><div class="line">				return &quot;success&quot;;//成功标志</div><div class="line">			&#125;catch(Exception e)&#123;</div><div class="line">				conn.roollback();//回滚</div><div class="line">				e.printStrackTrace();</div><div class="line">				return &quot;fali&quot;;//失败标志</div><div class="line">			&#125;</div><div class="line">		&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<p>JDBC数据库连接池</p>
<ul>
<li>【常用开源连接池】dbcp和c3p0<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;使用dbcp连接池************************************************************</div><div class="line">	a.导入相关jar包</div><div class="line">		commons-dpcp2-2.1.1.jar</div><div class="line">		commons-pool2-2.4.2.jar</div><div class="line">		commons-logging-1.2.jar</div><div class="line">	b.在项目根目录增加配置文件</div><div class="line">		dbcp.properties</div><div class="line">	</div><div class="line">			********************************************</div><div class="line">			# 使用JDBC驱动的完整有效的java类名</div><div class="line">			driverClassName=com.mysql.jdbc.Driver</div><div class="line">			#传递给JDBC驱动的用于建立建立连接的url</div><div class="line">			url=jdbc:mysql://127.0.0.1:3306/myblog?useUnicode=true&amp;characterEncoding=UTF-8</div><div class="line">			#数据库用户名</div><div class="line">			username=root</div><div class="line">			#数据库密码</div><div class="line">			password=root</div><div class="line">			#最大活动连接</div><div class="line">			maxActive=</div><div class="line">			#最大空闲连接</div><div class="line">			maxIdle==</div><div class="line">			#无限，最大等待时间</div><div class="line">			maxWait=</div><div class="line">			initialSize=</div><div class="line">			minIdle=1</div><div class="line">			romveAbandoned=</div><div class="line">			removeAbandonedTimeout=</div><div class="line">			********************************************</div><div class="line">	</div><div class="line">	c.程序初始化代码</div><div class="line">		</div><div class="line">		(1)【方式1】配置文件</div><div class="line">			try&#123;</div><div class="line">				//A.加载数据源</div><div class="line">				Properties pops = new Properties();</div><div class="line">				pops.load(Object.class.getResourceAsStream(&quot;/dbcp.properties&quot;))</div><div class="line">	</div><div class="line">				DataSource DS = BasicDataSourceFactory.createDataSource(pops);</div><div class="line">			</div><div class="line">				//B.从数据源获取连接</div><div class="line">				Connection conn = DS.getConnection();</div><div class="line">				conn.setAutoCommit(false);//关闭自动提交</div><div class="line">	</div><div class="line">			&#125;catch(Exception)&#123;&#125;</div><div class="line">	</div><div class="line">		(2)【方式2】动态加载数据源</div><div class="line">			try&#123;</div><div class="line">				//A.新建数据源</div><div class="line">				BasicDataSource ds = new BasicDataSource();</div><div class="line">				ds.setDriverClassName(&quot;&quot;);</div><div class="line">				ds.setUserName(&quot;&quot;);</div><div class="line">				ds.setPassword(&quot;&quot;);</div><div class="line">				ds.setUrl(&quot;&quot;);</div><div class="line">				ds.setInitialSize(&quot;&quot;);</div><div class="line">				ds.setMaxTotal(&quot;&quot;);</div><div class="line">				ds.setMaxIdle(&quot;&quot;);</div><div class="line">				ds.setMaxWaitMillis(&quot;&quot;);</div><div class="line">				ds.setMinIdle(minIdle);</div><div class="line">	</div><div class="line">				DataSource DS = ds;</div><div class="line">	</div><div class="line">				//B.从数据源获取连接</div><div class="line">				Connection conn = DS.getConnection();</div><div class="line">				conn.setAutoCommit(false);</div><div class="line">	</div><div class="line">			&#125;catch(Exception e)&#123;&#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;使用C3P0连接池**********************************************************</div><div class="line">	a.介绍</div><div class="line">		C3P0是一个开源的JDBC连接池,它实现了数据源和JNDI绑定,支持JDBC3和JDBC2的标准扩展</div><div class="line">	</div><div class="line">	b.导入相关jar包</div><div class="line">		c3p0-版本号-pre4.jar</div><div class="line">		machange-commons-java-0.2.2.jar</div><div class="line">	</div><div class="line">	c.增加配置文件</div><div class="line">		c3p0.properties</div><div class="line">	</div><div class="line">	d.编写类文件,创建连接池</div><div class="line">		public static Connection getConnection()&#123;</div><div class="line">			//A.新建数据源</div><div class="line">			ComboPooledDataSource ds = new ComboPooleDataSource();</div><div class="line">	</div><div class="line">			//B.获得连接诶</div><div class="line">			try&#123;</div><div class="line">				return ds.getConnectino();</div><div class="line">			&#125;catch(SQLException e)&#123;</div><div class="line">				throw new RuntimeException(e);//抛出运行时异常</div><div class="line">			&#125;</div><div class="line">		&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p><br> </p>
<hr>
<p><br><br></p>
<h2 id="15-遍历与控制台打印输出"><a href="#15-遍历与控制台打印输出" class="headerlink" title="15.遍历与控制台打印输出"></a>15.遍历与控制台打印输出</h2><ul>
<li>输出26个字母</li>
<li>遍历HashMap<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;输出26个字母</div><div class="line">	public static void main(String [] arge)&#123;</div><div class="line">	    int a_num=(int)&apos;a&apos;;</div><div class="line">	    char [] num=new char[26];</div><div class="line">	    int i=0;</div><div class="line">	    flag:</div><div class="line">	        while(true)&#123;</div><div class="line">	            if(i==num.length) break flag;</div><div class="line">	            num[i]=(char)a_num++;</div><div class="line">	            i++;</div><div class="line">	        &#125;</div><div class="line">	    for(char o:num)&#123;</div><div class="line">	        System.out.print(o);</div><div class="line">	    &#125;</div><div class="line">	&#125;</div><div class="line">&lt;2&gt;遍历HashMap	</div><div class="line"> 			Iterator iter =hm.entrySet().iterator();</div><div class="line">                while (iter.hasNext()) &#123;</div><div class="line">                    Map.Entry entry = (Map.Entry) iter.next();</div><div class="line">                    Object key = entry.getKey();</div><div class="line">                    Object val = entry.getValue();</div><div class="line">                    System.out.println(key+&quot;----&quot;+val);</div><div class="line">                &#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<hr>
<p><br><br></p>
<h2 id="16-XML文件读取与生成"><a href="#16-XML文件读取与生成" class="headerlink" title="16.XML文件读取与生成"></a>16.XML文件读取与生成</h2><p>xml应用场景</p>
<ul>
<li>不同应用程序之间的通信</li>
<li>不同平台间的通信</li>
<li>不同平台间的数据共享<br><br></li>
</ul>
<p>常见节点类型</p>
<ul>
<li>Element【ELEMENT_NODE,返回值{nodeName:”element name”,nodeVluae:”null”}】</li>
<li>Attr【ATTRIBUTE_NODE,返回值{nodeName:”属性名称”,nodeVluae:”属性值”}】</li>
<li>Text【TEXT_NODE,返回值{nodeName:”#text”,nodeVluae:”节点内容”}】<br><br></li>
</ul>
<p>注意</p>
<ul>
<li>使用DOM解析的时候,在xml中某个节点获取子节点,空格和换行符也会算1个子节点</li>
<li>SAX解析同上</li>
<li>JDOM乱码问题，先考虑xml文档中第一行<code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;这里的编码&quot;?&gt;</code>,若仍然出现乱码,在程序中进行代码处理流【new InputStreamReader(FileInputStream,”编码”)】</li>
<li>将XML文件中的输入存入entity对象【各种解析】<br><br></li>
</ul>
<p>DOM特点</p>
<ul>
<li>基于true,DOM树,驻留在内存中,易于删除,修改,重新排列</li>
<li>【优点】形成了树结构,直观好理解,代码更易编写</li>
<li>【优点】解析过程中树结构保留在内存中,方便修改</li>
<li>【缺点】当xml文件较大时,对内存耗费比较大,容易影响解析性能,并造成内存溢出<br><br></li>
</ul>
<p>SAX特点</p>
<ul>
<li>基于事件,无状态性，不易于回头进行操作,不频繁操作的话,SAX性能相对DOM较高</li>
<li>【优点】采用事件驱动,对内存耗费比较小</li>
<li>【优点】适用于只需要处理xml中数据时</li>
<li>【缺点】不易编码</li>
<li>【缺点】很难同时访问同一个xml中的多处不同数据<br><br></li>
</ul>
<p>JDM特点</p>
<ul>
<li>仅仅使用具体类而不使用接口</li>
<li>API大量使用了Collections类</li>
<li>是一个开发代码的软件<br><br></li>
</ul>
<p>DOM4J特点</p>
<ul>
<li>JDOM的异种智能分支,它合并了许多超出基本XML表示的功能</li>
<li>DOM4J使用接口抽象基本类方法,是一个优秀的Java XML API</li>
<li>具有性能优异,灵活性好,功能强大和极端易用使用的特点【在某种程度比JDOM性能要好】</li>
<li>是一个开发代码的软件<br><br></li>
</ul>
<p>【读取】java中获取xml文件的四种解析方式</p>
<ul>
<li>DOM 【基础.官方(与平台无关,不只是java),将整个XML文件加载到内存中，再逐个解析】</li>
<li>SAX 【基础,官方(基于事件驱动的解析方式),通过自己创建的Hndler处理类,去逐个分析遇到的每个节点,按顺序最外层向里层依次解析】</li>
<li>DOM4J 【扩展在基础方法上扩展出的,只有java能够使用】</li>
<li>JDOM   【同上】</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;DOM解析**********************************************************</div><div class="line">	public DOMTest&#123;</div><div class="line">		/*</div><div class="line">			a.创建DocumentBuilderFactory对象</div><div class="line">			b.创建DocumentBuilder对象</div><div class="line">			c.通过DocumentBuilder对象的parse(String pathfileName)解析xml文件</div><div class="line">			d.得到Dom对象【org.w3c.dom】</div><div class="line">		*/</div><div class="line">		public static void main(String [] args)&#123;</div><div class="line">			DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();</div><div class="line">			try&#123;</div><div class="line">				DocumentBuilder db = dbf.newDocumentBuilder();</div><div class="line">				Document document = db.parse(&quot;books.xml&quot;);</div><div class="line">	</div><div class="line">				//获取&quot;book&quot;节点对象结合</div><div class="line">				NodeList booklist = document.getElementByTagName(&quot;book&quot;);</div><div class="line">				for(int i = 0,len = nlist.getLength(); i &lt; len; i++)&#123;</div><div class="line">					//A【方式1】每个节点</div><div class="line">					Node book = booklist.item(i);</div><div class="line">					//节点的属性集合</div><div class="line">					NameNodeMap attrs = book.getAttributes();</div><div class="line">	</div><div class="line">					for(int j = 0,len2 = atts.getLength(); j++)&#123;</div><div class="line">						//属性节点</div><div class="line">						Node attr = attrs.item(j);</div><div class="line">						String attrName = attr.getNodeName();</div><div class="line">						String attrValue = attr.getNodeValue();</div><div class="line">					&#125;</div><div class="line">	</div><div class="line">					//A【方式2】将节点对象强转为Element类型</div><div class="line">					Element book = (Element)booklist.item(i);</div><div class="line">					String attrValue = book.getAttribute(&quot;id&quot;);//id属性值</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">					//B【获取子节点】</div><div class="line">					NodeList childlist = book.getChildNodes();</div><div class="line">					for(int j = 0,len2 = childlist.getLength();j &lt; len2;j++)&#123;</div><div class="line">						//针对节点类型为ELEMENT_NODE的节点</div><div class="line">						Node child = childlist.item(j);</div><div class="line">						if(child.getNodeType == Node.ELEMENT_NODE)&#123;</div><div class="line">							//执行操作</div><div class="line">							System.out.println(&quot;打印节点值&quot;+ node.getTextContent());</div><div class="line">						&#125;</div><div class="line">					&#125;  </div><div class="line">	</div><div class="line">				&#125;</div><div class="line">	</div><div class="line">			&#125;catch(ParserConfigurationException e)&#123;</div><div class="line">				e.printStrackTrace();</div><div class="line">			&#125;catch(SAXException e)&#123;&#125;</div><div class="line">			catch(IOException e)&#123;&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;SAX解析**********************************************************</div><div class="line">	public class ASXTest&#123;</div><div class="line">		/*</div><div class="line">			a.通过SAXParserFactory.newInstanse获取通过SAXParserFactory的实例factory</div><div class="line">			b.通过factory.newSAXParser()获取SAXParser的实例parser</div><div class="line">			c.创建一个类继承DefaultHandler【org.xml.sax.helpers】,重写其中的一些方法进行业务处理,并创建这个类的实例</div><div class="line">		*/</div><div class="line">		public static void main(String [] args)&#123;</div><div class="line">			SAXParserFactory  factory = SAXParserFacotry.newInstance();</div><div class="line">			try&#123;</div><div class="line">	</div><div class="line">				SAXParser parser = factory.newSAXParser();</div><div class="line">	</div><div class="line">				MySAXParserHandler handler = new MySAXParserHandler();</div><div class="line">	</div><div class="line">				parser.parser(&quot;books.xml&quot;,handler);</div><div class="line">	</div><div class="line">				//遍历每一本书</div><div class="line">				for(Book book:handler.getBooklist)&#123;</div><div class="line">					System.out.println(book.toString());</div><div class="line">				&#125;</div><div class="line">	</div><div class="line">			&#125;catch(ParserConfigurationException e)&#123;&#125;</div><div class="line">			 catch(SAXException e)&#123;&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	class MySAXParserHandler extends DefaultHandler&#123;</div><div class="line">	</div><div class="line">			private String value = null;  //节点值</div><div class="line">			private Book book = null;</div><div class="line">			private ArrayList&lt;Book&gt; booklist = new  ArrayList&lt;Book&gt;();</div><div class="line">			public ArrayList&lt;Book&gt; getBooklist()&#123;</div><div class="line">				return bookList;</div><div class="line">			&#125;</div><div class="line"></div><div class="line"></div><div class="line">			//标识解析开始</div><div class="line">			@Override</div><div class="line">			public void startDocument() throws SAXException&#123;</div><div class="line">				super.startDocument();</div><div class="line">				System.out.println(&quot;SAX解析开始[第一行开始]&quot;);</div><div class="line">			&#125;</div><div class="line"></div><div class="line"></div><div class="line">			//解析xml元素</div><div class="line">			@Override</div><div class="line">			public void startElement(String url,String localName,String qName,Attrubutes attributes) throws SAXException&#123;</div><div class="line">				super.startElement(uri,localName,qName,attributes);</div><div class="line">	</div><div class="line">				//解析book节点属性</div><div class="line">				if(&quot;book&quot;.equals(qName))&#123;</div><div class="line">					//创建一个Book对象</div><div class="line">					this.book = new Book();</div><div class="line">	</div><div class="line">					System.out.println(&quot;=======开始遍历book======&quot;)</div><div class="line">					 //获取id属性值</div><div class="line">					String value = attributes.getValue(&quot;id&quot;);</div><div class="line">					</div><div class="line">					//遍历该节点的所有属性</div><div class="line">					int num = attributes.getLength();</div><div class="line">					for(int i = 0 ; i &lt; num; i++)&#123;</div><div class="line">						String name = attributes.getQName(i); //属性名</div><div class="line">						String value = attributes.getValue(i);//属性值</div><div class="line">					&#125;</div><div class="line">				&#125;</div><div class="line">	</div><div class="line">				//执行完后默认执行character()</div><div class="line">			&#125;</div><div class="line">	</div><div class="line">			//获取节点值[参数:节点内容,开始节点,长度]</div><div class="line">			@Override</div><div class="line">			public void characters(char [] ch,int start,int length) throws SAXException&#123;</div><div class="line">				super.characters(ch,start,length);	</div><div class="line">	</div><div class="line">				this.value = new String(ch,start,length);</div><div class="line">				if(!value.trim().equals(&quot;&quot;))&#123; //去掉空格后,不是空字符串</div><div class="line">					System.out.println(&quot;节点值:&quot; + value);</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">	</div><div class="line">			//节点的结束标签</div><div class="line">			@Override</div><div class="line">			public void endElement(String uri,String localName,String qName)throws SAXException&#123;</div><div class="line">				super.endElement(uri,localName,qName);</div><div class="line">	</div><div class="line">				//判断是否结束某个book节点的遍历</div><div class="line">				if(&quot;book&quot;.equals(qName))&#123;</div><div class="line">					System.out.println(&quot;=======结束遍历book======&quot;)</div><div class="line">					this.booklist.add(book);  //将book对象添加进集合</div><div class="line">					this.book = null;		  //重置book对象</div><div class="line">				&#125;else if(&quot;name&quot;.equals(qName))&#123;</div><div class="line">					book.setName(value);</div><div class="line">				&#125;else if(&quot;author&quot;.equals(qName))&#123;</div><div class="line">					book.setAuthor(value);</div><div class="line">				&#125;else if(qName.equals(&quot;content&quot;))&#123;</div><div class="line">					book.setContent(value);</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line"></div><div class="line"></div><div class="line">			//标识解析结束</div><div class="line">			@Override</div><div class="line">			public void endDocuemnt() throws SAXException&#123;</div><div class="line">				super.endDocument();</div><div class="line">				System.out.println(&quot;SAX解析结束[读完最后一行]&quot;);</div><div class="line">			&#125;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	//entity实体类</div><div class="line">	class Book&#123;</div><div class="line">		private String name;</div><div class="line">		private String author;</div><div class="line">		private String content;</div><div class="line">	</div><div class="line">		//Getter和Setter方法</div><div class="line">		...... </div><div class="line">	</div><div class="line">		//toString()</div><div class="line">		public String toString()&#123;</div><div class="line">			....</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;3&gt;JDOM解析**********************************************************</div><div class="line">	public class JDOMTest&#123;</div><div class="line"></div><div class="line">		private ArrayList&lt;Book&gt; booklist = new ArrayList&lt;Book&gt;();</div><div class="line"></div><div class="line">		/*</div><div class="line">			a.导入jdom-版本号.jar包</div><div class="line">			b.创建SAXBuilder的对象实例通过saxBuilde</div><div class="line">			c.指定xml文件创建输入流</div><div class="line">			d.通过saxBuilde的builder(),将输入流加载,返回Document【org.jdom2】实例</div><div class="line">		*/</div><div class="line">		public static void main(String [] args)&#123;</div><div class="line">			SAXBuilder saxBuilder = new SAXBuilder();</div><div class="line">	</div><div class="line">			InputStream is;</div><div class="line">			try&#123;</div><div class="line">				in = new FileInputStream(&quot;src/res/books.xml&quot;);</div><div class="line">	</div><div class="line">				Document document = saxBuilder.build(in);</div><div class="line">	</div><div class="line">				//获取根节点</div><div class="line">				Element rootElement = document.getRootElement();</div><div class="line">	</div><div class="line">				//获取根节点下的子节点集合</div><div class="line">				List&lt;Element&gt; booklist = rootElement.getChildren();</div><div class="line">				int len = booklist.size(); //集合长度</div><div class="line">				for(Element book: booklist)&#123;</div><div class="line">					Book book = new Book();</div><div class="line">					System.out.println(&quot;开始解析....&quot;);</div><div class="line">	</div><div class="line">						String id = book.getAttrbuteValue(&quot;id&quot;);//获取节点的id属性值</div><div class="line">	</div><div class="line">						//获取属性集合</div><div class="line">						List&lt;Attribute&gt; attrlist = book.getAttributes();</div><div class="line">						for(Attribute attr: attrlist)&#123;</div><div class="line">							String attrName = attr.getName();//属性名</div><div class="line">							String attrValue = attr.getValue();//属性值</div><div class="line">						&#125;</div><div class="line">	</div><div class="line">						//book节点的子节点的遍历</div><div class="line">						List&lt;Element&gt; bookChilds = book.getChildren();</div><div class="line">						for(Element child: bookChilds)&#123;</div><div class="line">							String nodeName = child.getName();//子节点名</div><div class="line">							String nodeValue = child.getValue();//子节点值</div><div class="line">	</div><div class="line">							if(&quot;name&quot;.equals(nodeName))&#123;</div><div class="line">								book.setName(nodeValue);</div><div class="line">							&#125;</div><div class="line">							else if(&quot;author&quot;.equals(nodeName))&#123;</div><div class="line">								book.setAuthor(nodeValue);</div><div class="line">							&#125;</div><div class="line">							else if(&quot;content&quot;.equals(nodeName))&#123;</div><div class="line">								book.setContent(nodeValue);</div><div class="line">							&#125;</div><div class="line">	</div><div class="line">						&#125;</div><div class="line">	</div><div class="line">					System.out.println(&quot;结束解析....&quot;);</div><div class="line">					booklist.add(book); //存储book集合</div><div class="line">					book = null;	//重置book</div><div class="line">				&#125;</div><div class="line"></div><div class="line"></div><div class="line">			&#125;catch(FileNotFoundException e)&#123;&#125;</div><div class="line">			 catch(JDOMException e)&#123;&#125;</div><div class="line">			 catch(IOException e)&#123;&#125;</div><div class="line">		&#125;</div><div class="line">   &#125;</div><div class="line">	//entity实体类</div><div class="line">	class Book&#123;</div><div class="line">		private String name;</div><div class="line">		private String author;</div><div class="line">		private String content;</div><div class="line">	</div><div class="line">		//Getter和Setter方法</div><div class="line">		...... </div><div class="line">	</div><div class="line">		//toString()</div><div class="line">		public String toString()&#123;</div><div class="line">			....</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line"></div><div class="line">&lt;4&gt;DOM4J解析**********************************************************</div><div class="line"></div><div class="line">	public DOM4JTest&#123;</div><div class="line">		 /*</div><div class="line">			a.导入dom4j-版本号.jar包</div><div class="line">			b.创建SAXReader对象reader</div><div class="line">			c.通过read的read(),加载xml文件,得到Doument【org.dom4j】实例对象</div><div class="line">			d.获取根节点,子节点。。。</div><div class="line">		 */</div><div class="line">		 public static void main(String [] args)&#123;</div><div class="line">		 	SAXReader reader = new SAXReader();</div><div class="line">	</div><div class="line">		 	try&#123;</div><div class="line">		 		Document document reader.read(new File(&quot;src.res/books.xml&quot;));</div><div class="line">	</div><div class="line">		 		Element bookRoot = document.getRootElement();</div><div class="line">	</div><div class="line">		 		//获取迭代器,遍历迭代器,获取根节点中的信息</div><div class="line">		 		Iterator it = bookRoot.elementIterator();</div><div class="line">		 		while(it.hasNext())&#123;</div><div class="line">		 			System.out.println(&quot;========开始遍历一本书==========&quot;)</div><div class="line">		 			Element book = (Element)it.next(); //节点</div><div class="line">	</div><div class="line">		 			//获取book属性集合</div><div class="line">		 			List&lt;Attribute&gt; bookAttrs = book.attributes();</div><div class="line">		 			for(Attribute attr: bookAttrs)&#123;</div><div class="line">		 				String attrName = attr.getName(); //属性名</div><div class="line">		 				String attrValue = attr.getValue();//属性值</div><div class="line">		 			&#125;</div><div class="line"></div><div class="line"></div><div class="line">    	 			//获取book节点的子节点迭代器</div><div class="line">    	 			Iterator itt = book.elementIterator();</div><div class="line">    	 			while(itt.hasNext())&#123;</div><div class="line">    	 				Element bookChild = (Element)itt.next();</div><div class="line">    </div><div class="line">    	 				String childName = bookChild.getName();//子节点名</div><div class="line">    	 				String childValue = bookChild.getValue();//子节点值</div><div class="line">    	 			&#125;</div><div class="line">    	 			println(&quot;==========结束遍历===================&quot;)</div><div class="line">     	 		&#125;</div><div class="line">    </div><div class="line">    	 	&#125;catch(DocumentException e)&#123;&#125;</div><div class="line">    	 	</div><div class="line">    	 &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p><br></p>
<hr>
<p>【生成】java生成XML文件的四种方式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;DOM生成*********************************************************</div><div class="line">	 public void createXML()&#123;</div><div class="line">	  	DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();</div><div class="line">	  	</div><div class="line">	  	DocumentBuilder db = null;</div><div class="line">	  	try&#123;</div><div class="line">	  		db = dbf.newDocumentBuilder();</div><div class="line">	    &#125;catch(ParserConfigurationException e)&#123;&#125;</div><div class="line">	</div><div class="line">	    //获得Document</div><div class="line">	    Doucment document  = db.newDocument(); </div><div class="line">	    document.setXmlStandalone(true);//将第一行的xml标签,standalone属性【yes-表示当前xml文件没有ddt和schema作为说明文档,no-表示有..说明文档,解释说明允许有哪些值,以及值的一些形式】声明为yes(默认是不显示)</div><div class="line">	</div><div class="line">	    //添加根节点bookstore</div><div class="line">	    Element bookstore = document.createElement(&quot;bookstore&quot;);</div><div class="line">	    Element book = document.createElement(&quot;book&quot;);</div><div class="line">	    book.setAttribute(&quot;节点属性名&quot;,&quot;节点属性值&quot;);</div><div class="line">	    Element name = document.createElement(&quot;name&quot;);</div><div class="line">	    name.setTextContent(&quot;节点文本内容&quot;);</div><div class="line">	</div><div class="line">	    book.appendChild(name);		</div><div class="line">	    bookstore.appendChild(book);      //给bookstore添加子节点</div><div class="line">	    document.appendChild(bookstore);  //添加根节点</div><div class="line"></div><div class="line"></div><div class="line">	    //创建xml文件</div><div class="line">	    TransformerFactory tff = TransformerFactory.newInstance();//工程类创建对象</div><div class="line">	    try&#123;</div><div class="line">	    	Transformer tr = tff.newTransformer();</div><div class="line">	</div><div class="line">	    	//设置换行</div><div class="line">	    	tf.setOutputProperty(OutputKeys.INDENT,&quot;yes&quot;);</div><div class="line">	</div><div class="line">	    	//传入document,生成xml文档</div><div class="line">	    	tf.transform(new DOMSource(document),</div><div class="line">	    				 new StreamResult(new File(&quot;book1.xml&quot;)));</div><div class="line">	    &#125;catch(TransformerConfigurationException e)&#123;&#125;</div><div class="line">	</div><div class="line">	&#125;</div><div class="line"></div><div class="line"></div><div class="line">&lt;1&gt;SAX生成*********************************************************</div><div class="line">	public void createXML()&#123;</div><div class="line">		//1.得到Book对象集合进行生成xml文件</div><div class="line">		ArrayList&lt;Book&gt; bookList = getBooklist();</div><div class="line">	</div><div class="line">		SAXTransformerFactory tff = (SAXTransformerFactory)SAXTransformerFactory.newInstance();</div><div class="line">	</div><div class="line">		try&#123;</div><div class="line">			TransformerHandler handler = tff.newTransformerHandler();</div><div class="line">	</div><div class="line">			//通过Transformer对象,设置xml编码与换行</div><div class="line">			Transformer tf = handler.getTransformer();</div><div class="line">			tf.setOutputProperty(OutputKeys.ENCODING,&quot;UTF-8&quot;);</div><div class="line">			tf.setOutputProperty(OutputKeys.INDENT,&quot;yes&quot;);</div><div class="line"></div><div class="line"></div><div class="line">			//创建Result对象并与handler关联</div><div class="line">			File file = new File(&quot;src/res/newbooks.xml&quot;);</div><div class="line">			if(!file.exists())&#123;</div><div class="line">					file.createNewFile();//不存在则创建xml文件</div><div class="line">			&#125;</div><div class="line">	</div><div class="line">			Result result = new StreamResult(new FileInputOutputStream(file));</div><div class="line">			handler.setResult(result);</div><div class="line">	</div><div class="line">			//打开document</div><div class="line">			handler.startDocument();</div><div class="line">	</div><div class="line">				//bookstore节点</div><div class="line">				AttributesImpl attr = new AttributesImpl();//属性</div><div class="line">				handler.startElement(&quot;&quot;,&quot;&quot;,&quot;bookstore&quot;,attr); //开始标签</div><div class="line">		</div><div class="line">					//子节点book,并赋予属性</div><div class="line">					attr.clear();</div><div class="line">					attr.addAttribute(&quot;&quot;,&quot;&quot;,&quot;id&quot;,&quot;&quot;,&quot;1&quot;);</div><div class="line">					handler.startElement(&quot;&quot;,&quot;&quot;,&quot;book&quot;,attr);</div><div class="line">	</div><div class="line">						//子节点name</div><div class="line">						handler.startElement(&quot;&quot;,&quot;&quot;,&quot;name&quot;,attr);</div><div class="line">						handler.characters(&quot;文本值&quot;.toCharArray(),0,&quot;文本值&quot;.length();)</div><div class="line">						handler.endElement(&quot;&quot;,&quot;&quot;,&quot;name&quot;);</div><div class="line">	</div><div class="line">					handler.endElement(&quot;&quot;,&quot;&quot;,&quot;book&quot;);</div><div class="line">	</div><div class="line">				handler.endElement(&quot;&quot;,&quot;&quot;,&quot;bookstore&quot;;//结束标签</div><div class="line">	</div><div class="line">			//关闭document</div><div class="line">			handler.endDocuemnt();</div><div class="line"></div><div class="line">​	</div><div class="line"></div><div class="line">		&#125;catch(TransformerConfigurationException e)&#123;&#125;</div><div class="line">		 catch(FileNotFoundException e)&#123;&#125;</div><div class="line">		 catch(IOException e)</div><div class="line">	</div><div class="line">	&#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;3&gt;JDOM生成*********************************************************</div><div class="line">	public void createXML()&#123;</div><div class="line">		Element rss = new Element(&quot;rss&quot;);</div><div class="line">		rss.setAttribute(&quot;version&quot;,&quot;2.0&quot;);</div><div class="line">	</div><div class="line">		Document docuemnt = new Document(rss);</div><div class="line">	</div><div class="line">		//子节点</div><div class="line">		Element channel = new Element(&quot;channel&quot;);</div><div class="line">		rss.addcContent(channel);</div><div class="line">		Element title = new Element(&quot;title&quot;);</div><div class="line">		title.setText(&quot;国内最新新闻&quot;);</div><div class="line">		channel.addContext(title);</div><div class="line">	</div><div class="line">		//设置XML格式</div><div class="line">		Format format = Format.getCompactFormat()</div><div class="line">		format.setIndent(&quot;&quot;); //设置换行</div><div class="line">		format.setEncoding(&quot;GBK&quot;);//设置编码</div><div class="line"></div><div class="line"></div><div class="line">		//创建XML文件</div><div class="line">		XMLOutputter outputer = new XMLOutputter(format);</div><div class="line">	</div><div class="line">		try&#123;</div><div class="line">			outputer.output(document,new fileOutputStream(new File(&quot;rssnews.xml&quot;)));</div><div class="line">		&#125;catch(FileNotFoundException e)&#123;&#125;</div><div class="line">		 catch(IOException e)&#123;&#125;</div><div class="line">		</div><div class="line">	&#125;</div><div class="line"></div><div class="line"></div><div class="line">&lt;4&gt;DOM4J生成*********************************************************</div><div class="line"></div><div class="line">	public void createXML()&#123;</div><div class="line">		Document document = DocumentHepler.createDocument();</div><div class="line">		Element rss = document.addElement(&quot;rss&quot;); /RSS节点</div><div class="line">		rss.addAttribute(&quot;version&quot;,2.0);</div><div class="line">	</div><div class="line">		//子节点</div><div class="line">		Element channel = rss.addElement(&quot;channel&quot;);</div><div class="line">		Element title = channel.addElement(&quot;title&quot;);</div><div class="line">		title.setText(&quot;&lt;![CDATA[国内最新新闻]]&gt;&quot;);</div><div class="line">	</div><div class="line">		//设置漂亮的换行格式</div><div class="line">		OutputFormat format = OutputFormat.createPrettyPrint();</div><div class="line">		format.sendEncoding(&quot;GBK&quot;);//设置编码</div><div class="line">	</div><div class="line">		//生成文件</div><div class="line">		File file = new File(&quot;src/res/rssnew.xml&quot;);</div><div class="line">		XMLWrite write;</div><div class="line">		try&#123;</div><div class="line">			write = new XMLWrite(new FileOutputStream(file),format);</div><div class="line">	</div><div class="line">			//设置转义,默认为ture(自动将特殊符号转义),false-不转义</div><div class="line">			write.setEscapeText(false);</div><div class="line">			</div><div class="line">			write.write(document);</div><div class="line">			write.close();</div><div class="line">		&#125;catch(IOException e)&#123;</div><div class="line">			e.printStackTrace();</div><div class="line">		&#125;</div><div class="line"></div><div class="line"></div><div class="line">	&#125;</div></pre></td></tr></table></figure></p>
<p><br></p>
<hr>
<p><br><br></p>
<h2 id="17-1-Java加密与解密机制介绍"><a href="#17-1-Java加密与解密机制介绍" class="headerlink" title="17_1.Java加密与解密机制介绍"></a>17_1.Java加密与解密机制介绍</h2><p>&emsp;加密与解密算法的最终目的是实现数据的安全传输<br><br></p>
<p>密码常用术语</p>
<ul>
<li>明文【待加密信息】</li>
<li>密文【经过加密后的明文】</li>
<li>加密【明文转密文的过程】</li>
<li>加密算法【明文转密文的转换算法】</li>
<li>加密密钥【通过加密算法进行加密操作的密钥】</li>
<li>解密【将密文转为明文的过程】</li>
<li>解密算法【密文转为明文的算法】</li>
<li>解密密钥【通过解密算法进行解密操作用的密钥】</li>
<li>密码分析【截获密文者视图通过分析截获的密文从而推断出原来的明文或密钥的过程】</li>
<li>主动工具【攻击者非法入侵密码系统,采用伪造,修改,删除等手段向系统注入假消息进行欺骗(对密文具有破坏作用)】</li>
<li>被动攻击【对一个保密系统采取截获密文并对其进行分析和攻击(对密文没有破坏作用)】</li>
<li>密码体质【由明文空间,密文空间,密钥空间,加密算法和解密算法五部分构成】</li>
<li>密码协议【也称安全协议,指以密码为基础的消息交换通信协议,目的是在网络环境中提供安全的服务】</li>
<li>密码系统【指用于加密,解密的系统】</li>
<li>柯科克霍夫原则【数据安全基于密钥而不是算法的保密.即系统的安全取决于密钥,对密钥保密,对算法公开(现代密码学设计的基本原则)】<br><br></li>
</ul>
<p>密码的分类<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;时间分类</div><div class="line">		a.古典密码【以字符为基本加密单元】</div><div class="line">		b.现代密码【以信息块为基本加密单元】</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;保密内容算法分类</div><div class="line">		a.受限制算法【算法保密性基于对算法的保密】</div><div class="line">		b.基于密钥算法【...保密性基于对密钥的保密】</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;3&gt;密码体质分类</div><div class="line">	a.对称密码(单密码or私钥密码)   【值加密密钥与解密密钥相同】</div><div class="line">	b.非对称密码(双钥oir公钥密码)	 【指加密密钥与解密密钥不同,密钥分公钥,私钥】</div><div class="line">	</div><div class="line">	a-2.对称密码算法(单钥密码算法or私钥密码算法)  【指应用于对称密码的加密,解密算法】</div><div class="line">	b-2.非对称密码算法(双钥密码算法or公钥密码算法) 【指对应用与非对称密码的加密,解密算法】</div><div class="line"></div><div class="line"></div><div class="line">&lt;4&gt;明文处理方法分类</div><div class="line">	 a.分组密码  【指加密时将明文分成固定长度的组,用同一密钥和算法对每一块加密,输入也是固定长度的密文(多用于网络加密)】</div><div class="line">	 b.流密码(序列密码)    【指加密时每次加密1位或一个字节的明文】</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>散列函数的特点</p>
<ul>
<li>【作用】用于验证数据的完整性,并不是用来加解密</li>
<li>长度不受限制</li>
<li>哈希值容易计算</li>
<li>散列运算过程不可逆</li>
<li>【相关算法】消息摘要算法MD5,SHA(安全散列算法),MAC(消息认证码算法)<br><br></li>
</ul>
<p>数字签名的特点</p>
<ul>
<li>【是什么】主要是针对以数字的形式存储的消息进行的处理,产生一种带有操作者身份(签名者)信息的编码<br><br></li>
</ul>
<p>OSI(Open System Interconnection)安全体系<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;网络通信</div><div class="line">	7.应用层</div><div class="line">	6.表示层</div><div class="line">	5.会话层</div><div class="line">	4.传输层</div><div class="line">	3.网络层</div><div class="line">	2.数据链路层</div><div class="line">	1.物理层</div><div class="line"></div><div class="line">&lt;2&gt;安全机制</div><div class="line">	+ 加密机制</div><div class="line">	+ 数字签名机制</div><div class="line">	+ 访问控制机制</div><div class="line">	+ 数据完整性机制</div><div class="line">	+ 认证机制</div><div class="line">	+ 业务流填充机制</div><div class="line">	+ 路由控制机制</div><div class="line">	+ 公证机制</div><div class="line"></div><div class="line">&lt;3&gt;安全服务</div><div class="line">	+ 认证(鉴别)</div><div class="line">	+ 访问控制服务</div><div class="line">	+ 数据保密性服务</div><div class="line">	+ 数据完整性服务</div><div class="line">	+ 抗否认服务</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>TCP/IP安全体系<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;网络通信层</div><div class="line">			【这里是指对应的OSI参考模型】</div><div class="line">	4.应用层~~应用曾安全【对应应用,表示,会话层】</div><div class="line">	3.传输层~~传输层安全【...传输层】</div><div class="line">	2.网络层~~网络层安全【...网络层】</div><div class="line">	1.网络接口层~~网络接口层安全【...数据链路,物理层】</div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;安全服务与安全机制的对应</div><div class="line">	抗否认性服务  ~~~  公正机制</div><div class="line">	数据完整性服务 ~~~ 数据完整性机制</div><div class="line">	数据保密性服务 ~~~  加密机制,业务流填充机制</div><div class="line">	访问控制服务 ~~~  访问控制机制,路由控制机制</div><div class="line">	认证(鉴别)服务 ~~~ 数字签名,认证机制</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>Java安全组成组成</p>
<ul>
<li>JCA(Java Crptography Architecture)【Java加密信息结构,提供基本框架,如消息摘要,数字签名等】</li>
<li>JCE(Java Cryptography Extension)【Java加密扩展包,在JCA的基础上进行扩展,提供更多加密算法,消息摘要,密钥管理等功能(例如DES,AES,RSA算法)】</li>
<li>JSSE(Java Secure Socket Extension)【Java安全套接字扩展包,提供基于SSL的加密功能,主要用于网络传输】</li>
<li>JAAS(Java Authentication and Authentication Service)【Java的鉴别与安全服务,提供在java平台上进行用户身份验证的功能,基于java开发的系统的权限与安全】</li>
<li>JCA和JCE是java官方提供的基于用户安全和加密的API,只是提供一些接口,java的安全机制是可以扩展的【可适用JDK意外的扩展包,需要修改资源文件([jdk根目录]~jre~lib~security~[java.security文件]),增加相关内容】<br><br></li>
</ul>
<p>相关java包和类</p>
<ul>
<li>java.security 【消息摘要】</li>
<li>javax.crypto  【安全信息摘要,消息认证(鉴别)码】</li>
<li>java.net.ssl  【安全套接字】<br>+【第三方扩展包】Bouncy Castel<br>+【第三方扩展包】Commons Codec<br><br></li>
</ul>
<hr>
<p><br><br></p>
<h2 id="17-2-运用Base64算法"><a href="#17-2-运用Base64算法" class="headerlink" title="17_2.运用Base64算法"></a>17_2.运用Base64算法</h2><p>&emsp;Base64是英文邮件的”历史问题”而产生算法,基于64个字符的编码算法【一种用替换的方式实现的算法】,RFC 2045【64位编码算法的规范】,衍生Base16,Base32,UrlBase64等算法,</p>
<p>Base64算法应用场景</p>
<ul>
<li>e-mail</li>
<li>密钥</li>
<li>证书文件<br><br></li>
</ul>
<p>三种方式实现Base64算法</p>
<ul>
<li>JDK</li>
<li>Commons Codec【导入commons-codec-版本号.jar包】</li>
<li>Bouncy Castle【导入bcprow-jdk15on-版本号.jar包】<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;JDK实现*************************************************************</div><div class="line">	public static void jdkBase64()&#123;</div><div class="line"></div><div class="line">		String clearText = &quot;hello world&quot;;//明文</div><div class="line">		String cipherText; //密文</div><div class="line">		String result;//密文解密后</div><div class="line">	</div><div class="line">		try&#123;</div><div class="line">			//加密</div><div class="line">			BASE64Encoder encoder = new BASE64Encoder();//编码器</div><div class="line">			cipherText = encoder.encode(clearText.getBytes());</div><div class="line">	</div><div class="line">			//解析</div><div class="line">			BASE64Decoder decoder = new BASE64Decoder();//解码器</div><div class="line">			result = new String(decoder.decodeBuffer(cipherText));</div><div class="line">		&#125;catch(IOException e)&#123;</div><div class="line">			e.printStackTrace();</div><div class="line">		&#125;</div><div class="line">		</div><div class="line">	&#125;</div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;Coomons Codec实现******************************************************</div><div class="line">	public static void commonsCodesBase64()&#123;</div><div class="line">		String clearText = &quot;hello world&quot;;//明文</div><div class="line">		String cipherText; //密文</div><div class="line">		String result;//密文解密后</div><div class="line">	</div><div class="line">		//加密</div><div class="line">		byte [] encodeBytes = Base64.encodeBase64(clearText.getBytes());</div><div class="line">		cipherText = new String(encodeBytes);</div><div class="line">	</div><div class="line">		//解密</div><div class="line">		byte [] decodeBytes = Base64.decodeBase64(encodeBytes);</div><div class="line">		result = new String(decodeBytes);</div><div class="line">	&#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;Bocuncy Castle实现******************************************************</div><div class="line">	 public static void bouncyCastleBase64()&#123;</div><div class="line">	 	String clearText = &quot;hello world&quot;;//明文</div><div class="line">		String cipherText; //密文</div><div class="line">		String result;//密文解密后</div><div class="line">	</div><div class="line">		//加密</div><div class="line">		byte [] encodeBytes = org.bouncycastle.encoders.Base64(clearText);</div><div class="line">		cipherText = new String(encodeBytes);</div><div class="line">	</div><div class="line">		//解密</div><div class="line">		byte [] decodeBytes = org.bouncycastle.util.encoders.Base64.decode(encodeBytes);</div><div class="line">		result = new String(decodeBytes);</div><div class="line">	</div><div class="line">	&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="-9"><a href="#-9" class="headerlink" title=""></a><br></h2><p><br><br></p>
<h2 id="17-3-运用消息摘要算法"><a href="#17-3-运用消息摘要算法" class="headerlink" title="17_3.运用消息摘要算法"></a>17_3.运用消息摘要算法</h2><p>&emsp;主要用于验证数据的完整性,是整个数字前面的核心算法</p>
<p>主要讲解三种类型</p>
<ul>
<li>MD(Message Digest)【128位摘要信息】</li>
<li>SHA(Secure Hash Algorithm)【在MD4的基础上演进而得】</li>
<li>MAC(Message Authentication Code)<br><br></li>
</ul>
<p>MD5应用场景</p>
<ol>
<li>用户注册~密码进行信息摘要(密码是使用MD5信息摘要得到的16进制的字符串)~信息持久化~返回注册结果</li>
<li>用户登录~对密码进行信息摘要(判断与注册时的MD5处理结果是否相等)~通过用户名及摘要查询~返回登录结果</li>
</ol>
<p><br></p>
<p>SHA应用场景</p>
<ol>
<li>firefox浏览器~选项~高级~证书-查看证书~随便查看一个【证书,指纹】</li>
<li>发送方~(1)公布消息摘要算法(是SHA..)~(2)对待发布消息进行摘要处理~(3)发送摘要消息与原始消息【加入约定的key 或 时间戳 or 排序】~(4)接收方进行消息鉴别【指将原始消息进行摘要,与接收到摘要信息进行对比】</li>
<li>信息:原始消息 + key + 时间戳</li>
</ol>
<p><br></p>
<p>MAC应用场景</p>
<ul>
<li>SecureCRT【Linux操作系统的客户端】</li>
<li>发送方~公布消息摘要算法~构建密钥~发送密钥~对待发送的信息进行消息摘要处理~发送消息知啊要~发送消息~接收方进行消息鉴别<br><br></li>
</ul>
<p>三种消息摘要算法的不同实现</p>
<ul>
<li>JDK</li>
<li>Commons Codec【导入commons-codec-版本号.jar包】</li>
<li>Bouncy Castle【导入bcprow-jdk15on-版本号.jar包】<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;MD算法【jdk,Bocuncy Castle,Coomons Codec方式实现,同一明文用不同方式实现,得到结果仍然保持一致】</div><div class="line">		算法    摘要长度	实现方</div><div class="line">		MD2       128  		  JDK            [1代]</div><div class="line">		MD4		  128 		  Bouncy Castle  [2代.安全性比前一代提高]</div><div class="line">		MD5       128         JDK            [3代,安全性比前一代提高]</div><div class="line">	</div><div class="line">		/*【jdk实现】MD5-加密*/</div><div class="line">		public static void jdkMD5()&#123;</div><div class="line">				String clearText = &quot;hello world&quot;;//明文</div><div class="line">	</div><div class="line">			try&#123;</div><div class="line">	            MessageDigest md = MessgeDigest.getInstance(&quot;MD5&quot;);</div><div class="line">	            byte [] md5Bytes = md.digest(clearText.getBytes());</div><div class="line">	</div><div class="line">	            //加密后的内容转为16进制【org.apache.commons.codec.binary.Hex包】</div><div class="line">	            String result = Hex.encodeHexString(md5Bytes);</div><div class="line">	</div><div class="line">			&#125;catch(NoSuchAlgorithmException e)&#123;&#125;</div><div class="line">		&#125;</div><div class="line"></div><div class="line"></div><div class="line">		/*【Bouncy Castle实现】MD4-加密*/</div><div class="line">		public static void bcMD4()&#123;</div><div class="line">			String clearText = &quot;hello world&quot;;//明文</div><div class="line">	</div><div class="line">			//加密</div><div class="line">			Digest digest = new MD4Digest();</div><div class="line">			digest.update(clearText.getBytes,0,clearTextBytes().length);//byte数组,开始位置,长度</div><div class="line">	</div><div class="line">			byte [] md4Bytes = new byte[digest.getDigestSize()];</div><div class="line">			digest.doFinal(md4Bytes,0);//摘要处理后输入的内容,输入长度</div><div class="line">	</div><div class="line">			//转成16进制</div><div class="line">			String result = org.bouncycastle.util.encoders.Hex.toHexString(md4Bytes);</div><div class="line">		&#125;</div><div class="line">	</div><div class="line">		/*【Bouncy Castle实现】MD5-加密*/</div><div class="line">		public static void bcMD5()&#123;</div><div class="line">			String clearText = &quot;hello world&quot;;//明文</div><div class="line">	</div><div class="line">			//方式1~~~~~~~~~~~~</div><div class="line">			//加密</div><div class="line">			Digest digest = new MD5Digest();</div><div class="line">			digest.update(clearText.getBytes,0,clearTextBytes().length);</div><div class="line">	</div><div class="line">			byte [] md5Bytes = new byte[digest.getDigestSize()];</div><div class="line">			digest.doFinal(md5Bytes,0);</div><div class="line">	</div><div class="line">			//转成16进制</div><div class="line">			String result = org.bouncycastle.util.encoders.Hex.toHexString(md5Bytes);</div><div class="line"></div><div class="line"></div><div class="line">			//方式2~~~~~~~~~~JDK动态添加BC的MD5实现【也可以使用配置文件方式】</div><div class="line">			try&#123;</div><div class="line">				Security.addProvide(new BouncyCastleProvider());</div><div class="line">				MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);</div><div class="line">				byte [] md5Bytes = md.digest(clearText.getBytes());</div><div class="line">	</div><div class="line">				String result = Hex.encodeHexString(md5Bytes);</div><div class="line">	</div><div class="line">			&#125;catch(NoSuchAlgorithmException e)&#123;</div><div class="line">				e.printStrackTrace();</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	</div><div class="line">		/*【Coomons Codec实现】MD5-加密*/</div><div class="line">		public static void ccMD5()&#123;</div><div class="line">			String clearText = &quot;hello world&quot;;//明文</div><div class="line">	</div><div class="line">			String result = DigestUtils.md5Hex(clearTextx.getBytes());</div><div class="line">			</div><div class="line">		&#125;</div><div class="line"></div><div class="line">****************************************************************</div><div class="line"></div><div class="line">&lt;2&gt;SHA算法</div><div class="line">	 .安全散列算法</div><div class="line">	 .固定长度摘要信息</div><div class="line">	 		算法	摘要长度 	实现方</div><div class="line">	 		SHA-1	  160  		  JDK</div><div class="line">	 		SHA-224	  224         Bocuny Castle</div><div class="line">	 		SHA-256   256         JDK</div><div class="line">	 		SHA-384   384         JDK</div><div class="line">	 		SHA-512   512         JDK</div><div class="line">	</div><div class="line">	    /*【JDK实现】SHA1-加密*/</div><div class="line">	 	public static void jdkSHA1()&#123;</div><div class="line">	</div><div class="line">	 		String clearText = &quot;hello world&quot;;//明文</div><div class="line">	</div><div class="line">	 		try&#123;</div><div class="line">	 			MessageDigest md = MessageDigest.getInstance(&quot;SHA&quot;);</div><div class="line">	 			md.update(clearText.getBytes());</div><div class="line">	</div><div class="line">	 			String result = Hex.encodeHexString(md.digest());</div><div class="line">	 		&#125;catch(NoSuchAlgorithmException e)&#123;&#125;</div><div class="line">	 	&#125;</div><div class="line">	</div><div class="line">	 	/*【Bocuny Castle实现】SHA1-加密*/</div><div class="line">	 	public staic void bcSHA1()&#123;</div><div class="line">	 		String clearText = &quot;hello world&quot;;</div><div class="line">	</div><div class="line">	 		Digest digest = new SHA1Digest();</div><div class="line">	 		digest.update(clearText.getBytes(),0,clearText.getBytes().length);</div><div class="line">	</div><div class="line">	 		byte [] sha1Bytes = new byte[digest.getDigestSize()];</div><div class="line">	 		digest.doFinal(sha1Bytes,0);</div><div class="line">	</div><div class="line">	 		String result = org.bouncycasetle.util.encoders.Hex.toHexString(sha1Bytes);</div><div class="line">	 	&#125;</div><div class="line">	</div><div class="line">	 	/*【Bocuny Castle实现】SHA224-加密*/</div><div class="line">	 	public static void bcSHA224()&#123;</div><div class="line">	 		String clearText = &quot;hello world&quot;;</div><div class="line">	</div><div class="line">	 		Digest digest = new SHA22Disgest();</div><div class="line">	 		digest.update(clearText.getBytes(),0,clearText.getBytes().length);</div><div class="line">	</div><div class="line">	 		byte [] sha224Bytes = new byte[digest.getDigestSize()];</div><div class="line">	 		digest.doFinal(sha224Bytes,0);</div><div class="line">	</div><div class="line">	 		String result = org.bouncycastle.util.encoders.Hex.toHexString(sha224Bytes);</div><div class="line">	 	&#125;</div><div class="line">	</div><div class="line">	 	/*【Coomons Codec实现】SHA1-加密*/</div><div class="line">	 	public static void ccSHA1()&#123;</div><div class="line">	 		String clearText = &quot;hello world&quot;;</div><div class="line">	</div><div class="line">	 		//两种方式,对于同一个字符的摘要结果,都一样</div><div class="line">	 		String result1 = DigestUitls.sha1Hex(clearText.getBytes());</div><div class="line">	 		String result2 = DigestUitls.sha1Hex(clearText);</div><div class="line">	 	&#125;</div><div class="line"></div><div class="line">****************************************************************</div><div class="line">&lt;3&gt;MAC算法</div><div class="line">	.融合了MD和SHA算法的特性,并在基础上加入密钥</div><div class="line">	.也可称为HMAC(keyed-Hash Message Authentication Code)含有密钥的散列函数算法</div><div class="line">			算法		摘要长度		实现方</div><div class="line">			HmacMD2		128 			Bocuncy Castle   【MD系列】</div><div class="line">			HmacMD4	 	128 			Bocuncy Castle</div><div class="line">			HmacMD5     128             JDK</div><div class="line">			HmacSHA1	160 			JDK</div><div class="line">			HmacSHA224  224             Bouncy Castle    【SHA系列】</div><div class="line">			HmacSHA256  256 			JDK</div><div class="line">			HmacSHA384  384             JDK</div><div class="line">			HmacSHA512  512             JDK       </div><div class="line"></div><div class="line"></div><div class="line">		/*【JDK实现】HmacMD5-加密*/</div><div class="line">		public static void jdkHmacMD5()&#123;</div><div class="line">			String clearText = &quot;hello world&quot;;</div><div class="line">	</div><div class="line">			try&#123;</div><div class="line">				//A.获取密钥[初始化KeyGenerator + 产生 + 获得]</div><div class="line">				KeyGenerator keyGenerator = KeyGenerator.getInstance(&quot;HmacMD5&quot;);</div><div class="line">				SecreKey secreKey = keyGenerator.generateKey();</div><div class="line">	</div><div class="line">				//byte [] key = secreKey.getEncode();//自动生成</div><div class="line">				byte [] key = Hex.decodeHex(new char[]&#123;&apos;a&apos;,&apos;a&apos;,&apos;a&apos;&#125;);//自己指定密钥</div><div class="line">	</div><div class="line">				//B.还原密钥</div><div class="line">				SecretKey restoreSecretKey = new SeretKeySpec(key,&quot;HmacMD5&quot;);</div><div class="line">	</div><div class="line">				//C.实例化MAC + 初始化摘要</div><div class="line">				MAC mac = Mac.getInstance(restoreSecretKey.getAlgorithm());</div><div class="line">				mac.init(restoreSecretKey);</div><div class="line">	</div><div class="line">				//D.执行摘要 + 得到结果</div><div class="line">				byte [] hmacMD5Bytes = mac.doFinal(clearText.getBytes());</div><div class="line">				String result = Hex.encodeHexString(hmacMD5Bytes());</div><div class="line">	</div><div class="line">			&#125;catch(Exception e)&#123;&#125;</div><div class="line">		&#125;</div><div class="line">	</div><div class="line">		/*【Bocuny Castle实现】HmacMD5-加密*/</div><div class="line">		public static void bcHmacMD5()&#123;</div><div class="line">			String clearText = &quot;hello world&quot;;</div><div class="line">	</div><div class="line">			HMac hmac = new HMac(new MD5Digest());</div><div class="line">			hmac.init(new KeyParameter(org.bouncycastle.util.encoders.Hex.decode(&quot;aaa&quot;)));</div><div class="line">			hmac.update(clearText.getBytes(),0,clearText.getBytes().length);</div><div class="line">	</div><div class="line">			byte [] hmacMD5Bytes = new byte[hmac.getMacSize()];</div><div class="line">			hmac.doFinal(hmacMD5Bytes,0);</div><div class="line">	</div><div class="line">			String result = org.bouncycastle.util.encoders.Hex.toHexString(hmacMD5Bytes);</div><div class="line">		&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<p>消息摘要算法其他类型【Bouncy Castle实现】</p>
<ul>
<li>RipeMD</li>
<li>Tiger</li>
<li>Whirlpool</li>
<li>GOST3411<br><br></li>
</ul>
<hr>
<p><br><br></p>
<h2 id="17-4-运用对称加密算法"><a href="#17-4-运用对称加密算法" class="headerlink" title="17_4.运用对称加密算法"></a>17_4.运用对称加密算法</h2><p>&emsp;初等加密的算法,提高了数据安全性,但是密钥管理复杂,密钥传递过程复杂,DES,3DES,AES的这三种的实现方式基本相近,ABE算法常用于.用于移动通信系统加密以及SSH协议的的软件[SSH Client,secureCRT],PBE并不是一个新的加密算法,而是对已有的算法补充,整合<br><br></p>
<p>几种对称加密算法</p>
<ul>
<li>DES算法(Data Encryption Standard ~ 数据加密标准)</li>
<li>三重DES算法(Triple DES 或 DESede)</li>
<li>AES算法【DES替代者，安全程度逐级增加】</li>
<li>PBE算法(Password Based Encryption ~ 基于口令加密)【结合了消息摘要算法和对称加密算法的优点,对已有算法提供宝座】<br><br></li>
</ul>
<p>算法两种库提供实现</p>
<ul>
<li>jdk</li>
<li>BC(Bocuny Castle)<br><br></li>
</ul>
<p>应用场景</p>
<ul>
<li>【DES算法】【AES算法】发送者构建密钥~公布密钥~使用密钥对数据加密~发送加密数据~接受者使用密钥对数据解密</li>
<li>【PBE算法】发送者构建口令~公布口令~构建盐~使用口令,盐对数据加密~发送盐,加密数据~接受者使用口令,盐对数据解密<br><br></li>
</ul>
<p>代码中运用算法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;DES算法**************************************************************</div><div class="line">		public static void jdkDES(String clearText)&#123; //参数：明文,要被加密</div><div class="line">			try&#123;</div><div class="line">				//A-生成Key</div><div class="line">				KeyGenerator keyGenerator = KeyGernerator.getInstance(&quot;DES&quot;);</div><div class="line">				keyGenerator.init(56); //指定key【默认是56位】</div><div class="line">				SecreKey secretKey = keyGenerator.generateKey();</div><div class="line">				byte [] bytesKey = secretKey.getEncoded();</div><div class="line"></div><div class="line"></div><div class="line">				//B-Key转换</div><div class="line">				DESKeySpec desKeySpec = new DESKeySpec(bytesKey);</div><div class="line">				SecreteKeyFactory factory = SecretKeyFacotry.getInstance(&quot;DES&quot;);</div><div class="line">				Key convertSecretKey = factory.generateSecrete(desKeySpec);</div><div class="line">	</div><div class="line">				//C.加密</div><div class="line">				Cipher cipher = Cipher.getInstance(&quot;DES/ECB/PKCSSPadding&quot;);</div><div class="line">				cipher.init(Cipher.ENCRYPT_MOOD,convertSecretKey);//加密模式,密钥</div><div class="line">				byte [] result = cipher.doFinaly(clearText.getBytes());</div><div class="line">				System.out.println(&quot;加密结果(十六进制)：&quot; + Hex.encodeHexString(result));</div><div class="line">	</div><div class="line">				//D.解密</div><div class="line">				ciper.init(Cipher.DECRYTPT_MODE,convertSecretKey);//解密模式,密钥</div><div class="line">				result = ciper.doFinal(result);</div><div class="line">				System.out.println(&quot;解密结果(字符串):&quot; + new String(result));</div><div class="line">			&#125;catch(Exception e)&#123;</div><div class="line">				e.printStackTrace();</div><div class="line">			&#125;</div><div class="line">			 </div><div class="line">		&#125;</div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;三重DES算法*************************************************************</div><div class="line">		public static void jdk3DES(String clearText)&#123; //参数：明文,要被加密</div><div class="line">			try&#123;</div><div class="line">				//A-生成Key</div><div class="line">				KeyGenerator keyGenerator = KeyGernerator.getInstance(&quot;DESede&quot;);</div><div class="line">				//keyGenerator.init(168); //DESede必须是112 or 168</div><div class="line">				keyGenerator.init(new SecureRandom());//生成默认长度(根据不同的算法)</div><div class="line">				SecreKey secretKey = keyGenerator.generateKey();</div><div class="line">				byte [] bytesKey = secretKey.getEncoded();</div><div class="line"></div><div class="line"></div><div class="line">				//B-Key转换</div><div class="line">				DESedeKeySpec desKeySpec = new DESedeKeySpec(bytesKey);</div><div class="line">				SecreteKeyFactory factory = SecretKeyFacotry.getInstance(&quot;DESede&quot;);</div><div class="line">				Key convertSecretKey = factory.generateSecrete(desKeySpec);</div><div class="line">	</div><div class="line">				//C.加密</div><div class="line">				Cipher cipher = Cipher.getInstance(&quot;DESede/ECB/PKCSSPadding&quot;);</div><div class="line">				cipher.init(Cipher.ENCRYPT_MOOD,convertSecretKey);//加密模式,密钥</div><div class="line">				byte [] result = cipher.doFinaly(clearText.getBytes());</div><div class="line">				System.out.println(&quot;3DES加密结果(十六进制)：&quot; + Hex.encodeHexString(result));</div><div class="line">	</div><div class="line">				//D.解密</div><div class="line">				ciper.init(Cipher.DECRYTPT_MODE,convertSecretKey);//解密模式,密钥</div><div class="line">				result = ciper.doFinal(result);</div><div class="line">				System.out.println(&quot;3DES解密结果(字符串):&quot; + new String(result));</div><div class="line">			&#125;catch(Exception e)&#123;</div><div class="line">				e.printStackTrace();</div><div class="line">			&#125;</div><div class="line">			 </div><div class="line">		&#125;</div><div class="line"></div><div class="line">&lt;3&gt;AES算法**************************************************************</div><div class="line"></div><div class="line">		public static void jdkAES(String clearText)&#123;</div><div class="line">			try&#123;</div><div class="line">				//A.生成KEY</div><div class="line">				KeyGenerator keyGenerator = KeyGeneraator.getInstance(&quot;AES&quot;);</div><div class="line">				keyGenerator.init(128);</div><div class="line">				SecraKay secretKey = keyGenerator.generateKey();</div><div class="line">				byte [] keyBytes = secretKey.getEncoded();</div><div class="line">	</div><div class="line">				//B.key转换</div><div class="line">				Key key new SecreKeySpec(keyBytes,&quot;AES&quot;);</div><div class="line">	</div><div class="line">				//C.加密</div><div class="line">				Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);</div><div class="line">				cipher.init(Ciphert.ENCRYPT_MODE,key);</div><div class="line">				byte [] result = cipher.doFinal(clearText.getBytes());</div><div class="line">				System.out.println(&quot;AES加密结果(16进制):&quot; + Base64.encodeBase64String(result));</div><div class="line">	</div><div class="line">				//D.解密</div><div class="line">				cipher.init(Cipher.DECRYPT_MODE,key);</div><div class="line">				result = cipher.doFinal(result);</div><div class="line">				System.out.println(&quot;AES解密结果:&quot; + new String(result));</div><div class="line">	</div><div class="line">			&#125;catch(Exception e)&#123;</div><div class="line">				e.printStrackTrace();</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line"></div><div class="line"></div><div class="line">&lt;3&gt;PBE算法**************************************************************</div><div class="line"></div><div class="line">		public static void jdkPBE(String clearText)&#123;</div><div class="line">			try&#123;</div><div class="line">				//A-初始化盐【通过额外引入东西去扰乱,通常说叫扰码】</div><div class="line">				SecureRandom random = new SecureRandom();</div><div class="line">				byte [] salt = random.generateSeed(8);//8位,随机数产生盐</div><div class="line">	</div><div class="line">				//B-口令与密钥</div><div class="line">				String password = &quot;study&quot;;//定义密码</div><div class="line">				PBEKeySpec pbeKeySpec = new PBEKeySpec(password.toCharArray());</div><div class="line">				SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBEWITHMD5andDES&quot;);</div><div class="line">				Key key = factory.generateSecret(pbeKeySpec);</div><div class="line"></div><div class="line"></div><div class="line">				//C.加密</div><div class="line">				PBEParameterSpec pbeParameterSpec = new  PBEParameterSpec(salt,100);</div><div class="line">				Cipher cipher = Cipher.getInstance(&quot;PBEWITHMD5SanDES&quot;);</div><div class="line">				cipher.init(Cipher.ENCRYPT_MODE,key,pbeParameterSpec);</div><div class="line">				byte [] result = cipher.doFinal(clearText.getBytes());</div><div class="line">				System.out.println(&quot;PBE加密结果(十六进制):&quot; + Base64.encodeBase64String(result));</div><div class="line">	</div><div class="line">				//D.解密</div><div class="line">				ciper.init(Cipher.DECRYPT_MODE,key,pbeParameterSpec);</div><div class="line">				result = cipher.doFinal(result);</div><div class="line">				System.out.println(&quot;PBE解密结果:&quot; + new String(result));</div><div class="line">	</div><div class="line">		&#125;catch(Exception e)&#123;</div><div class="line">			e.printStrackTrace();</div><div class="line">		&#125;</div></pre></td></tr></table></figure></p>
<p><br></p>
<hr>
<p><br><br></p>
<h2 id="17-5-运用非对称加密算法"><a href="#17-5-运用非对称加密算法" class="headerlink" title="17_5.运用非对称加密算法"></a>17_5.运用非对称加密算法</h2><p>&emsp;高级,双保险,密钥分开【公钥,私钥~成对出现】,提高了<br><br></p>
<p>几种类型</p>
<ul>
<li>DH(Diffie-Hellman)密钥交换算法【构建本地密钥,只有jdk提供实现】</li>
<li>RSA算法【基于因子分解,速度较慢,数据加密&amp;数字前面,jdk和BC提供实现】</li>
<li>ElGamal【基于离散对数,只有公钥加密算法,只有BC提供实现】</li>
<li>ECC(Elliptical Curve CrypTography)椭圆曲线加密<br><br></li>
</ul>
<p>代码运用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;DH算法********************************************************</div><div class="line">		/*</div><div class="line">			简单思路和类说明：</div><div class="line">				a.初始化发送密钥(</div><div class="line">								  KeyPairGenerator ~ 生成KeyPair的类</div><div class="line">								  KeyPair  ~ 得到公钥,私钥</div><div class="line">							      PublicKey类)</div><div class="line">				b.初始化接收方密钥(</div><div class="line">									KeyFactory</div><div class="line">									X509EncodedeKeySpec ~ 根据ASN.1标准进行密钥编码</div><div class="line">									DHPublicKey ~ PublicKey的具体形式</div><div class="line">									DHParameterSpec ~ DH算法使用参数的集合</div><div class="line">									KeyPairGenerator </div><div class="line">									PrivateKey类)</div><div class="line">				c.密钥构建(</div><div class="line">								KeyAgreeement ~  提供密钥一致性(或密钥交换)协议的功能,主要出现在DH算法中</div><div class="line">								SecreteKey ~ 生成一个分组的秘密密钥,也提供一些相应的类型安全的操作,父接口是Key</div><div class="line">								KeyFacotry</div><div class="line">								X509EncodedKeySpec</div><div class="line">								PublicKey)</div><div class="line">				d.Cipher(</div><div class="line">							Cipher ~ 为加密和解密提供密码的功能)</div><div class="line"></div><div class="line"></div><div class="line">			【初始化DH算法密钥对】</div><div class="line">			发送者构建发送方密钥</div><div class="line">				~ 公布发送方密钥</div><div class="line">				~ 接收者使用发送方密钥,构建自己密钥</div><div class="line">					~公布接收方公钥</div><div class="line">	</div><div class="line">			【DH算法加密消息传递】</div><div class="line">			发送方使用本地密钥加密信息</div><div class="line">				~发送加密信息</div><div class="line">				~接受者使用本地密钥及诶系消息</div><div class="line">	</div><div class="line">		*/</div><div class="line">		public static void jdkDH(String clearText)&#123;</div><div class="line">			try&#123;</div><div class="line">				//A.初始化发送方密钥</div><div class="line">				KeyPairiGenerator senderKeyPairGenerator = KeyPairGenerator.getInstance(&quot;DH&quot;);</div><div class="line">				sendKeyPairGenerator.initialize(512);//长度</div><div class="line">				KeyPair senderKeyPair = senderKeyPairGenerator.generateKeyPair();</div><div class="line">		 		byte [] senderPublicKeyEnc = senderKeyPair.getPbulic().getEncoded();//发送方公钥,发送给接收方(网络,文件,序列化操作...)		 </div><div class="line"></div><div class="line"></div><div class="line">		 		//B.初始化接收方密钥</div><div class="line">		 		KeyFactory receiverKeyFactory = KeyFactory.getInstance(&quot;DH&quot;);</div><div class="line">		 		X509EncodeKeySpec x509EncodedKeySpec = new X509EncodedKeySpec(senderPublicKeyEnc);</div><div class="line">		 		PublicKey receiverPublicKey = receiverKeyFactory.generatePublic(x509EncodedKeySpec);</div><div class="line">		 		DPparameterSpec dhParameterSpec = ((DHPublicKey)receiverPublicKey).getParams();</div><div class="line">		 		KeyPairGenerator receiverKeyPairGenerator = KeyPairGenerator.getInstance(&quot;DH&quot;);</div><div class="line">		 		receiverKeyPairGenerator.initialize(dhParameterSpec);</div><div class="line">		 		KeyPair receiverKeypair = receiverKeyPairGenerator.generateKeyPair();</div><div class="line">		 		byte [] receiverPublicKeyEnc = receiverKeypair.getPublic().getEncoded();</div><div class="line"></div><div class="line"></div><div class="line">		 		//C.密钥构建</div><div class="line">		 		KeyAgreement receiverKeyAgreement = KeyAgreement.getInstance(&quot;DH&quot;);</div><div class="line">		 		receiverKeyAgreement.init(receiverPrivateKey);</div><div class="line">		 		receiverKeyAgreement.doPhase(receiverPbulic,true);</div><div class="line">		 		SecretKey receiverDesKey = receiverKeyAgreement.generateSecrete(&quot;DES&quot;);//接收方key</div><div class="line"></div><div class="line"></div><div class="line">		 		KeyFactory senderKeyFactory = KeyFactory.getInstance(&quot;DH&quot;);</div><div class="line">		 		x509EncodeKeySpec = new X509EncodedKeySpec(receiverPublicKeyEnc);</div><div class="line">		 		PublicKey senderPublicKey = senderKeyFactory.generatePublic(x509EncodedKeySpec);</div><div class="line">		 		KeyAgreement senderKeyAgreement = KeyAgreeemnt.getInstance(&quot;DH&quot;);</div><div class="line">		 		senderKeyAgreement.init(senderKeyPair.getPrivate());//初始化</div><div class="line">		 		senderKeyAgreement.doPhase(senderPublicKey,true);</div><div class="line">		 		SecretKey senderDesKey = senderKeyAgreement.generateSecrete(&quot;DES&quot;);/发送方key</div><div class="line">	</div><div class="line">		 		if(Objects.equals(receiverDesKey,senderDesKey))&#123;</div><div class="line">		 			System.out.println(&quot;双方密钥相同&quot;);</div><div class="line">		 		&#125;</div><div class="line">	</div><div class="line">		 		//D.加密</div><div class="line">		 		Cipher cipher = Cipher.getInstance(&quot;DES&quot;);</div><div class="line">		 		cipher.init(Cipher.ENCRYPT_MODE，senderDesKey);</div><div class="line">		 		byte [] result = cipher.doFinal(clearText.getBytes());</div><div class="line">		 		System.out.println(&quot;DH加密(十六进制):&quot; + Base64.encodeBase64String(result));</div><div class="line">	</div><div class="line">		 		//E.解密</div><div class="line">		 		cipher.init(Cipher.DECRYPT_MODE,receiverDesKey);</div><div class="line">		 		result = cipher.doFinal(result);</div><div class="line">		 		System.out.println(&quot;DH解密结果:&quot; + new String(result));</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">			&#125;catch(Exception e)&#123;&#125;</div><div class="line">		&#125;</div><div class="line"></div><div class="line"></div><div class="line">&lt;1&gt;RSA算法********************************************************</div><div class="line">		/*</div><div class="line">			【RSA算法传输数据~私加公解】</div><div class="line">			发送者使用私钥加密数据</div><div class="line">				~发送加密数据</div><div class="line">					~接受者使用公钥数据</div><div class="line">	</div><div class="line">			【RSA算法传输数据-公加私解】</div><div class="line">			发送者使用公钥加密数据</div><div class="line">				~发送加密数据</div><div class="line">					~接受者使用私钥解密数据</div><div class="line">	</div><div class="line">		*/</div><div class="line">		public static void jdkRSA(String clearText)&#123;</div><div class="line">			try&#123;</div><div class="line">				//A.初始化密钥</div><div class="line">				 KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);</div><div class="line">				 keyPairGenerator.initialize(512);</div><div class="line">				 KeyPair keyPair = keyPairGenerator.generateKeyPair();</div><div class="line">				 RSAPublicKey rsaPublicKey = (RSAPublicKey)keyPair.getPublic();</div><div class="line">				 RSAPrivateKey rsaPrivateKey = (RSAPrivateKey)keyPair.getPrivate(); </div><div class="line">				 System.out.println(&quot;公钥:&quot; + Base64.encodeBase64String(rsaPublicKey.getEncoded()));</div><div class="line">				 System.out.println(&quot;私钥:&quot; + Base64.encodeBase64String(rsaPrivateKey.getEncoded()));</div><div class="line"></div><div class="line"></div><div class="line">				 //B-1.加密[私钥加密,公钥解密]</div><div class="line">				 PKCS8EncodedKeySpec pkscs8EncodedKeySpec = new PKCS8EncodedKeySpec(rsaPrivateKey.getEncoded());</div><div class="line">				 KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);</div><div class="line">				 PrivateKey privateKey = keyFactory.generatePrivate(pkcs8EncodedKeySpec);</div><div class="line">	</div><div class="line">				 Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);</div><div class="line">				 cipher.init(Cipher.ENCRYPT_MODE,privateKey);</div><div class="line">				 byte [] result = cipher.doFinal(clearText.getBytes());</div><div class="line">				 System.out.println(&quot;RSA加密(十六进制)-私加公解:&quot; + Bse64.encodeBase64String(result));</div><div class="line">	</div><div class="line">				 //B-2.解密[私钥加密,公钥解密]</div><div class="line">				 X509EncodedKeySpec x509EncodedKeySpec = new X509EncodedKeySpec(rsaPublicKey.getEncoded());</div><div class="line">				 keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);</div><div class="line">				 PublicKey publicKey = keyFactory.generatePublic(x509EncodedKeySpec);</div><div class="line">	</div><div class="line">				 cipher.init(Cipher.DECRYPT_MODE,publicKey);</div><div class="line">				 result = cipher.doFinal(result);</div><div class="line">				 System.out.prtinln(&quot;RSA解密(字符串)-私加公解:&quot; + new String(result))；</div><div class="line"></div><div class="line"></div><div class="line">				 //C-1.加密[公钥加密,私钥解密]</div><div class="line">				 x509EncodedKeySpec  = new X509EncodedKeySpec(rsaPublicKey.getEncoded());</div><div class="line">				 keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);</div><div class="line">				 publicKey = keyFactory.geteratePublic(x509EncodedKeySpec);</div><div class="line">				 cipher = Cipher.getInstance(&quot;RSA&quot;);</div><div class="line">				 cipher.init(Cipher.ENCRYPT_MODE,publicKey);</div><div class="line">				 result = cipher.doFinal(clearText.getBytes());</div><div class="line">				 System.out.println(&quot;RSA加密(十六进制)-公加私解:&quot; + Bse64.encodeBase64String(result));</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">				 //C-2.解密[公钥加密,私钥解密]</div><div class="line">				 pkcs8EncodedKeySpec = new PKCS8EncodedKeySpec(rsaPrivateKey.getEncoded());</div><div class="line">				 keyFactory = KeyFactory.getInstance(&apos;RSA&apos;);</div><div class="line">				 privateKey = keyFactory.generatePrivate(pkcs8EncodedKeySpec);</div><div class="line">				 cipher = Cipher.getInstance(&quot;RSA&quot;);</div><div class="line">				 cipher.init(Cipher.DECRYPT_MODE,privateKey);</div><div class="line">				 result = cipher.doFinal(result);</div><div class="line">				 System.out.prtinln(&quot;RSA解密(字符串)-公加私解:&quot; + new String(result))；</div><div class="line"></div><div class="line"></div><div class="line">		    &#125;catch(Exception e)&#123;&#125;</div><div class="line">		&#125;</div><div class="line"></div><div class="line"></div><div class="line">&lt;1&gt;ElGmal算法********************************************************</div><div class="line">		/*</div><div class="line">			【构建密钥对及加密数据传输过程】</div><div class="line">			接受者构建密钥对</div><div class="line">				~公布密钥</div><div class="line">				~发送者使用公钥加密数据</div><div class="line">					~发送加密数据</div><div class="line">					~接受者使用私钥解密数据</div><div class="line">		*/</div><div class="line">		public static void bcElGmail(String clearTexte)&#123;</div><div class="line">			//公钥加密,私钥解密</div><div class="line">			Security.addProvide(new BouncyCastleProvider());</div><div class="line">	</div><div class="line">			//A.初始化密钥</div><div class="line">			AlgorithmParameterGenerator algorithmParameterGenerator = AlgroithmParameterGenerator.getInstance(&quot;ElGmal&quot;);</div><div class="line">			algorithmParameterGenerator.init(256);</div><div class="line">			AlgorithmParameters algorithmParameters = algorithmParameterGenerator.generateParameters();</div><div class="line">			DHParameterSpec dhParameterSpec = (DHParameterSpec)algorithmParameters.getParameterSpec(DHParameterSpec.class);</div><div class="line">	</div><div class="line">			KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;ElGamal&quot;);</div><div class="line">			keyPairGenerator.initialize(dhParameterSpec, new SecureRandom());</div><div class="line">			KeyPair keyPair = keyPairGenerator.generateKeyPair();</div><div class="line">	</div><div class="line">			PublicKey elGamalPublicKey = keyPair.getPublic();//公钥</div><div class="line">			PrivateKey elGamilPrivateKey = keyPair.getPrivate();//私钥</div><div class="line">	</div><div class="line">			//B.加密解密操作【与其他算法类似】</div><div class="line">				。。。。</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">		&#125;</div></pre></td></tr></table></figure></p>
<p><br></p>
<hr>
<p><br><br></p>
<h2 id="17-6-运用数字签名算法"><a href="#17-6-运用数字签名算法" class="headerlink" title="17_6.运用数字签名算法"></a>17_6.运用数字签名算法</h2><p>&emsp;带有密钥(公钥,私钥)的消息摘要算法,使用私钥前面,使用公钥进行验证,用于验证数据完整性,认证数据来源,抗否认,遵循DSS(Digital Signature Standard~数字签名标准)</p>
<p>数字签名算法几种类型</p>
<ul>
<li>RSA算法【包括MD.SHA两类,有JDK和BC提供实现】</li>
<li>DSA(Digital Signature Algorithm)算法 【仅包含数字签名,证书没法进行加解密,JDK和BC提供实现】</li>
<li>ECDSA(Elliptic Curve Digital Signature Algorithm~椭圆区县数字签名)算法【速度快,强度高,签名短,有JDK(7.0之前是没有提供的)和BC提供实现,应用与微软的产品,提供序列号的算法】</li>
</ul>
<p>代码运用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;RSA算法*****************************************************************</div><div class="line">		/*</div><div class="line">			【构建密钥对】</div><div class="line">			发送方构建密钥对</div><div class="line">				~公布密钥</div><div class="line">	</div><div class="line">			【发送数据】</div><div class="line">			发送方使用私钥对数据签名</div><div class="line">				~发送签名,数据</div><div class="line">				~接收方使用公钥,签名验证数据</div><div class="line">		*/</div><div class="line">		public static void jdkRSA(String clearText)&#123;</div><div class="line">			try&#123;</div><div class="line">				//A.初始化密钥</div><div class="line">				KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstrance(&quot;RSA&quot;);</div><div class="line">				keyPairGenerator.initialize(512);</div><div class="line">				KeyPair keyPair = keyPairGenerator.generateKeyPair();</div><div class="line">				RSAPublicKey rsaPublicKey = (RSAPublicKey)keyPair.getPublic();//公钥验证</div><div class="line">				RSAPrivateKey rsaPrivateKey = (RSAPrivateKey)keyPair.getPrivate();/私钥签名</div><div class="line">	</div><div class="line">				//B.执行签名</div><div class="line">				PKCS8EncodedKeySpec pkcs8EncodedKeySpec = new PCKS8EncodedKeySpec(rsaPrivateKey.getEncoded());//私钥进行签名</div><div class="line">				KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);</div><div class="line">				PrivateKey privateKey = kayFactory.generatePrivate(pkcs8EncodedKeySpec);</div><div class="line">				Signature signature = Signature.getInstance(&quot;MD5withRSA&quot;);</div><div class="line">				signature.initSign(privateKey);</div><div class="line">				signature.update(clearText.getBytes());//处理明文</div><div class="line">	</div><div class="line">				byte [] result = signature.sign();</div><div class="line">				System.out.println(&quot;RSA的jdk(十六进制):&quot;+ hex.encodeHexString(result));</div><div class="line">	</div><div class="line">				//C.验证签名</div><div class="line">				X509EncodedKeySpec x509EncodedKeySpec = new X509EncodedKeySpec(rsaPublicKey.getEncoded);//公钥验证签名</div><div class="line">				keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);</div><div class="line">				PublicKey publicKey = keyFactory.generatePublic(x509EncodedKeySpec);</div><div class="line">				signature = Signature.getInstance(&quot;MD5withRSA&quot;);</div><div class="line">				signature.initVerify(publicKey);</div><div class="line">				signature.update(clearText.getBytes());</div><div class="line">				boolean bool = signature.verify(result);</div><div class="line">				System.out.println(&quot;验证结果:&quot;+ bool);</div><div class="line">	 </div><div class="line">			&#125;catch(Exception e)&#123;&#125;</div><div class="line">		&#125;</div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;DSA算法*****************************************************************</div><div class="line"></div><div class="line">		/*</div><div class="line">			【构建密钥对】</div><div class="line">			 发送方构建密钥对</div><div class="line">			 	~公布密钥</div><div class="line">	</div><div class="line">			 【发送数据】</div><div class="line">			 发送方使用私钥对数据签名</div><div class="line">			 	~发送签名,数据</div><div class="line">			 	~接收方使用公钥,签名验证数据</div><div class="line">		*/</div><div class="line">		public static void jdkDSA(String clearText)&#123;</div><div class="line">			try&#123;</div><div class="line">				//A.初始化密钥</div><div class="line">				KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;DSA&quot;);</div><div class="line">				keyPairGenerator.initialize(512);</div><div class="line">				KeyPair keyPair = keyPairGenerator.generateKeyPair();</div><div class="line">				DSAPublicKey dsaPublicKey = (DSAPublicKey)keyPair.getPublic();</div><div class="line">				DSAPrivateKey dsaPrivateKey = (DSAPrivateKey)keyPair.getPrivate();</div><div class="line">	</div><div class="line">				//B.执行签名</div><div class="line">				PKCS8EncodedKeySpec pkcs8EncodedKeySpec = new PKCS8EncodedKeySpec(dsaPrivateKey.getEncoded());</div><div class="line">				KeyFactory keyFactory = KeyFactory.getInstance(&quot;DSA&quot;);</div><div class="line">				PrivateKey privateKey = keyFactory.generatePrivate(pkcs8EncodedKeySpec);</div><div class="line">				Signature signature = Signature.getInstance(&quot;SHA1withDSA&quot;);</div><div class="line">				signature.initSign(privateKey);</div><div class="line">				signature.update(clearText.getBytes());</div><div class="line">				byte [] result = signature.sign();</div><div class="line">				System.out.println(&quot;DSA数字签名(十六进制):&quot; + Hex.encodeHexString(result));</div><div class="line">	</div><div class="line">				//C.验证签名</div><div class="line">				X509EncodedKey Spec x509EncodedKeySpec = new X509EncodedKeySpec(dsaPublicKey.getEncoded());</div><div class="line">				keyFactory = KeyFactory.getInstance(&quot;DSA&quot;);</div><div class="line">				PublicKey publicKey = keyFactory.getInstance(&quot;DSA&quot;);</div><div class="line">				signature.initVerify(publicKey);</div><div class="line">				signature.update(clearText.getBytes());</div><div class="line">				boolean bool = signature.verify(result);</div><div class="line">				System.out.println(&quot;DAS数字签名验证结果:&quot; +  bool);</div><div class="line"></div><div class="line"></div><div class="line">			&#125;catch(Exception e)</div><div class="line">		&#125;</div><div class="line"></div><div class="line"></div><div class="line">&lt;3&gt;ECDSA算法*****************************************************************</div><div class="line">		/*</div><div class="line">			【构建密钥对】</div><div class="line">			 发送方构建密钥对</div><div class="line">			 	~公布密钥</div><div class="line">	</div><div class="line">			 【发送数据】</div><div class="line">			 发送方使用私钥对数据签名</div><div class="line">			 	~发送签名,数据</div><div class="line">			 	~接收方使用公钥,签名验证数据</div><div class="line">		*/</div><div class="line">		public static void jdkECDSA(String clearText)&#123;</div><div class="line">			try&#123;</div><div class="line">				//A.初始化密钥</div><div class="line">				KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;EC&quot;);</div><div class="line">				KeyPairGenerator.initialize(256);//初始长度</div><div class="line">				KeyPair keyPair = keyPairGenerator.generateKeyPair();</div><div class="line">				ECPublickEey ecPublicKey = (ECPublicKey)keyPair.getPublic();</div><div class="line">				ECPrivate ecPrivateKey = (ECPrivateKey)keyPair.getPrivate();</div><div class="line">	</div><div class="line">				//B.执行签名</div><div class="line">				PKCS8EncodedKeySpec pkcs8EncodedKeySpec = new PCKS8EncodedKeySpec(ecPrivateKey.getEncoded());</div><div class="line">				KeyFactory keyFactory = KeyFactory.getInstance(&quot;EC&quot;);</div><div class="line">				PrivateKey privateKey = keyFactory.generatePrivate(pkcs8EncodedKeySpec);</div><div class="line">				Signature signature = Signature.getInstance(&quot;SHA1withECDSA&quot;);</div><div class="line">				signature.initSign(privateKey);</div><div class="line">				signature.update(clearText.getBytes());</div><div class="line">				byte [] result = signature.sign();</div><div class="line">				System.out.println(&quot;ECDSA数字签名(十六进制):&quot; + result);</div><div class="line">	</div><div class="line">				//C.验证签名</div><div class="line">				X509EncodedKeySpec x509EncodedKeySpec = new X509EncodedKeySpec(ecPublicKey.getEncoded());</div><div class="line">				keyFactory = KeyFactory.getInstance(&quot;EC&quot;);</div><div class="line">				PublicKey publicKey = keyFactory.generatePublic(x509EncodedKeySpec);</div><div class="line">				signature.initVerify(publicKey);</div><div class="line">				signature.update(clearText.getBytes());</div><div class="line">				boolean bool = signature.verify(result);</div><div class="line">				System.out.println(&quot;ECDSA数字签名结果:&quot; + boool);</div><div class="line"></div><div class="line"></div><div class="line">			&#125;catch(Exception e)&#123;&#125;</div><div class="line">		&#125;</div></pre></td></tr></table></figure></p>
<h2 id="-10"><a href="#-10" class="headerlink" title=""></a><br></h2><p><br><br></p>
<h2 id="18-1-JSP开发"><a href="#18-1-JSP开发" class="headerlink" title="18_1.JSP开发"></a>18_1.JSP开发</h2><p>&emsp;JSP全名Java Server Pages,其根本是一个简化的Servlet设计,实现了在Java中使用HTML标签.JSP是一种动态网页技术,标准是JAVAEE标准.JSP与Servlet一样,实在服务器端执行的<br><br></p>
<p>常见动态网站开发技术对比</p>
<ul>
<li>JSP【Java平台,安全性高,适合开发大型的,企业级的Web应用程序】</li>
<li>ASP.net【.Net平台,简单易学,可视化组件开发,但是安全性以及跨平台性差(仅支持微软的产品)】</li>
<li>Php【简单,高效,成本低开发周期短,特别适合中小型企业的Web应用开发(LAMP(开发环境组合):Linux+Apache+MySQL+PHP)】<br><br></li>
</ul>
<p>会话跟踪技术的四种方法</p>
<ul>
<li>隐藏表单域 【input的type属性设置为hidden,适合不需要大量数据存储的会话应用】</li>
<li>URL重写 【URL后面附加参数】</li>
<li>Cookie</li>
<li>Session 【将对象捆绑到会话】<br><br></li>
</ul>
<p>JSP状态管理</p>
<ul>
<li>http协议的无状态性</li>
<li>两种保存用户状态的机制</li>
<li>Session与Cookie对比<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;http协议的无状态性</div><div class="line">	指当浏览器发送请求给服务器的时候,服务器响应客户端请求，</div><div class="line">	但是当同一个浏览器再次发送请求给服务器的时候,服务器并不知道它就是刚才哪个浏览器</div><div class="line">	【服务器不会去记得你】</div><div class="line"></div><div class="line">&lt;2&gt;两种保存用户状态的机制</div><div class="line">	a.Cookie【是WEb服务器保存在客户端的一系列文本信息】</div><div class="line">		(1)作用</div><div class="line">			.对特定对象的追踪</div><div class="line">			.保存用户网页浏览器记录与习惯</div><div class="line">			.简化登录</div><div class="line">		(2)使用</div><div class="line">			Cookie newCookie = new Cookie(String key, Object value);//创建</div><div class="line">			response.addCookie(newCookie);//添加</div><div class="line">			Cookie [] cookies = request.getCookies();//读取</div><div class="line">			String username = URLDecoder.decode(cookies[0].getValue(),&quot;utf-8&quot;);//获取Cookie值与解码</div><div class="line">		(3)常用方法</div><div class="line">			void setMaxAge(int expiry)   __设置cookie有效期(单位:s/秒)</div><div class="line">			void setValue(String value)  __创建Cookie后,对Cookie进行赋值</div><div class="line">			String getName()			 __获取cookie名称</div><div class="line">			String getValue()  			 __获取cookie值</div><div class="line">			int getMaxAge()  			 __获取cookie有效时间(单位:s/秒)</div><div class="line">	</div><div class="line">	b.Session</div><div class="line"></div><div class="line">&lt;3&gt;Session与Cookie对比</div><div class="line">	Session    	~   	Cookie</div><div class="line">	[在服务器端保存用户信息]  ~		[在客户端保存用户信息]</div><div class="line">	[保存的是Object类型]      ~		[保存的是String类型]</div><div class="line">	[随会话的结束而将储存的数据销毁] 	~	[cookie可以长期保存在客户端]</div><div class="line">	[保存重要的信息]  	~ 	[保存不重要的信息] </div><div class="line">	[可以保存任意大小的对象类型]   ~ 	[保存cookie个数,大小都有限制]</div></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<p>两种表单提交方式【Get和Post】<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;代码</div><div class="line">	&lt;form name=&quot;regForm&quot; action=&quot;提交之后动作&quot; method=&quot;提交方式&quot;&gt;&lt;/form&gt;</div><div class="line"></div><div class="line">&lt;2&gt;区别</div><div class="line">	a.get </div><div class="line">		以明文的方式通过URL提交数据,数据在URL可以看到.提交的数据最多不超过2KB，安全性较低,但效率比post高。适合提交数据量不打,安全性不高的数据.比如:搜索,查询等功能</div><div class="line">	b.post</div><div class="line">		将用户提交的信息封装在HTML HEADER内.适合提交数据量大,安全性高的用户信息.比如:注册,修改,上传等功能</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>两种请求处理</p>
<ul>
<li>【请求转发】服务器行为,<code>reqeust.getRequestDispatcher(&quot;../xxx.jsp&quot;).forward(request,response);</code>是一次请求,转发后请求对象会保存,地址栏的URL地址不会改变</li>
<li>【请求重定向】客户端行为,<code>response.sendRedirect(&quot;../xxx.jsp&quot;)</code>,从本质上讲等同于两次请求,前一次的请求对象不会保存,地址栏的URL会改变<br><br></li>
</ul>
<p>JavaBean设计</p>
<ul>
<li>简介</li>
<li>设计原则</li>
<li>在jsp页面中使用</li>
<li>作用域【scope=”作用域”】</li>
<li>Model1模式<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;简介</div><div class="line">	JavaBeans就是符合某种特定的规范的Java类,使用JavaBeans的好处是解决代码的重复编写,减少代码冗(rong)余,功能区分明确,提高了代码的维护性</div><div class="line"></div><div class="line">&lt;2&gt;设计原则</div><div class="line">	.共有类</div><div class="line">	.包含无参公有构造方法</div><div class="line">	.属性私有</div><div class="line">	.getter和setter方法</div><div class="line"></div><div class="line">&lt;3&gt;在jsp页面中使用</div><div class="line">	a.普通方式</div><div class="line">		&lt;%@ page import=&quot;com.po.User&quot;%&gt; &lt;%--page指令导入User类--%&gt;</div><div class="line">		&lt;%</div><div class="line">			User user = new User();</div><div class="line">				user.setName(&quot;皮皮&quot;);</div><div class="line">				user.setPassword(&quot;123456&quot;);</div><div class="line">		%&gt;</div><div class="line">		用户名:&lt;%=user.getName() %&gt;</div><div class="line">		密码:  &lt;%=user.getPassword() %&gt;</div><div class="line">	</div><div class="line">	b.使用动作标签</div><div class="line">		&lt;jsp:userBean id=&quot;user&quot; class=&quot;com.po.User&quot; scope=&quot;page&quot; /&gt;</div><div class="line">	</div><div class="line">		&lt;!--根据提交表单自动匹配所有元素--&gt;</div><div class="line">		&lt;jsp:serProperty name=&quot;user&quot; property=&quot;*&quot; /&gt;</div><div class="line">	</div><div class="line">		用户名:&lt;jsp:getProperty name=&quot;user&quot; property=&quot;name&quot; /&gt;</div><div class="line">		用户值:&lt;jsp:getProperty name=&quot;user&quot; property=&quot;password&quot; /&gt;</div><div class="line"></div><div class="line"></div><div class="line">&lt;4&gt;作用域【scope=&quot;作用域&quot;】</div><div class="line">	a.page  __仅在当前页面有效</div><div class="line">	b.request __可以通过HttpRequest.getAttribute()获得JavaBean对象</div><div class="line">	c.session __可以通过HttpSession.getAttribute()获取JavaBean对象</div><div class="line">	d.application __可以通过application.getAttribute()获得JavaBean对象</div><div class="line"></div><div class="line"></div><div class="line">&lt;5&gt;Model1模式</div><div class="line">	a.前景</div><div class="line">		Model模型出现前,整个Web应用的情况:几乎全部由JSP页面组成,JSP页面接收处理客户端请求,对请求处理后直接做出响应</div><div class="line">	</div><div class="line">		弊端：在界面层充斥大量的业务逻辑的代码和数据访问层代码,web程序的可扩展性和可维护性非常差</div><div class="line">	</div><div class="line">	b.模型</div><div class="line">				 (1)请求	   (2)            (3)</div><div class="line">		1.浏览器 ~~~~~~~&gt; JSP &lt;~~~&gt; JavaBean &lt;~~~&gt; 企业数据库</div><div class="line">				&lt;~~~~~~~</div><div class="line">			     (4)响应</div></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<p>JSP动作元素</p>
<ul>
<li>定义</li>
<li>标签分类</li>
<li>include指令与include动作的区别<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;定义</div><div class="line">	JSP动作元素(action elements),动作元素为请求处理阶段提供信息。动作元素遵循XML元素语法,有一个包含元素名的开始标签,可以有属性,可选的内容,与开始标签匹配的结束标签</div><div class="line"></div><div class="line">&lt;2&gt;标签分类</div><div class="line">	a.存储JavaBeans有关的</div><div class="line">		&lt;jsp:userBean&gt;</div><div class="line">			例：&lt;jsp:userBean id=&quot;标识符&quot; class=&quot;包名.类名&quot; scope=&quot;作用范围&quot; /&gt;</div><div class="line">		&lt;jsp:setProperty&gt;</div><div class="line">			例:【四种形式】</div><div class="line">				&lt;jsp:setProperty name=&quot;Java实例名(id名)&quot; property=&quot;*&quot; /&gt; //根据表单自动匹配所有属性</div><div class="line">				&lt;jsp:setProperty name=&quot;&quot; property=&quot;属性名&quot; /&gt;  //仅自动匹配指定属性名</div><div class="line">				&lt;jsp:setProperty name=&quot;&quot; property=&quot;属性名&quot; value=&quot;属性值&quot; /&gt; //手工设置属性为指定值</div><div class="line">				&lt;jsp:setProperty name=&quot;&quot; property=&quot;属性名&quot; param=&quot;属性值为reqeust的指定参数名的值&quot;&gt;</div><div class="line">		&lt;jsp:getProperty&gt;</div><div class="line">			例：&lt;jsp:getProperty name=&quot;Java实例名(id)&quot; property=&quot;属性名&quot; /&gt;//获取指定对象的属性值</div><div class="line">	</div><div class="line">	b.JSP1.2就开有的基本元素,6个动作元素</div><div class="line">		&lt;jsp:include&gt;</div><div class="line">			例:&lt;jsp:include page=&quot;被包含的页面&quot; flush=&quot;true | false&quot; /&gt;</div><div class="line">					//flush表示被包含的页面是否从缓冲区读取</div><div class="line">		&lt;jsp:forward&gt;</div><div class="line">			例:&lt;jsp:forward page=&quot;URL&quot; /&gt; //请求转发,等同于request.getRequestDispatcher(&quot;/url&quot;).forward(request,response);</div><div class="line">		&lt;jsp:param&gt;</div><div class="line">			例:&lt;jsp:param name=&quot;参数名&quot; value=&quot;参数值&quot; /&gt; //请求参数,可传递新的也可由修改原有的参数【与&lt;jsp:forward一起使用,作为其子标签】</div><div class="line">		&lt;jsp:plugin&gt;</div><div class="line">		&lt;jsp:params&gt;</div><div class="line">		&lt;jsp:fallback&gt;</div><div class="line">	c_1.JSP2.0新增的6个元素,与JSP Document有关</div><div class="line">		&lt;jsp:root&gt;</div><div class="line">		&lt;jsp:declaration&gt;</div><div class="line">		&lt;jsp:scriptlet&gt;</div><div class="line">		&lt;jsp:expression&gt;</div><div class="line">		&lt;jsp:text&gt;</div><div class="line">		&lt;jsp:output&gt;</div><div class="line">	c_2.JSP2.0新增的3个元素,动态生成XML元素标签的值</div><div class="line">		&lt;jsp:attribute&gt;</div><div class="line">		&lt;jsp:body&gt;</div><div class="line">		&lt;jsp:element&gt;</div><div class="line">	c_3.JSP新增的2个元素,主要用在Tag File中</div><div class="line">		&lt;jsp:invoke&gt;</div><div class="line">		&lt;jsp:dobody&gt;</div><div class="line"></div><div class="line"></div><div class="line">&lt;3&gt;include指令与include动作的区别</div><div class="line">	a.语法格式不同</div><div class="line">	b.include指令在&quot;页面转换期间&quot;发生作用,而动作在&quot;请求期间&quot;发生作用</div><div class="line">	c.include指令包含的内容为&quot;文件的实际内容&quot;,动作为&quot;页面的输出&quot;</div><div class="line">	d.include指令的&quot;主页面和包含页面转换为一个Servlet&quot;,动作为&quot;主页面和包含页面转换为独立的Servlet&quot;</div><div class="line">	e.编译时间,include指令&quot;较慢&quot;,动作&quot;较快&quot;</div><div class="line">	f.执行时间,include指令&quot;稍快&quot;,动作&quot;较慢(每次请求资源必须被解析)&quot;</div></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<p>JSP基本语法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;指令(&lt;%@page 属性值1=&quot;属性值&quot; %&gt;)</div><div class="line">	page     【通常位于jsp页面的顶端,同一个页面可以有多个page指令】</div><div class="line">		language    __指定JSP页面使用的脚本语言(默认java)</div><div class="line">		import      __通过该属性来引入脚本语言中使用到的类文件(java包)</div><div class="line">		contentType __用来指定jsp页面所采用的编码方式(默认:text/html,ISO-8859-1)</div><div class="line">	</div><div class="line">	include  【将外部文件嵌入到当前jsp文件中,同时解析这个页面的JSP语句】</div><div class="line">		例:</div><div class="line">			&lt;%@ include file=&quot;要包含页面的URL&quot; %&gt;</div><div class="line">	</div><div class="line">	tablib   【使用标签库定义新的自定义标签,在jsp页面中启用定制行为】</div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;注释</div><div class="line">	&lt;!--HTML注释--&gt;   【客户端源代码可见】</div><div class="line">	&lt;%--JSP注释--%&gt;   【客户端不可见】</div><div class="line">	//单行注释</div><div class="line">	/*多行注释*/</div><div class="line"></div><div class="line"></div><div class="line">&lt;3&gt;脚本</div><div class="line">	&lt;%  Java代码 %&gt;  </div><div class="line"></div><div class="line"></div><div class="line">&lt;4&gt;声明</div><div class="line">	&lt;%! Java代码 %&gt;  【声明全局变量,字段 or 方法,可供jsp脚本调用(注意:jsp脚本里声明的变量是局部变量)】</div><div class="line"></div><div class="line"></div><div class="line">&lt;5&gt;表达式</div><div class="line">	&lt;%=表达式 %&gt;  【直接调用字段 or 方法,不用以分号‘;’结束】</div><div class="line"></div><div class="line"></div><div class="line">&lt;5&gt;JSP页面生命周期</div><div class="line">	1.用户发出index.jsp请求</div><div class="line">	2.判断用户访问的资源是否是第一次请求</div><div class="line">		a.是  </div><div class="line">			————JSP引擎把该JSP文件转换成为Servlet(本质是一个java类),生成字节码文件,并执行spInit()【只在编译生成字节码文件的时候才执行】</div><div class="line">			___生成的字节码文件</div><div class="line">		b.否</div><div class="line">			————生成的字节码文件</div><div class="line">	</div><div class="line">	3.解析执行,jspService()</div><div class="line">	</div><div class="line">	 注意点：</div><div class="line">		A.jspService()方法被调用来处理客户端的请求。对每一个请求,JSP引擎创建一个新的线程来处理该请求。如果有多个客户端同时请求该JSP文件,则JSP引擎会创建多个线程,每个客户端请求对应一个线程。以多线程方式执行可以大大降低对系统的资源需求,提高系统的并发量及响应时间。但也要注意多线程的编程带来的同步问题,由于该Servlet始终驻与内存,所以响应是非常快的</div><div class="line">	</div><div class="line">		B.当用户第一次请求jsp页面时,首先被执行的是&quot;构造方法&quot;</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>JSP内置对象</p>
<ul>
<li>【定义】是Web容器创建的一组对象,不使用new关键字就可以使用内置对象,有九大内置对象</li>
<li>out</li>
<li>request    【用户请求】</li>
<li>response   【用户响应】</li>
<li>session</li>
<li>application</li>
<li>page</li>
<li>pageContext</li>
<li>config</li>
<li>exception<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;out对象【JspWriter类的实例,向客户端输出内容的对象】</div><div class="line">		a.缓冲区(Buffer)</div><div class="line">			是内存的一块区域用来保存临时数据</div><div class="line">		b.常用方法</div><div class="line">			(1)void println()		__向客户端打印字符串</div><div class="line">			(2)void clear()			__清除缓冲区内容,如果flush之后调用会抛出异常</div><div class="line">			(3)void clearBuffer()   __清楚缓冲区内容,如果在flush之后调用不会抛出异常</div><div class="line">			(4)void flush()         __将缓冲内容输出到客户端</div><div class="line">			(5)int getBufferSize()  __返回缓冲区以字节数的大小,如果不设缓冲区则为0</div><div class="line">			(6)int getRemaining()   __返回含缓冲区还剩余多少可用</div><div class="line">			(7)boolean isAutoFlush()__放回缓冲区满时,是自动清空还是抛出异常</div><div class="line">			(8)void close()         __关闭输出流</div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;request对象</div><div class="line">	a.定义</div><div class="line">		客户端的请求信息被封装在request对象中,通过它才能了解到客户的需求,然后做出响应,它是HttpServletRequest类的实例。request对象具有请求域,即完成客户端的请求之前,该对象一直有效</div><div class="line">			</div><div class="line">	b.常用方法</div><div class="line">		String getParameter(String name)  __返回name参数名的参数值</div><div class="line">		String [] getParameterValues(String name) __返回name参数名的所有参数值数组</div><div class="line">		void setAttribute(String,Object)  __储存给request请求设置参数键值队</div><div class="line">		object getAttribute(String name)  __返回name参数名的参数值对象</div><div class="line">		String getContextType()			  __得到请求体的MIME类型</div><div class="line">		String getProtocol()			  __返回请求用的协议类型以及版本号</div><div class="line">		String getServerName()			  __返回接收请求的服务器主机名</div><div class="line">		int getServerPort()               __返回服务器接收此请求所用的端口号</div><div class="line">		void setCharacterEncoding(&quot;编码&quot;) __设置请求的字符编码【解决中文乱码】</div><div class="line">		String getCharacterEncoding()     __返回字符编码方式</div><div class="line">		int getContectLength()            __返回请求体的长度(以字节数)</div><div class="line">		String getRemoteAddr()   		  __返回发送此请求的客户端IP地址</div><div class="line">		String getRealPath(String path)   __返回虚拟路径的真实路径【括号内可是补充到最后的path】</div><div class="line">		String request.getContextPath()   __返回上下文路径</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;3&gt;response对象</div><div class="line">	a.定义</div><div class="line">		response对象包含了响应客户请求的有关信息,但在JSP中很少直接用到它.它是HttpServletResponse类的实例。response对象具有页面作用域,即访问一个页面时,该页面内的response对象只能对此次访问有效,其他页面的response对象对当前页面无效</div><div class="line">	b.常用方法</div><div class="line">		String getCharacterEncoding()  __返回响应用时使用的字符编码</div><div class="line">		void setContentType(String type) __设置相应的MIME类型</div><div class="line">		PrintWriter getWriter()			  __返回可以向客户端输出字符的一个对象【注:需比较,与out内置对象的区别(PrintWriter对象打印输出,总是咸鱼out内置对象打印输出)】</div><div class="line">		sendRedirect(java.lang.String.location) __重新定向客户端的请求</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;4&gt;session对象</div><div class="line">	a.定义</div><div class="line">		ssession表示客户端与服务器的一次会话,web中的session指的是用户在浏览某个网站时,从进入网站到浏览器关闭所经过的这段时间,也是用户浏览这个网站所花费的时间;因此从上述定义中可以看到,Session实际上是一个特点的时间概念,在服务器的内存中保存着不同用户的session,与用户一一对应;</div><div class="line">			.session对象在第一个JSP页面被装载时自动创建,完成会话期管理</div><div class="line">			.从一个客户打开浏览器并连接到服务器开始,到客户管理浏览器离开这个服务器结束,称为一个会话</div><div class="line">			.当一个客户访问一个服务器时,可能会在服务器的几个页面之间切换,服务器应当通过某种办法知道这是一个客户,就需要session对象</div><div class="line">			.session对象实例是HttpSession类的实例</div><div class="line">	</div><div class="line">	b.常用方法</div><div class="line">		long getCreateTime()     __返回session创建时间</div><div class="line">		public String getId()    __返回session创建时jsp引擎为它设的唯一ID号</div><div class="line">		public Object setAttribute(String name,Object value)   _使用只i定名称将指定对象绑定到此会话</div><div class="line">		public Object getAttribute(String name)    __返回此会话中的指定名称的指定对象,若不存在,返回null</div><div class="line">		String [] getValueNames()  __返回一个包含此seesion中所有可用属性名数组</div><div class="line">		void setMaxInactiveInterval(int time)  __设置session存在时间,指定时间后过期</div><div class="line">		int getMaxInactiveInterval()   __返回session几秒钟过期</div><div class="line">	</div><div class="line">	c.生命周期</div><div class="line">		(1)创建</div><div class="line">			当客户端第一次访问某个jsp或者Servlet时,服务器会为当前会话创建一个SessionId,每次客户端向服务端发送请求时,都会将此SessionId携带过去,服务端会对此SessionId进行校验</div><div class="line">		(2)活动</div><div class="line">			.某次会话中通过超链接打开的新页面属于通过一次会话</div><div class="line">			.只要当前会话的页面没有全部关闭,重新打开新的浏览器窗口访问同一项目资源时,仍然属于同一次会话</div><div class="line">			.本次会话的所有页面都关闭情况下，再次重新访问某个jsp或Servlet时会创建新的会话</div><div class="line">			.【注意】创建新的会话,原有的会话仍然存在,只是这个旧的SessionId仍然存在于服务端,只不过再也没有客户端会携带它然后交于服务端校验,超时之后才会自动销毁</div><div class="line">		(3)销毁【三种方式】</div><div class="line">			.调用session.invalidate()</div><div class="line">			.Session过期(超时)【Tomcat默认session超时是30分钟】</div><div class="line">				+ session.setMaxInactiveInterval(时间)</div><div class="line">				+ 在web.xml里配置</div><div class="line">						&lt;!--Session10分钟后过期--&gt;</div><div class="line">						&lt;session-config&gt;</div><div class="line">							&lt;session-timout</div><div class="line">							 10</div><div class="line">							 &lt;/session-timeout&gt;</div><div class="line">						&lt;/session-config&gt;</div><div class="line">			.服务器重新启动</div><div class="line"></div><div class="line">&lt;5&gt;application对象</div><div class="line">	a.定义</div><div class="line">		实现了用户间数据的共享,可存放全局变量</div><div class="line">		该对象开始于服务器的启动,终止于服务器的关闭</div><div class="line">		在用户的前后连接或不同用户之间的连接中,可以对application对象的同一属性进行操作</div><div class="line">		在任何地方对application对象属性的操作,都将影响到其他用户对此的访问</div><div class="line">		服务器的启动和关闭决定了application对象的生命</div><div class="line">		application对象是ServletContext类的实例</div><div class="line">	</div><div class="line">	b.常用方法</div><div class="line">		public void setAttribute(String name,Object value) __设置指定名称的指定对象值,绑定到此会话</div><div class="line">		public Object getAttribute(String name)   __返回与此会话中指定名称绑定的对象,若不存在,返回null</div><div class="line">		Enumeration getAttributeNames()  __返回所有可用属性名的枚举</div><div class="line">		String getServerInfo()		__返回JSP(SERVER)引擎及版本号</div><div class="line"></div><div class="line"></div><div class="line">&lt;6&gt;page对象</div><div class="line">	a.定义</div><div class="line">		指向当前jsp页面本身,有点像类中的this指针,它是java.lang.Object类的实例</div><div class="line">	</div><div class="line">	b.常用方法</div><div class="line">		class getClass()		__返回此Object的运行时Class</div><div class="line">		int hasCode()			__返回此Object的hash码</div><div class="line">		boolean equals(Object obj)	__判断相等</div><div class="line">		void copy(Object obj)  __拷贝到指定obj对象</div><div class="line">		Object clone()   	   __克隆Object对象</div><div class="line">		String toString()      __转换成String类的对象</div><div class="line">		void notifyAll()       __唤醒一个等待线程</div><div class="line">		void notifyAll()	   __唤醒所有等待线程</div><div class="line">		void wait(int timeout) __使一个线程处于等待状态直到timeout结束or被唤醒</div><div class="line">		void wait()            __使一个线程处于等待直到被唤醒	</div><div class="line"></div><div class="line"></div><div class="line">&lt;7&gt;pageContext对象</div><div class="line">	a.定义</div><div class="line">		提供了对JSP页面内所有的对象及名字空间的访问</div><div class="line">		可以访问到本页所在的session,也可以提取本页面所在的application的某一属性值</div><div class="line">		该对象相当于页面中所有功能的集大成者</div><div class="line">		对象本类名实例也叫做pageContext</div><div class="line">	</div><div class="line">	b.常用方法</div><div class="line">		JspWrite getOut()		__返回当前客户端响应被使用的JspWriter流(out)</div><div class="line">		HttpSession getSession() __返回当前页中的HttpSession对象(session)</div><div class="line">		Object getPage() 		__返回当前页的Object对象(page)</div><div class="line">		ServletRequest getRequest()  __返回当前页的ServletRequest对象(reqeust)</div><div class="line">		ServletResponse getResponse  __返回当前页的ServletResponse对象(response)</div><div class="line">		void setAttribute(String name,Object obj);   __设置属性名与值</div><div class="line">		Object getAttribute(String name,int scope)   __返回指定名称,作用域的值对象</div><div class="line">		int getAttributeScope(String name)   __返回某属性的作用范围</div><div class="line">		void forward(String relativeUrlPaht) __使当前页面重导到另一页面</div><div class="line">		void include(String relativeUrlPath) __在当前位置包含另一文件</div><div class="line"></div><div class="line"></div><div class="line">&lt;8&gt;Config对象</div><div class="line">	a.定义</div><div class="line">		config对象是在一个Servlet初始化时,JSP引擎向它传递信息用的,此信息包括Servlet初始化时所要用到的参数(通过属性名和属性值构成)以及服务器的有关信息(通过传递一个ServletContext对象)</div><div class="line">	</div><div class="line">	b.常用对象</div><div class="line">		ServletContext getServletContext()  __返回含有服务器有信息的ServletContext对象</div><div class="line">		String getInitParameter(String name)  __返回初始化参数的值</div><div class="line">		Enumeration getInitParameterNames()   __返回Servlet初始化所需所有参数的枚举</div><div class="line"></div><div class="line"></div><div class="line">&lt;9&gt;Exception对象</div><div class="line">	a.定义</div><div class="line">		该对象是一个异常对象,当一个页面运行过程中发生了异常,就产生这个对象.如果一个JSP页面要应用此对象,就必须在开头page指令中添加属性,isErrorPage=&quot;true&quot;【默认是false】,否则无法编译.实际上是java.lang.Throwable的对象</div><div class="line">		</div><div class="line">	b.常用方法</div><div class="line">		String getMessage()   __返回描述异常的消息</div><div class="line">		String toString()     __返回关于异常的简短描述消息</div><div class="line">		void printStackTrace() __显示异常及其栈轨迹</div><div class="line">		Throwable FillInStackTrace()  __重写异常的执行轨迹</div></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<hr>
<p><br><br></p>
<h2 id="18-2-Servlet基础"><a href="#18-2-Servlet基础" class="headerlink" title="18_2.Servlet基础"></a>18_2.Servlet基础</h2><p>&emsp;Servlet是在服务器上运行的小程序,一个Servlet就是一个Java类,并且可以通过“请求-响应”编程模型来访问的这个驻留在服务器内存里的Servlet程序<br><br></p>
<p>Tomcat容器等级<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;概念与分级</div><div class="line">	a.Tomcat容器分为四个等级</div><div class="line">		(1)Container容器</div><div class="line">		(2)Engine容器  【引擎容器】</div><div class="line">		(3)HOST容器 【主机容器】</div><div class="line">		(4)Context容器</div><div class="line">	b.Servlet的容器管理Context容器</div><div class="line">	c.一个COntext对应一个Web工程</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>Tomcat装载Servlet的三种情况</p>
<ul>
<li>Servlet容器启动时会根据web.xml配置文档自动装载某些Servlet</li>
<li>Servlet容器启动后,客户端首次向Servlet发送请求</li>
<li>Servlet类文件被更新后<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;Servlet容器启动时会根据web.xml配置文档自动装载某些Servlet【Tomcat启动后自动装载】</div><div class="line">		需在配置文件加入如下代码: </div><div class="line">			&lt;Servlet&gt;</div><div class="line">					......</div><div class="line">					&lt;loadon-startup&gt;1&lt;/loadon-startup&gt; &lt;!--数字越小优先级别越高--&gt; </div><div class="line">			&lt;/Servlet&gt;</div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;Servlet容器启动后,客户端首次向Servlet发送请求</div><div class="line">		Tomcat容器进行装载Servlet</div><div class="line"></div><div class="line"></div><div class="line">&lt;3&gt;Servlet类文件被更新后</div><div class="line">		Tomcat容器重新装载Servlet</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">注意:</div><div class="line">	a.Servlet一旦被加载后,Servlet对象会长期保存在服务器的内存当中</div><div class="line">	b.Servlet被装载后,Servlet容器会创建一个Servlet实例并调用Servlet的init()将进行初始化。整个Servlet生命周期内,init()只会被调用一次</div><div class="line">	c.构造方法在init()方法执行前执行</div></pre></td></tr></table></figure>
</li>
</ul>
<p>Servlet生命周期</p>
<ul>
<li>初始化</li>
<li>加载</li>
<li>实例化</li>
<li>服务和销毁<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;初始化阶段,调用init()</div><div class="line">&lt;2&gt;响应客户请求阶段,调用service()【由service()根据提交方式选择执行doGet()或者doPost()】</div><div class="line">&lt;3&gt;终止阶段,调用destroy()【服务器终止的时候】</div><div class="line"></div><div class="line"></div><div class="line">	注意：Servlet编写doPost()方法时,</div><div class="line">		会抛出ServletException和IOException异常</div></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<p>Servlet对应JSP的九大内置对象<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">【JSP对象】  ~~~   【Servlet获得】</div><div class="line">   out 					response.getWriter();</div><div class="line">   reqeust 				service()的request</div><div class="line">   response  			service()的response</div><div class="line">   session  			request.getSession();</div><div class="line">   application   		getServletContext();</div><div class="line">   exception 			Throwable</div><div class="line">   page 				this</div><div class="line">   pageContext  		PageContext</div><div class="line">   Config 				getServletConfig();</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>Servlet应用</p>
<ul>
<li>获取初始化参数</li>
<li>Mdeol2模型<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;获取初始化参数</div><div class="line">	【在web.xml中配置Servlet时,可以配置一些初始化参数。而在Servlet中可以通过ServletConfig接口提供的方法来取得这些参数】</div><div class="line">		a.在web.xml里</div><div class="line">			&lt;servlet&gt;</div><div class="line">				......</div><div class="line">				&lt;init-param&gt;</div><div class="line">					&lt;param-name&gt;username&lt;/param-name&gt;</div><div class="line">					&lt;param-value&gt;suvan&lt;/param-value&gt;</div><div class="line">				&lt;/init-param&gt;</div><div class="line">			&lt;/servlet&gt;</div><div class="line">	</div><div class="line">		b.Servlet的init()里</div><div class="line">			public void init() throws ServletException&#123;</div><div class="line">				String username = this.getInitParameter(&quot;username&quot;);</div><div class="line">			&#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;Mdeol2模型</div><div class="line">	【Java Web的Model2开发模型就是MVC思想的体现】</div><div class="line">		JavaBean(M)</div><div class="line">		JSP(V)</div><div class="line">		Servlet(C)</div><div class="line">		DB</div></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<p>Servlet模版代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;程序代码</div><div class="line">		public class MyServlet extends HttpServlet&#123;</div><div class="line">			@Override</div><div class="line">			protected void doGet(HttpServletRequest request,HttpServletResponse response) throws ServletException,IOException&#123;</div><div class="line">				//super.doGet(request,response);</div><div class="line">	</div><div class="line">				String name = request.getParameter(&quot;name&quot;);//获取name参数</div><div class="line">				String [] facorite = request.getParameterValues(&quot;favorite&quot;);//获取表单复选框的多个参数</div><div class="line">	</div><div class="line">				Systen.out.println(&quot;处理Get请求.....&quot;);</div><div class="line">	</div><div class="line">				PrintWriter out = response.getWriter();</div><div class="line">				response.setContentType(&quot;text/html;charset=utf-8&quot;);</div><div class="line">				out.println(&quot;&lt;strong&gt;在web页面打印输出&lt;/strong&gt;&lt;br&gt;&quot;)</div><div class="line">			&#125;</div><div class="line">	</div><div class="line">			@Override</div><div class="line">			protected void doPost(HttpServletRequest request,HttpServletResponse response) throws ServletException,IOException&#123;</div><div class="line">				super.doPost(request,response);</div><div class="line">	</div><div class="line">				//请求转发</div><div class="line">				reqeust.getRequestDispatcher(&quot;../xxx.jsp&quot;).forward(request,response);</div><div class="line">	</div><div class="line">				//请求重定向</div><div class="line">				response.sendRedirect(&quot;test.jsp&quot;);</div><div class="line">	</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">&lt;2&gt;在web项目的,web.xml里注册Servlet</div><div class="line">		&lt;servlet&gt;</div><div class="line">			&lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;</div><div class="line">			&lt;servlet-class&gt;com.MyServlet&lt;/servlet-class&gt;</div><div class="line">		&lt;/servlet&gt;</div><div class="line">		&lt;servlet-mapping&gt;</div><div class="line">			&lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;</div><div class="line">			&lt;url-pattern&gt;/com/MyServlet&lt;/url-pattern&gt;</div><div class="line">		&lt;/servlet-mapping&gt;</div><div class="line"></div><div class="line">&lt;3&gt;浏览器hello项目访问servlet</div><div class="line">	http:/localhost:8080/HelloApp/com/MyServlet</div></pre></td></tr></table></figure></p>
<p><br></p>
<hr>
<p><br><br></p>
<h2 id="18-3-过滤器"><a href="#18-3-过滤器" class="headerlink" title="18_3.过滤器"></a>18_3.过滤器</h2><p>&emsp;定义是一个服务器端的组件,可以截取用户端的请求与响应信息,并对这些信息进行过滤【过滤源,过滤规则,过滤结果】<br><br></p>
<p>工作原理<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">web容器启动时加载过滤器</div><div class="line"></div><div class="line"></div><div class="line">		___发送请求___&gt;                               __过滤器将用户请求发送至Web资源___&gt;</div><div class="line">用户                                           过滤器                                         Web资源</div><div class="line">        &lt;___过滤器将Web资源的响应发送给用户__         &lt;__资源响应发送至过滤器__</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>生命周期</p>
<ol>
<li>实例化【在web.xml进行配置,启动容器则加载过滤器,仅此1次】、</li>
<li>初始化【过滤器启动成功,加载初始化信息,调用过滤器的init(),仅次1次】</li>
<li>过滤  【每次过滤器捕获用户请求,都会执行doFilter(),执行N次】</li>
<li>销毁  【web容器关闭时,调用过滤器的destroy()进行销毁处理的工作】</li>
</ol>
<p><br></p>
<p>过滤器类型(在web.xml的filter标签dispatcher标签配置)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">Servlet2.5的四种类型</div><div class="line">		REQUEST  【默认,用户直接访问页面时,web容器调用过滤器】</div><div class="line">		FORWARD  【目标资源是通过ReqeustDispatcher的forward()访问时,即请求转发,调用过滤器】</div><div class="line">		INCLUDE  【目标通过RequestDispatcher的include()访问时,请求通过包含方式获得时(在本页面中同时包含了下一个url的内容),调用过滤器】</div><div class="line">		ERROR    【目标资源通过声明式异常处理机制调用时,调用过滤器】</div><div class="line"></div><div class="line">Servlet3.0的添加的一种类型</div><div class="line">		ASYNC    【目标资源是异步处理时,过滤器将被调用】</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>多个过滤器组成过滤器链子<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;服务器会按照web.xml中过滤器的定义的先后顺序组成过滤器链</div><div class="line">​	</div><div class="line">	用户请求——&gt;过滤器1——&gt;过滤器2——&gt;过滤器3——&gt;web资源</div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;过滤链执行过滤</div><div class="line"></div><div class="line">	过滤器1【释放请求前】</div><div class="line">	过滤器2</div><div class="line">		web资源</div><div class="line">	过滤器2 【释放请求后】</div><div class="line">	过滤器1</div><div class="line"></div><div class="line"></div><div class="line">	用户请求---&gt;Code1【放行前代码】                  ---&gt; Code2</div><div class="line">				  |                                 |         |</div><div class="line">				  Chain.doFilter【释放请求】   ----      Chain.doFilter  ---&gt;     Servlet的Service()</div><div class="line">				  																  			|</div><div class="line">				  																 			|</div><div class="line">				Code1【放行后】		&lt;----           Code2        &lt;--------------	</div><div class="line"></div><div class="line"></div><div class="line">&lt;3&gt;初始化顺序号和销毁顺序</div><div class="line">	 按照web.xml的定义顺序,依次初始化,依次销毁</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>注意：</p>
<ul>
<li>过滤器可以更改用户请求的路径</li>
<li>过滤器不能直接返回数据,不能直接处理用户请求【过滤器不是标准的Servlet,不能直接把数据直接返回到用户,只能重定向or请求转发到指定web资源】<br><br></li>
</ul>
<p>过滤器代码</p>
<ul>
<li>程序代码</li>
<li>web.xml内配置<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;程序代码</div><div class="line">		public class MyFilter implements Filter&#123;</div><div class="line"></div><div class="line">			 public FilterConfig config;     //FilterConfig对象访问web.xml里初始化的参数</div><div class="line"></div><div class="line">			@Override</div><div class="line">			public void init(FiterConfig arg0) throws ServletException&#123;</div><div class="line">				  System.out.println(&quot;MyFilter--init()---&gt;初始化&quot;);</div><div class="line">	    		  this.config = filterConfig;</div><div class="line">			&#125;</div><div class="line">	</div><div class="line">			@Override</div><div class="line">			public void doFilter(ServletRequest arg0, ServletResponse arg1, FilterChain arg2) throws IOException,ServletException&#123;</div><div class="line">	</div><div class="line">					/*</div><div class="line">			          * servlet理论上可以处理多种形式的请求响应形式,http只是其中之一</div><div class="line">			          * HttpServletRequest, HttpServletResponse分别是ServletRequest和ServletResponse的子类,多了一些针对http协议的方法</div><div class="line">			          *  4个都是接口</div><div class="line">	      			*/</div><div class="line">	      			  //1.定义</div><div class="line">				        HttpServletRequest httprequest = (HttpServletRequest)request;</div><div class="line">				        HttpServletResponse httpresponse = (HttpServletResponse)response;</div><div class="line">				        HttpServletResponseWrapper httpresponsewrapper = new HttpServletResponseWrapper(httpresponse);</div><div class="line">	</div><div class="line">				        //过滤器对请求进行编码转换</div><div class="line">				        request.setCharacterEncoding(&quot;UTF-8&quot;);</div><div class="line">	</div><div class="line">				       //2.操作Cookie</div><div class="line">				        //this.useCookie(httprequest,httpresponse);</div><div class="line">	</div><div class="line">				        //3.是否执行过滤器</div><div class="line">				        String disabletestfilter = config.getInitParameter(&quot;disabletestfilter&quot;);            //获取配置文件参数,判断过滤器是否有效</div><div class="line">				        if (disabletestfilter.toUpperCase().equals(&quot;YES&quot;)) &#123;    //web.xml设置为YES则过滤器无效,直接跳过该过滤器</div><div class="line">				           //把请求传回过滤链</div><div class="line">				            chain.doFilter(request, response);  //检查过滤链是否还有其他filter,有就调用,没有就调用目标资源</div><div class="line">				            return;</div><div class="line">				        &#125;</div><div class="line"></div><div class="line"></div><div class="line">				        //4.进入博客首页index</div><div class="line">				        String includeSuffix = config.getInitParameter(&quot;includeSuffix&quot;);                    //指定后缀index.jsp</div><div class="line">				        String url = httprequest.getRequestURI();</div><div class="line">				        if ((url.equals(&quot;/blog/&quot;)  || (url.indexOf(includeSuffix) != -1)))&#123;  //不是欢迎页面 &amp;&amp; 不是指定index.jsp页面则跳过</div><div class="line">	</div><div class="line">				            httprequest.getRequestDispatcher(&quot;/article/index&quot;).forward(request,response);</div><div class="line">				            return;</div><div class="line">				        &#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">				        //请求转发【服务器内部转发,/表示当前web应用程序跟目录】【url不会显示出链接地址】【会导致指定页面的CSS和js的相对路径是指当前CSS的,需把改为绝对路径】</div><div class="line">				        //httprequest.getRequestDispatcher(&quot;/html/register.html&quot;).forward(request,response);</div><div class="line">	</div><div class="line">				        //请求重定向【服务器外请求】</div><div class="line">				        //httpresponsewrapper.sendRedirect(&quot;/My_Blog/html/register.html&quot;);</div><div class="line"></div><div class="line"></div><div class="line">				        System.out.println(&quot;----------------------&gt;请求仍然停留在IndexFilter过滤器&quot;);</div><div class="line">			&#125;</div><div class="line">	</div><div class="line">			@Override</div><div class="line">			public void destroy()&#123;</div><div class="line">					System.out.println(&quot;MyFilter--destroy()---&gt;销毁&quot;);</div><div class="line">	    			this.config = null;</div><div class="line">			&#125;</div><div class="line"></div><div class="line"></div><div class="line">			 /*【自定义函数】过滤器中操作Cookie*/</div><div class="line">		    public void useCookie(HttpServletRequest httprequest,HttpServletResponse httpresponse)&#123;</div><div class="line">	</div><div class="line">		        //1.构造Cookie</div><div class="line">		        Cookie myCookie = new Cookie(&quot;myRecord&quot;, &quot;888888888&quot;);</div><div class="line">		        myCookie.setSecure(true);       //使用加密传输</div><div class="line">		        myCookie.setHttpOnly(true);     //将Cookie设置成HttpOnly[指示浏览器不要在除HTTP（和 HTTPS)请求之外暴露Cookie],防止XSS攻击【跨站点脚本攻击(例如js引用document.cookie0】</div><div class="line">		                                        //Servlet 2.5 API 不支持 cookie设置HttpOnly,Servlet3.0支持</div><div class="line">		        //2.客户端添加Cookie</div><div class="line">		        httpresponse.addCookie(myCookie);</div><div class="line">	</div><div class="line">		        //3.读取客户端Cookie</div><div class="line">		        Cookie[] cookies = httprequest.getCookies();</div><div class="line">		        for(int i = 0;i &lt; cookies.length;i++)&#123;</div><div class="line">		            System.out.println(&quot;Cookie\n名字:&quot; + cookies[i].getName() +</div><div class="line">		                                &quot;\n值:&quot; + cookies[i].getValue());</div><div class="line">	</div><div class="line">		            //可选删除指定Cookie</div><div class="line">		            if(&quot;myCookie&quot;.equals(cookies[i].getName()))&#123;</div><div class="line">		                cookies[i].setMaxAge(0);                    //有效期设置为0</div><div class="line">		                httpresponse.addCookie(cookies[i]);            //将cookie重新添加到响应头中</div><div class="line">		            &#125;</div><div class="line">		        &#125;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">		&#125;</div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;web.xml配置</div><div class="line">	&lt;filter&gt;</div><div class="line">		&lt;filter-name&gt;过滤器名字&lt;/filter-name&gt;</div><div class="line">		&lt;filter-class&gt;过滤器类&lt;/filter-class&gt;</div><div class="line">		&lt;init-param&gt;</div><div class="line">			&lt;description&gt;描述信息【可省略】&lt;/description&gt;</div><div class="line">			&lt;param-name&gt;参数名&lt;/param-name&gt;</div><div class="line">			&lt;param-value&gt;参数值&lt;/param-value&gt;</div><div class="line">		&lt;/init-param&gt;</div><div class="line">		&lt;init-param&gt;</div><div class="line">	        &lt;param-name&gt;参数名2&lt;/param-name</div><div class="line">	        &lt;param-value&gt;参数值2&lt;/param-value&gt;</div><div class="line">	    &lt;/init-param&gt;</div><div class="line">	&lt;/filter&gt;</div><div class="line">	&lt;filter-mapping&gt;</div><div class="line">		&lt;filter-name&gt;过滤器名&lt;/filter-name&gt;</div><div class="line">		&lt;url-pattern&gt;URL正则路径&lt;/url-pattern&gt; &lt;!--设置 filter 所拦截的请求路径(过滤器关联的URL)  /*[路径映射],*.[扩展],/[default servlet]--&gt;</div><div class="line">		&lt;dispatcher&gt;&lt;/dispatcher&gt;&lt;!--过滤器分类(四种过滤器),可以设置的值:REQUEST,INCLUDE,FORWARD,ERROR--&gt;</div><div class="line">	&lt;/filter-mapping&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<hr>
<p><br><br></p>
<h2 id="18-4-监听器"><a href="#18-4-监听器" class="headerlink" title="18_4.监听器"></a>18_4.监听器</h2><p>定义</p>
<ul>
<li>Servlet规范中定义的一种特殊类</li>
<li>用于监听ServletContext,HttpSession和ServletRequest等域对象的创建与销毁事件</li>
<li>用于监听域对象的属性发生修改的事件</li>
<li>可以在事件发生前,发生后做一些必要的处理<br><br></li>
</ul>
<p>监听器顺序与优先级</p>
<ul>
<li>【顺序】安装监听器在web.xml的注册顺序进行加载</li>
<li>【优先级】监听器 &gt; 过滤器 &gt; Servlet</li>
<li>Servlet2.5中监听器顺序是按照注册顺序,Servlet3.0中无法决定顺序<br><br></li>
</ul>
<p>监听器分类</p>
<ul>
<li>对象划分</li>
<li>事件划分<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;对象划分</div><div class="line">	a.用于监听应用程序环境对象(ServletContext)的事件监听器</div><div class="line">	b.用于监听用户会话对象(HttpSession)的事件监听器</div><div class="line">	c.用于监听请求消息对象(ServletRequest)的事件监听器</div><div class="line"></div><div class="line">&lt;2&gt;事件划分</div><div class="line">	a.监听域对象自身的创建和销毁</div><div class="line">		ServletContext【唯1】  ——&gt;  ServletContextListener【n个】</div><div class="line">			用途:定时器,全局属性对象</div><div class="line">		HttpSession【唯1】   ——&gt; 	HttpSessionListener【n个】</div><div class="line">			用途：统计在线人数,记录访问日志</div><div class="line">		ServletRequest【唯1】 ——&gt;  ServletRequestListener【n个】</div><div class="line">			用途:读取request参数,记录访问历史</div><div class="line">	</div><div class="line">	b.监听域对象中的属性的增加和删除【不同作用域的属性进行添加,替换(当属性已经存在时,再次添加,则进行替换),移除时调用指定监听器】</div><div class="line">		ServletContext   ——&gt;  ServletContextAttributeListener</div><div class="line">		HttpSession  ——&gt;  HttpSessionAttributeListener</div><div class="line">		ServletRequest ——&gt;  ServletRequestAttributeListener</div><div class="line">	</div><div class="line">	c.监听绑定到HttpSession域的某个对象状态【注意:下面两个监听器不需要在web.xml文件中注册,要进行钝化活化,监听器还得实现Serializable(序列化)接口】</div><div class="line">		HttpSessionBindingListener</div><div class="line">			valueBound(绑定)  ——&gt; valueUnbound(解除钝化)</div><div class="line">		HttpSessionActivationListener</div><div class="line">			sessionWillPassivate(钝化)  ——&gt; sessionDidActivate(活化)</div><div class="line">	</div><div class="line">		session钝化机制本质是【由SessionManager管理】:</div><div class="line">			将服务器不经常使用的session对象暂时序列化到系统文件or数据库系统中,当需要使用时则反序列化到服务器内存中,整个过程由服务器自动完成</div></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<p>Tomcat中有两种Session钝化管理器<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;org.apache.catalina.session.StandaradManager</div><div class="line">		(1)当Tomcat服务器被关闭or重启时,tomcat服务器会将当前内存中的Session对象钝化到服务器文件系统中</div><div class="line">		(2)另一种情况是Web应用程序被重新加载时,内存中的Session对象也会被钝化到服务器的文件系统中</div><div class="line">		(3)钝化后的文件被保存在Tomcat的指定路径[/work/Catalina/hostname/application/SESSION.ser]</div><div class="line"></div><div class="line">&lt;2&gt;org.apache.catalina.session.Persistentmanager</div><div class="line">		(1)首先在钝化的基础上进行了扩张。第一种如上1,第二种如上2.第三种情况,可以配置主流内存的Session对象数目,将不常使用的Session对象保存到文件系统or数据库,需要用时再重新加载</div><div class="line">		(2)默认情况下,Tomcat提供两种钝化驱动类</div><div class="line">		(3)org.apache.Catalina.FileStore和org.apache.Catalina.JDBCStore</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>监听器实例</p>
<ul>
<li>程序代码</li>
<li>配置web.xml<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;程序代码</div><div class="line">	/*ServletContextListener监听器*/</div><div class="line">	public class MyServletContext implements ServletContextListener&#123;</div><div class="line">	</div><div class="line">		/*web容器启动时调用-初始化*/</div><div class="line">		public void contextInitialized(ServletContextEvenet servletcontextevent)&#123;</div><div class="line">			//获取当前应用ServletContext对象,然后获取web.xml的初始化值</div><div class="line">			String initParam = servletcontextevent.getServletContext().getInitParameter(&quot;initParam&quot;);</div><div class="line">		&#125;</div><div class="line">	</div><div class="line">		/*web容器关闭时调用-销毁*/</div><div class="line">		public void contextDestroyed(ServletContextEvent servletcontextevent)&#123;</div><div class="line"> 			//释放资源操作</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line"></div><div class="line">	/*HttpSessionListener监听器*/</div><div class="line">	public class MyHttpSession implements HttpSessionListener&#123;</div><div class="line">		public void sessionCreated(HttpSessionEvent httpsessionevent)&#123;</div><div class="line">	</div><div class="line">		&#125;</div><div class="line">	</div><div class="line">		/*</div><div class="line">		 * 销毁的三种场景</div><div class="line">		 *    1.关闭服务器</div><div class="line">		 *    2.关闭浏览器一段时间,直到session过期</div><div class="line">		 *    3.不关闭浏览器,session超时</div><div class="line">		 */</div><div class="line">		public void sessionDestroyed(HttpSessionEvent httpsessionevent)&#123;</div><div class="line">	</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line"></div><div class="line">	/*ServletRequestListener监听器*/</div><div class="line">	public class MyServletRequest extends ServletRequestListener&#123;</div><div class="line">		/*监听每一个用户请求*/</div><div class="line">		public void requestInitialized(ServletRequestEvent servletreqeustevent)&#123;</div><div class="line">			//获取请求参数</div><div class="line">			String username = servletrequestevent.getServletRequest().getParameter(&quot;name&quot;);</div><div class="line">		&#125;</div><div class="line">	</div><div class="line">		/*用户请求结束后,自动销毁*/</div><div class="line">		public void requestDestroy(ServletRequestEvenet servletrequestevent)&#123;</div><div class="line">	</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&lt;2&gt;配置web.xml</div><div class="line">	&lt;web-app&gt;</div><div class="line">		....</div><div class="line">	</div><div class="line">		&lt;!--监听器--&gt;</div><div class="line">		&lt;listener&gt;</div><div class="line">			&lt;listener-class&gt;com.my.MyServletContext&lt;/listener-class&gt;</div><div class="line">		&lt;/listener&gt;</div><div class="line">		&lt;listener&gt;</div><div class="line">			&lt;listener-class&gt;com.my.MyHttpSession&lt;/listener-class&gt;</div><div class="line">		&lt;/listener&gt;</div><div class="line">		&lt;listener&gt;</div><div class="line">			&lt;listener-class&gt;com.my.MyServletRequest&lt;/listener-class&gt;</div><div class="line">		&lt;/listener&gt;</div><div class="line">	</div><div class="line">		&lt;!--session超时限制 --&gt;</div><div class="line">		&lt;session-config&gt;</div><div class="line">			&lt;session-timeout&gt;1&lt;/session-timeout&gt;</div><div class="line">		&lt;/session-config&gt;</div><div class="line">		&lt;!--初始化参数--&gt;</div><div class="line">		context-param&gt;</div><div class="line">			&lt;param-name&gt;initParam&lt;/param-name&gt;</div><div class="line">			&lt;param-value&gt;初始化值&lt;/param-value&gt;</div><div class="line">		&lt;/context-param&gt;</div><div class="line">	</div><div class="line">	&lt;/web-app&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<hr>
<p><br><br></p>
<h2 id="18-5-JSTL标签"><a href="#18-5-JSTL标签" class="headerlink" title="18_5.JSTL标签"></a>18_5.JSTL标签</h2><p>&emsp;JSTL是java中的一个定制标记库集,实现了JSP页面中的代码复用(基于标签库原理,重复率较高的代码块支持复用,提高效率),书写JSP页面时可读性更强(类似于xml,方便前端查看和参与开发)<br><br></p>
<p>参考资料</p>
<ul>
<li><a href="http://archive.apache.org/dist/jakarta/taglibs/standard/binaries/" target="_blank" rel="external">下载JSTL</a><br><br></li>
</ul>
<p>EL表达式【全称Expression Language】</p>
<ul>
<li>写法比较</li>
<li>格式</li>
<li>运算符”.”和”[]”</li>
<li>EL变量</li>
<li>类型转换 </li>
<li>EL隐式对象</li>
<li>支持的运算符<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;写法比较</div><div class="line">	普通: &lt;%=session.getValue(&quot;name&quot;) %&gt;</div><div class="line">	EL表达式: &lt;c:out value=&quot;$&#123;sessionScope.name&#125;&quot; /&gt;</div><div class="line"></div><div class="line">&lt;2&gt;格式: $&#123;表达式&#125;</div><div class="line"></div><div class="line"></div><div class="line">&lt;3&gt;运算符&quot;.&quot;和&quot;[]&quot;</div><div class="line">	a.$&#123;user.sex&#125; 等同于 $&#123;user[&quot;sex&quot;]&#125;</div><div class="line">		(1)包含特殊符号时不能等同,只用一种写法$&#123;user[&quot;first-name&quot;]&#125;</div><div class="line">		(2)通过变量动态取值时【param可以是sex.price,之类各种传入值】</div><div class="line">				$&#123;user[param]&#125;</div><div class="line">	</div><div class="line">	b.&quot;[]&quot;的另一种用法,定位集合中某元素</div><div class="line">		$&#123;booklist[0].price&#125;</div><div class="line"></div><div class="line"></div><div class="line">&lt;4&gt;EL变量</div><div class="line">	JSP内置对象    ~~   EL变量</div><div class="line">	Page                 PageScope</div><div class="line">	Request 			 RequestScope</div><div class="line">	Session 			 SessionScope</div><div class="line">	Application 		 Application</div><div class="line">	</div><div class="line">	注:</div><div class="line">		如果使用时未限制作用域,例:$&#123;username&#125;</div><div class="line">		则会在Page ——&gt; Request ——&gt; Session ——&gt; Application 依次寻找</div><div class="line">		【如果找不到不会输出null,而会输出一个空字符串】</div><div class="line"></div><div class="line"></div><div class="line">&lt;5&gt;类型转换</div><div class="line">	由String变为int类型</div><div class="line">		$&#123;param.count + 20&#125; </div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;6&gt;EL隐式对象</div><div class="line">	pageContext</div><div class="line">	pageScope</div><div class="line">	requetsScope</div><div class="line">	sessionScope</div><div class="line">	applicationScope</div><div class="line">	param</div><div class="line">	paramValues</div><div class="line">	Header</div><div class="line">	headerValues</div><div class="line">	cookie</div><div class="line">	initParam</div><div class="line"></div><div class="line"></div><div class="line">&lt;7&gt;支持的运算符</div><div class="line">	算术运算符</div><div class="line">	关系运算符</div><div class="line">	逻辑运算符</div><div class="line">	验证运算符 empty  【判断表达式是否为null,返回true or false,】</div><div class="line">		例:$&#123;empty username&#125;  &quot;&quot;~空字符串也返回true</div></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<p>四种JSTL标签</p>
<ul>
<li>核心标签</li>
<li>格式化标签</li>
<li>SQL标签</li>
<li>XML标签<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;核心标签</div><div class="line"></div><div class="line">	导入核心库:</div><div class="line">		&lt;%@ taglib prefix=&quot;c&quot; url=&quot;http://java.sun.com/jsp.jstl/core&quot;%&gt;</div><div class="line">	</div><div class="line">	a.表达式控制标签 out set remove catch</div><div class="line">			&lt;c:out value=&quot;输出常量&quot;&gt;&lt;/c:out&gt;</div><div class="line">			&lt;c:out value=&quot;$&#123;输出变量&#125;&quot; default=&quot;默认值&quot;&gt;&lt;/cout&gt;</div><div class="line">			&lt;c:out value=&quot;&amp;ltout标签&amp;gt--转义&quot; escapeXml=&quot;false&quot;&gt;&lt;/c:out&gt;</div><div class="line">	</div><div class="line">			&lt;c:set var=&quot;变量名&quot; value=&quot;变量值&quot;  scope=&quot;作用域&quot;&gt;&lt;/c:set&gt;</div><div class="line">			&lt;c:set var=&quot;变量名&quot; scope=&quot;作用域&quot;&gt;变量值&lt;/c:set&gt;</div><div class="line">			&lt;jsp:useBean id=&quot;person&quot; class=&quot;com.my.Person&quot;&gt;&lt;/jsp:userBean&gt;</div><div class="line">			&lt;c:set target=&quot;$&#123;person&#125;&quot; property=&quot;name&quot;  value=&quot;小明&quot;&gt;&lt;/c:set&gt;</div><div class="line">			&lt;c:set target=&quot;$&#123;person&#125;&quot; property=&quot;age&quot;&gt;18&lt;/c:set&gt;</div><div class="line">	</div><div class="line">			&lt;c:remove var=&quot;变量&quot;/&gt;</div><div class="line">	</div><div class="line">			&lt;!--可包含容易出错的JSTL标签(逻辑)--&gt;</div><div class="line">			&lt;c:catch var=&quot;error&quot;&gt;</div><div class="line">				&lt;c:set target=&quot;aa&quot; property=&quot;bb&quot;&gt;测试&lt;/c:set&gt;\</div><div class="line">			&lt;/c:catch&gt;</div><div class="line">			&lt;c:out value=&quot;error&quot;&gt;&lt;/c:out&gt;【顶部没有定义aa对象,所以会输出报错信息】</div><div class="line"></div><div class="line"></div><div class="line">	b.流程控制标签 if choose when otherwise</div><div class="line">			&lt;c:if test=&quot;判断条件(一般用EL表达式编写)&quot; var=&quot;指定名称,存放true or false&quot; scope=&quot;var属性存放作用域&quot;&gt;&lt;/c:if&gt;</div><div class="line">			&lt;c:if test=&quot;&#123;param.scope &gt;= 90&quot; var=&quot;result&quot; scope=&quot;application&quot;&gt;</div><div class="line">				&lt;c:out value=&quot;成绩优秀&quot;&gt;&lt;/c:out&gt;</div><div class="line">			&lt;/c:if&gt;</div><div class="line">			&lt;c:out value=&quot;$&#123;aplicationScope.result&#125;&quot;&gt;&lt;/c:out&gt;</div><div class="line">	</div><div class="line">			&lt;!--类似if-else结构,otherwise可写可不写 --&gt;</div><div class="line">			&lt;c:choose&gt;</div><div class="line">				&lt;c:when test=&quot;$&#123;param.scope &gt;= 90 &amp;&amp; param.scope&lt;=100&#125;&quot;&gt;</div><div class="line">						...</div><div class="line">				&lt;/c:when&gt;</div><div class="line">				&lt;c:when test=&quot;&quot;&gt;</div><div class="line">						...</div><div class="line">				&lt;/c:when&gt;</div><div class="line">				&lt;c:otherwise&gt;</div><div class="line">					...</div><div class="line">				&lt;/c:otherwise&gt;</div><div class="line">			&lt;/:c:choose&gt;</div><div class="line"></div><div class="line"></div><div class="line">	c.循环标签 forEach forTokens</div><div class="line">			&lt;c:forEach items=&quot;待遍历集合&quot; var=&quot;当前元素的变量&quot;&gt;</div><div class="line">				...</div><div class="line">			&lt;/c:forEach&gt;</div><div class="line">			&lt;c:forEach item=&quot;userlist&quot; var=&quot;user&quot;</div><div class="line">						begin=&quot;开始遍历的index值&quot;</div><div class="line">						end=&quot;结束遍历的index值&quot;</div><div class="line">						step=&quot;遍历间隔(步长)&quot;</div><div class="line">						varStatus=&quot;指定变量,储存当前元素状态(first,index,count,last)&quot;&gt;</div><div class="line">				...</div><div class="line">			&lt;/c:forEach&gt;</div><div class="line">	</div><div class="line">			&lt;!--浏览字符串,并根据指定字符将字符串截取--&gt;</div><div class="line">			&lt;c:forTokens items=&quot;被迭代的字符串&quot; delims=&quot;指定分隔符&quot; 	var=&quot;分隔后的变量&quot;</div><div class="line">				begin=&quot;开始索引&quot;</div><div class="line">				end=&quot;结束索引&quot;</div><div class="line">				step=&quot;遍历间隔&quot;</div><div class="line">				varStatus=&quot;指定变量,储存当前元素状态(first,index,count,last)&quot;</div><div class="line">			&gt;</div><div class="line">				...</div><div class="line">			&lt;/c:forTokens&gt;</div><div class="line">	</div><div class="line">	d.URL操作标签 import url redirect</div><div class="line">	</div><div class="line">			&lt;!--</div><div class="line">				可以把其他静态 or 动态文件包含到本JSP页面</div><div class="line">					注意:</div><div class="line">						(1)&lt;jsp:include&gt;只能包含同一个web应用的文件</div><div class="line">						    &lt;c:import&gt;可以包含其他web应用中的文件,甚至网络上的</div><div class="line">						(2)使用context引入其他项目的文件</div><div class="line">							a.要修改Tomcat的发布路径</div><div class="line">							b.要修改%TOMCAT_HOME%/cof/context/xml的Context标签中的属性</div><div class="line">								crossContext=&quot;true&quot;</div><div class="line">			--&gt;</div><div class="line">			&lt;c:import url=&quot;被导入资源的URL路径&quot;</div><div class="line">					  context=&quot;相同服务器下其他web工程(必须以\开头)&quot;</div><div class="line">					  scope=&quot;作用域&quot;</div><div class="line">					  charEncoding=&quot;编码字符集&quot;</div><div class="line">					  var=&quot;以String类型存入被包含文件内容&quot;</div><div class="line">					  varReader=&quot;以Reader类型存储包含文件内容&quot;&gt;</div><div class="line">				...</div><div class="line">			&lt;/c:import&gt;</div><div class="line">			&lt;c:import url=&quot;text.txt&quot; var=&quot;tt&quot; scope=&quot;session&quot; charEncoding=&quot;gbk&quot;&gt;&lt;/c:import&gt;</div><div class="line">			&lt;c:import url=&quot;/importFile.jsp&quot; context=&quot;/AnotherWebProject&quot;&gt;&lt;/c:import&gt;</div><div class="line"></div><div class="line"></div><div class="line">			&lt;!-- url标签,动态生成一个String类型的URL,可以用&lt;c:param&gt;标签共同使用也可以使用html的&lt;a&gt;实现超链--&gt;	</div><div class="line">			&lt;c:url value=&quot;url路径值&quot; </div><div class="line">					var=&quot;将url路径储存在变量中&quot;</div><div class="line">					scope=&quot;作用域&quot; /&gt;</div><div class="line">			&lt;/url&gt;</div><div class="line"></div><div class="line"></div><div class="line">			&lt;!--请求重定向 --&gt;</div><div class="line">			&lt;c:redirect url=&quot;重定向地址&quot; context=&quot;用于导入其他web应用中的页面&quot;&gt;&lt;/c:redirec&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<p>JSTL函数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">导入函数库</div><div class="line">	&lt;%@ taglib prefix=&quot;fn&quot; url=&quot;http://java.sun.com/jsp/jstl/functions&quot; %&gt;</div><div class="line"></div><div class="line">使用</div><div class="line">	&lt;:out value=&quot;在指定字符串中是否包含——————————$&#123;fn.contains(&apos;整个字符串是否包含啥&apos;,&apos;啥&apos;)&#125;&quot;&gt;&lt;/c:out&gt;</div><div class="line"></div><div class="line">	$&#123;fn.contains(&apos;整个字符串是否包含啥&apos;,&apos;啥&apos;)&#125;</div><div class="line">	$&#123;fn.containsIgoreCase(&apos;哈哈哈你好,Hello World&apos;,&apos;hello&apos;)&#125;    //忽略大小写</div><div class="line">	$&#123;fn.endsWith(&quot;不懂&quot;,&quot;董&quot;)&#125;									 //判断是否以指定字符结尾</div><div class="line">	</div><div class="line">	$&#123;fn.escapeXml(&apos;&lt;book&gt;冰与火之歌&lt;/book&gt;&apos;)&#125;&quot;&gt;&lt;/c:out&gt;         //输出$it;book$gt...,输出未转义的</div><div class="line">	$&#123;fn.indexOf(&apos;哈哈哈,KKKK&apos;,&apos;K&apos;)&#125;              				 //输出字符索引</div><div class="line"></div><div class="line"></div><div class="line">	fn:length()  			//字符长度</div><div class="line">	fn:replace() 			//替换</div><div class="line">	fn:split()   			//分隔成数组</div><div class="line">	fn:startsWitth() 		//是否以指定字符开头</div><div class="line">	fn:substring()  		//字符串截取</div><div class="line">	fn:toLowerCase()  		//变小写</div><div class="line">	fn:totoUpperCase() 		//变大写</div><div class="line">	fn:trim()          		//首尾去空格</div></pre></td></tr></table></figure></p>
<p><br></p>
<hr>
<p><br><br></p>
<h2 id="18-6-JSP自定义标签"><a href="#18-6-JSP自定义标签" class="headerlink" title="18_6.JSP自定义标签"></a>18_6.JSP自定义标签</h2><p>TagSupport类【自定义标签】</p>
<ul>
<li>标签处理类</li>
<li>标签库描述文件(.tld)中注册标签</li>
<li>在jsp文件中使用自定义标签<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;标签处理类【编写标签处理类,继承TagSupport,一般一个标签对应一个类】</div><div class="line">		public class LoginDateTag extends TagSupport&#123;</div><div class="line"></div><div class="line">			//D.【标签属性】类中添加全局变量,并添加Getter和Setter方法,在标签库文件注册</div><div class="line">			private String value = &quot;&quot;;</div><div class="line">			private String name =&quot;&quot;;</div><div class="line">	</div><div class="line">			//Getter</div><div class="line">			public String getValue()&#123;</div><div class="line">				return value;</div><div class="line">			&#125;</div><div class="line">			public String getName()&#123;</div><div class="line">				return name;</div><div class="line">			&#125;</div><div class="line">			//Setter</div><div class="line">			public void setValue(String value)&#123;</div><div class="line">				this.value = value;</div><div class="line">			&#125;</div><div class="line">			public void setName(String name)&#123;</div><div class="line">				this.name = name;</div><div class="line">			&#125;</div><div class="line">	</div><div class="line">			//用于遍历</div><div class="line">			private String [] items;   //遍历数组</div><div class="line">			private int i; 			   //用于定位索引</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">			/*开始标签则调用*/</div><div class="line">			@Override</div><div class="line">			public int doStartTag() throws jspException&#123;</div><div class="line">				//A.记录登录时间</div><div class="line">				SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MMM-dd HH:mm:ss&quot;);</div><div class="line">				String date = sdf.format(new Date());</div><div class="line">				try&#123;</div><div class="line">					pageContext.getOut().print(date);	//打印输出</div><div class="line">				&#125;catch(IOException e)&#123;&#125;</div><div class="line"></div><div class="line"></div><div class="line">				//B.流程控制【两种合法返回值】</div><div class="line">				String name  = pageContext.getRequest().getParameter(&quot;name&quot;);//请求参数</div><div class="line">				if(name != null &amp;&amp; name.equals(&quot;小明&quot;))&#123;</div><div class="line">						return EVAL_BODY_INCLUDE;	//显示标签体文字</div><div class="line">				&#125;else&#123;</div><div class="line">						return SKIP_BODY;			//不显示标签体文字</div><div class="line">				&#125;</div><div class="line"></div><div class="line"></div><div class="line">				//E.遍历(初次循环)</div><div class="line">				if(items != null &amp;&amp; items.length &gt; 0)&#123;</div><div class="line">						pageContext.setAttribute(&quot;name&quot;,items[0]);</div><div class="line">						return EVAL_BODY_INCLUDE;  //执行标签体</div><div class="line">				&#125;else&#123;</div><div class="line">						return SKIP_BODY;   //不执行标签体</div><div class="line">				&#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">				return super.doStartTag();//不执行标签体即是:SKIP_BODY常量</div><div class="line">			&#125;;</div><div class="line"></div><div class="line"></div><div class="line">			/*结束标签时调用*/</div><div class="line">			@Override </div><div class="line">			public int doEndTag() throws JspException&#123; </div><div class="line"></div><div class="line"></div><div class="line">				//C.防盗链(只能通过超链接访问)【两种合法返回值】</div><div class="line">				HttpServletRequest request = (HttpServletRequest)pageContext.getRequest();</div><div class="line">	</div><div class="line">				String referer = request.getHeader(&quot;referer&quot;);//HTTP请求头的属性,可以通过该属性判断用户从哪个页面连接过来,只有通过超链接 or 表单提交方式,该属性才有效</div><div class="line">				String url = &quot;http://&quot; + request.getServerName();</div><div class="line">	</div><div class="line">				if(referer!= null &amp;&amp; referer.startsWith(url))&#123;  //超链接 &amp;&amp; 通过本站的链接</div><div class="line">					return EVAL_PAGE;	//执行该标签后的JSP网页</div><div class="line">				&#125;else&#123;</div><div class="line">	</div><div class="line">					//否则不能访问</div><div class="line">					try&#123;</div><div class="line"> 						pageContext.getOut();print(&quot;不能访问&quot;);</div><div class="line">					&#125;catch(IOException e)&#123;&#125;</div><div class="line"></div><div class="line">					return SKIP_BODY;	//不执行后续JSP网页</div><div class="line">				&#125;</div><div class="line"></div><div class="line"></div><div class="line">				return super.doEndTag();//执行标签后的内容,返回EVAL_PAGE常量</div><div class="line">			&#125;</div><div class="line"></div><div class="line"></div><div class="line">			/*执行完标签体后执行*/</div><div class="line"> 			@Override</div><div class="line">			public int doAfterBody() throws JspException&#123;</div><div class="line"></div><div class="line">				/*E.遍历</div><div class="line">					【两个合法返回值】EVAL_BODY_AGAIN(再显示标签间文字)SKIP_BODY(执行标签后的下一步)</div><div class="line">	</div><div class="line">					jsp页面中:</div><div class="line">						&lt;%</div><div class="line">							 String [] list = &#123;&quot;1&quot;,&quot;2&quot;,&quot;3&quot;&#125;;</div><div class="line">							 pageContext.setAttribute(&quot;list&quot;,list);</div><div class="line">						%&gt;</div><div class="line">						&lt;my:list items=&quot;$&#123;list&#125;&quot;&gt;</div><div class="line">							$&#123;name&#125;</div><div class="line">						&lt;/my:list&gt;</div><div class="line">				*/</div><div class="line"></div><div class="line"></div><div class="line">				 if(i &lt; items.length)&#123;</div><div class="line">				 	pageContext.setAttribute(&quot;name&quot;,items[i]);</div><div class="line">				 	i++;</div><div class="line">				 	return EVAL_BODY_AGAIN;//再次执行标签体</div><div class="line">				 &#125;else&#123;</div><div class="line">				 	return SKIP_BODY;</div><div class="line">				 &#125;</div><div class="line">	</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;标签库描述文件(.tld)中注册标签【可以参考Tomcat目录下的\webapps\examples\WEB-INF\jsp2\jsp2-example-taglib.tld】</div><div class="line">		&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</div><div class="line">		&lt;taglib xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot;</div><div class="line">			xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</div><div class="line">			xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-jsptaglibrary_2_0.xsd&quot;</div><div class="line">			version=&quot;2.0&quot;&gt;</div><div class="line">		    &lt;description&gt;A tag library exercising SimpleTag handlers.&lt;/description&gt;</div><div class="line">		    &lt;tlib-version&gt;1.0&lt;/tlib-version&gt;</div><div class="line">		    &lt;short-name&gt;SimpleTagLibrary&lt;/short-name&gt;</div><div class="line">		    &lt;uri&gt;/studyJSPTag&lt;/uri&gt;</div><div class="line">		    &lt;tag&gt;</div><div class="line">		        &lt;description&gt;描述&lt;/description&gt;</div><div class="line">		        &lt;name&gt;loginDate&lt;/name&gt;&lt;!--标签名(相当于类名)--&gt;</div><div class="line">		        &lt;tag-class&gt;com.my.LoginDateTag&lt;/tag-class&gt;</div><div class="line">		        &lt;body-content&gt;empty&lt;/body-content&gt;&lt;!--空标签体--&gt;</div><div class="line">		    &lt;/tag&gt;</div><div class="line">		     &lt;tag&gt;</div><div class="line">		        &lt;name&gt;study&lt;/name&gt;&lt;</div><div class="line">		        &lt;tag-class&gt;com.my.Study&lt;/tag-class&gt;</div><div class="line">		        &lt;body-content&gt;scriptless&lt;/body-content&gt;&lt;!--有内容标签体--&gt;</div><div class="line">		    &lt;/tag&gt;</div><div class="line">		    &lt;tag&gt;</div><div class="line">		        &lt;name&gt;user&lt;/name&gt;&lt;</div><div class="line">		        &lt;tag-class&gt;com.my.User&lt;/tag-class&gt;</div><div class="line">		        &lt;body-content&gt;empty&lt;/body-content&gt;&lt;!--有内容标签体--&gt;</div><div class="line">		        &lt;attribute&gt; &lt;!--标签属性--&gt;</div><div class="line">		        	&lt;name&gt;value&lt;/name&gt;</div><div class="line">		        	&lt;required&gt;true&lt;/required&gt;</div><div class="line">		        	&lt;rtexprvalue&gt;true&lt;/rtexprvalue&gt;&lt;!--表示能在运行时接收表达式的值 --&gt;</div><div class="line">		        &lt;/attribute&gt;</div><div class="line">		         &lt;attribute&gt;</div><div class="line">		        	&lt;name&gt;name&lt;/name&gt;</div><div class="line">		        	&lt;required&gt;true&lt;/required&gt;</div><div class="line">		        	&lt;rtexprvalue&gt;true&lt;/rtexprvalue&gt;</div><div class="line">		        &lt;/attribute&gt;</div><div class="line">		    &lt;/tag&gt;</div><div class="line">		     &lt;tag&gt;</div><div class="line">		        &lt;name&gt;list&lt;/name&gt;&lt;</div><div class="line">		        &lt;tag-class&gt;com.my.List&lt;/tag-class&gt;</div><div class="line">		        &lt;body-content&gt;scriptless&lt;/body-content&gt;</div><div class="line">		        &lt;attribute&gt; &lt;!--标签属性--&gt;</div><div class="line">		        	&lt;name&gt;items&lt;/name&gt;</div><div class="line">		        	&lt;required&gt;true&lt;/required&gt;</div><div class="line">		        	&lt;rtexprvalue&gt;true&lt;/rtexprvalue&gt;m</div><div class="line">		        &lt;/attribute&gt;</div><div class="line">		    &lt;/tag&gt;</div><div class="line">		 &lt;/taglib&gt;</div><div class="line"></div><div class="line"></div><div class="line">	将该标签库描述文件放到WEB-INF 或者其子目录下</div><div class="line"></div><div class="line"></div><div class="line">&lt;3&gt;在jsp文件中使用自定义标签</div><div class="line">		a.导入</div><div class="line">			&lt;%@ taglib prefix=&quot;my&quot; uri=&quot;/studyJSPTag&quot; %&gt;</div><div class="line">	</div><div class="line">		b.代码调用</div><div class="line">			&lt;my:loginDate /&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<p>BodyTagSupport类【BodyTag接口的实现类,将标签体中的执行结果,修改后输出】</p>
<ul>
<li>修改标签体的字符串<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;修改标签体的字符串</div><div class="line">		public class MyBodyTagSupport extends BodyTagSupport&#123;</div><div class="line">			private BodyContent body bodyContet;</div><div class="line">	</div><div class="line">			@Override</div><div class="line">			public void setBodyContent(BodyContent b)&#123;</div><div class="line">				this.bodyContent = b;</div><div class="line">			&#125;</div><div class="line">	</div><div class="line">			@Override</div><div class="line">			public int doEndTag() throws JspException&#123;</div><div class="line">				//A.获取标签体内容,然后修改</div><div class="line">				String content = bodyContent.getString();</div><div class="line">				System.out.println(&quot;原标签体内容&quot; + content);</div><div class="line">	</div><div class="line">				String newContent = &quot;学习&quot;;</div><div class="line">				JspWriter jspWriter = bodyContent.getEnclosingWriter();</div><div class="line">				try&#123;</div><div class="line">					jspWriter.write(newContent); //修改标签内容</div><div class="line">				&#125;catch(Exception e)&#123;&#125;</div><div class="line">			&#125;</div><div class="line">	</div><div class="line">			return EVAL_PAGE;//执行后续JSP网页</div><div class="line">		&#125;</div><div class="line">	</div><div class="line">		************************************************************************</div><div class="line">		在标签库中注册</div><div class="line">			&lt;tag&gt;</div><div class="line">				&lt;name&gt;bodyTag&lt;/name&gt;</div><div class="line">				&lt;tag-class&gt;com.my.MyBodyTagSupport&lt;/tag-class&gt;</div><div class="line">				&lt;body-content&gt;scriptless&lt;/body-content&gt;</div><div class="line">			&lt;/tag&gt;</div><div class="line">		************************************************************************</div><div class="line">		在页面中调用</div><div class="line">			&lt;%@ taglib prefix=&quot;my&quot; uri=&quot;/my-tag&quot; %&gt;</div><div class="line">	</div><div class="line">			&lt;my:bodyTag&gt;</div><div class="line">				学习</div><div class="line">			&lt;/my:bodyTag&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<p>SimpleTagSupport类【SimpleTag接口的实现类,用于快速开发自定义标签】<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line">public class MySimple extends SimpleTagSupport&#123;</div><div class="line"></div><div class="line">	private String [] items;</div><div class="line">	private String name;</div><div class="line">	</div><div class="line">	public void setItems(String [] items)&#123; //页面的setter方法都是由容器调用,将属性值填入指定属性</div><div class="line">		this.items = items;</div><div class="line">	&#125;</div><div class="line">	public void setName(String name)&#123;</div><div class="line">		this.name = name;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	@Override</div><div class="line">	public void doTag() throws JspException,IOException&#123;</div><div class="line">	</div><div class="line">		//A.输出时间</div><div class="line">		SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);</div><div class="line">		String date = sdf.format(new Date());</div><div class="line">		JspWriter jspWriter = getJspContext().getOut();</div><div class="line">		jspWriter.writer(date);</div><div class="line"></div><div class="line"></div><div class="line">		//B.判断是否显示标签体</div><div class="line">		PageContext pageContext = (PageContext)getJspContext();</div><div class="line">		String name = pageContext.getRequest().getParameter(&quot;name&quot;);</div><div class="line">		if(name != null &amp;&amp; name.equals(&quot;小明&quot;))&#123;</div><div class="line">			getJspBody().invoke(null);//显示标签体</div><div class="line">		&#125;else&#123;</div><div class="line">			super.doTag();//不显示标签体</div><div class="line">		&#125;</div><div class="line">	</div><div class="line">		//C.是否继续执行剩余JSP内容</div><div class="line">		PageContext pageContext = (PageContext)getJspContext();</div><div class="line">		HttpServletRequest request = (HttpServletRequest)pageContext.getRequest();</div><div class="line">		String referer = request.getHeader(&quot;referer&quot;);</div><div class="line">		if(referer == null)&#123;</div><div class="line">			throw new SkipPageException();</div><div class="line">		&#125;</div><div class="line"></div><div class="line"></div><div class="line">		//D.循环遍历</div><div class="line">		if(item != null &amp;&amp; items.length &gt; 0)&#123;</div><div class="line">			PageContext.pageContext = (PageContext)getJspContext();</div><div class="line">			for(int i = 0; i &lt; items.length;i++)&#123;</div><div class="line">				pageContext.setAttribute(name,items[i]);</div><div class="line">				getJspBody().invoke(null);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	</div><div class="line">		//E.修改标签内容</div><div class="line">		StringWriter sw = new StringWriter(); //构建缓冲区</div><div class="line">		JspFragment jspFragment = getJspBody();  //标签体中内容</div><div class="line">		jspFragment.invoke(sw); //将数据写到缓冲区中</div><div class="line">		String content = stringWriter.toString();</div><div class="line">		content = &quot;hello&quot;;</div><div class="line">		PageContext pageContext = (PageContext)getJspContext();</div><div class="line">		pageContext.getOut().write(content);</div><div class="line">	</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><br></p>
<hr>
<p><br><br></p>
<h2 id="19-JSON数据处理"><a href="#19-JSON数据处理" class="headerlink" title="19.JSON数据处理"></a>19.JSON数据处理</h2><p>&emsp;与开发语言无关的,轻量级的数据格式。全称(JavaScript Object Notation),易于解析和生成<br><br></p>
<p>参考资料</p>
<ul>
<li><a href="https://github.com/google/gson" target="_blank" rel="external">GSON的Github项目</a><br><br></li>
</ul>
<p>比较:</p>
<ul>
<li>JSON是Android SDK官方的库,GSON是Google发起的开源库</li>
<li>GSON更适用于服务端对JSON数据的处理,功能比JSON强大<br><br></li>
</ul>
<p>JSON数据样例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">wangxiaoer.json</div><div class="line">	&#123;</div><div class="line">		&quot;name&quot;:&quot;王小二&quot;,</div><div class="line">		&quot;age&quot;:25,</div><div class="line">		&quot;birthday&quot; : &quot;1990-01-01&quot;,</div><div class="line">		&quot;school&quot; : &quot;蓝翔&quot;,</div><div class="line">		&quot;major&quot; : [&quot;理发&quot;,&quot;炒菜&quot;,&quot;挖掘机&quot;],</div><div class="line">		&quot;girfriend&quot; : false,</div><div class="line">		&quot;car&quot; : null,</div><div class="line">		&quot;house&quot; : null</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	注意:json文件是没有注释的格式</div></pre></td></tr></table></figure></p>
<p><br></p>
<p>java中的json处理</p>
<ul>
<li>org.json</li>
<li>GSON<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;org.json</div><div class="line">		a.在pom.xml中引入依赖</div><div class="line">			&lt;dependencies&gt;</div><div class="line">				...</div><div class="line">				&lt;dependency&gt;</div><div class="line">					&lt;groupId&gt;org.json&lt;/groupId&gt;</div><div class="line">					&lt;artifoctId&gt;json&lt;/artifactId&gt;</div><div class="line">					&lt;version&gt;20090211&lt;/version&gt;</div><div class="line">				&lt;/dependency&gt;</div><div class="line">			&lt;/dependency&gt;</div><div class="line">	</div><div class="line">		b.程序代码</div><div class="line">				/*(1)添加数据*/</div><div class="line">				public static void addJSONData()&#123;</div><div class="line">					//A.put方式添加</div><div class="line">					JSONObject obj = new JSONObject();</div><div class="line">					Object nullObj = null;</div><div class="line">					try&#123;</div><div class="line">						obj.put(&quot;name&quot;,&quot;小明&quot;);</div><div class="line">						obj.put(&quot;age&quot;,25);</div><div class="line">						obj.put(&quot;major&quot;,new String[]&#123;&quot;炒菜&quot;,&quot;挖掘机&quot;&#125;);</div><div class="line">						obj.put(&quot;car&quot;,nullObj);</div><div class="line">						obj.put(&quot;grilfriend&quot;,false);</div><div class="line">	</div><div class="line">						System.out.println(obj.toString());</div><div class="line">					&#125;catch(JSONException e)&#123;&#125;</div><div class="line">	</div><div class="line">					//B.通过Map方式构建</div><div class="line">					Map&lt;String,Object&gt; mapobj = new HashMap&lt;String,Object&gt;();</div><div class="line">						mapobj.put(&quot;name&quot;,&quot;小明&quot;);</div><div class="line">						mapobj.put(&quot;age&quot;,25);</div><div class="line">						mapobj.put(&quot;major&quot;,new String[]&#123;&quot;炒菜&quot;,&quot;挖掘机&quot;&#125;);</div><div class="line">						mapobj.put(&quot;car&quot;,nullObj);</div><div class="line">						mapobj.put(&quot;grilfriend&quot;,false);</div><div class="line">					System.out.println(mapobj.toString());</div><div class="line">	</div><div class="line">					//C.JavaBean构建</div><div class="line">					User user = new User();</div><div class="line">						user.setName(&quot;王小二&quot;);</div><div class="line">						user.setAge(25);</div><div class="line">						user.setMajor(new String[]&#123;&quot;炒菜&quot;,&quot;挖掘机&quot;&#125;);</div><div class="line">						user.setCar(null);</div><div class="line">						user.setGrilFriend(false);</div><div class="line">					JSONObject obj = new JSONObject(user);</div><div class="line">				&#125;</div><div class="line"></div><div class="line"></div><div class="line">				/*(2)解析JSON数据*/</div><div class="line">				public static void readJSONDate()&#123;</div><div class="line">					//A-1.从文件中读取</div><div class="line">					File file = new File(ReadJSONSample.class.getResource(&quot;/wangxiaoer.json&quot;).getFile());</div><div class="line">					String content = FileUtils.readFileToString(file);</div><div class="line">					JSONObject obj = new JSONObject(content); //得到JSON对象</div><div class="line">	</div><div class="line">					//A-2.解析</div><div class="line">					String name = null;</div><div class="line">					if(!obj.isNull(&quot;name&quot;))&#123;  //判断指定属性是否为null</div><div class="line">						name = obj.getString(&quot;name&quot;);</div><div class="line">					&#125;</div><div class="line">					double age = obj.getDouble(&quot;age&quot;);</div><div class="line">					boolean girlFriend = obj.getBoolean(&quot;grilFriend&quot;);</div><div class="line">					JSONArray array = obj.getJSONArray(&quot;major&quot;);</div><div class="line">					for(int i = 0,len = array.length(); i &lt; len; i++)&#123;</div><div class="line">						String tmp = (String)array.get(i);</div><div class="line">						System.out.println(&quot;专业:&quot; + (i+1) + tmp);</div><div class="line">					&#125;</div><div class="line">	</div><div class="line">					//不支持JavaBean反解析</div><div class="line">				&#125;</div><div class="line"></div><div class="line"></div><div class="line">&lt;2&gt;GSON</div><div class="line">		a.加入Maven依赖</div><div class="line">			&lt;dependency&gt;</div><div class="line">				&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;</div><div class="line">				&lt;artifactId&gt;gson&lt;/artifactId&gt;</div><div class="line">				&lt;version&gt;2.4&lt;/version&gt;</div><div class="line">			&lt;/dependency&gt;</div><div class="line"></div><div class="line"></div><div class="line">		b.程序代码</div><div class="line"></div><div class="line">			/*【扩展功能】注解变大写*/</div><div class="line">			class user&#123;</div><div class="line">				@SerializedName(&quot;NAME&quot;) //可以将gson解析数据后的,将name这个key值变为大写</div><div class="line">				private String name;</div><div class="line">	</div><div class="line">				//加入transient关键字,在生成json格式时,忽略该属性</div><div class="line">				private transient String ignore;</div><div class="line">				.....</div><div class="line">			&#125;</div><div class="line">	</div><div class="line">			/*(1)添加JSON*/</div><div class="line">			public static void addJSONDate()&#123;</div><div class="line">				//A.JavaBean对象</div><div class="line">				User user = new User();</div><div class="line">						user.setName(&quot;王小二&quot;);</div><div class="line">						user.setAge(25);</div><div class="line">						user.setMajor(new String[]&#123;&quot;炒菜&quot;,&quot;挖掘机&quot;&#125;);</div><div class="line">						user.setCar(null);</div><div class="line">						user.setGrilFriend(false);</div><div class="line">			</div><div class="line">				GSON gson = new GSON();</div><div class="line">				System.out.println(gson.toJson(user));</div><div class="line">	</div><div class="line">				//B.个性话构建</div><div class="line">				GsonBuilder gsonBuilder = new GsonBuilder()l</div><div class="line">				gsonBuilder.setPrettyPrinting(); //美观换行</div><div class="line">				//加入回调函数</div><div class="line">				gson.setFieldNamingStrategy(new FieldNamingStrategy()&#123;</div><div class="line">					public String translateName(Field f)&#123; //Field是反射对象</div><div class="line">	</div><div class="line">						if(f.getName(). equals(&quot;name&quot;))&#123;</div><div class="line">							//会和@SerializedName(&quot;NAME&quot;)冲突,二选1</div><div class="line">							return &quot;NAME&quot;; //返回大写NAME</div><div class="line">						&#125;</div><div class="line">	</div><div class="line">						return f.getName(); </div><div class="line">					&#125;</div><div class="line">				&#125;);</div><div class="line">				Gson gson = gsonBuilder.create();</div><div class="line">				System.out.println(gson.toJson(user));</div><div class="line">			&#125;</div><div class="line"></div><div class="line"></div><div class="line">			/*(2)解析JSON*/</div><div class="line">			public static void readJSNDate()&#123;</div><div class="line">	</div><div class="line">				//A.从文件中读取,反解析JavaBean</div><div class="line">				File file = new File(ReadJSONSample.class.getResource(&quot;/wangxiaoer.json&quot;).getFile());</div><div class="line">				String content = FileUtils.readFileToString(file);</div><div class="line">	</div><div class="line">				Gson gson = new Gson();</div><div class="line">				User user = gson.fromJson(content,User.class);</div><div class="line">				System.out.println(&quot;user&quot;);</div><div class="line">	</div><div class="line">				//B.个性化转换</div><div class="line">				Gson gson = new GsonBuilder.setDateFormat(&quot;yyyy-MMM-dd&quot;).create();//定制日期格式</div><div class="line"></div><div class="line"></div><div class="line">				//C.JSON中的数组可以用,JavaBean可以用Set,List各种集合对应</div><div class="line">				System.out.println(user.getMajor());//【GSON会自动识别数组,然后转为各种集合】</div><div class="line">				System.out.println(user.getMajor().getClass());</div><div class="line">			&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="20-DWR实现服务器向客户端推送"><a href="#20-DWR实现服务器向客户端推送" class="headerlink" title="20.DWR实现服务器向客户端推送"></a>20.DWR实现服务器向客户端推送</h2><p>&emsp;DWR是一个基于Ajax的框架,动态将Java类生成Javascript,让客户端JavaScript通过DWR异步访问Java程序<br><br></p>
<p>运行原理<br>1.读取dwr.xml生成XXX.js文件<br>2.js触发XXX.js中的方法<br>3.web容器接收请求创建实例<br>4.调用方法处理返回<br><br></p>
<p>DWR的基本使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div></pre></td><td class="code"><pre><div class="line">&lt;1&gt;添加Maven依赖</div><div class="line">	&lt;dependency&gt;</div><div class="line">		&lt;groupId&gt;org.directwebremoting&lt;/groupId&gt;</div><div class="line">		&lt;artifactId&gt;dwr&lt;/artifactId&gt;</div><div class="line">		&lt;version&gt;3.0.M1&lt;/version&gt;</div><div class="line">	&lt;/dependency&gt;</div><div class="line"></div><div class="line">&lt;2&gt;web.xml配置DWR的Servlet</div><div class="line">	&lt;servlet&gt;</div><div class="line">		&lt;servlet-name&gt;dwr&lt;/servlet-name&gt;</div><div class="line">		&lt;!-- </div><div class="line">		 DWR2.X的版本</div><div class="line">			&lt;servlet-class&gt;org.directwebremoting.servlet.DwrServlet&lt;/servlet-class&gt;</div><div class="line">		--&gt;</div><div class="line">		&lt;servlet-class&gt;uk.ltd.getahead.dwr.DWRServlet&lt;/servlet-class&gt;&lt;!--DWR3.0版本--&gt;</div><div class="line">		&lt;!--使用服务器推技术(反转AJAX)--&gt;</div><div class="line">		&lt;init-param&gt;</div><div class="line">			&lt;param-name&gt;activeReverseAjaxEnabled&lt;/param-name&gt;</div><div class="line">			&lt;param-value&gt;true&lt;/param-value&gt;</div><div class="line">		&lt;/init-param&gt;</div><div class="line">		&lt;!--能够从其他域进行请求【true-开启,false-关闭】--&gt;</div><div class="line">		&lt;init-param&gt;</div><div class="line">			&lt;param-name&gt;crossDomainSessionSecurity&lt;/param-name&gt;</div><div class="line">			&lt;param-value&gt;false&lt;/param-value&gt;</div><div class="line">		&lt;/init-param&gt;</div><div class="line">		&lt;!--运行远程js--&gt;</div><div class="line">		&lt;init-param&gt;</div><div class="line">			&lt;param-name&gt;allowScriptTagRemoting&lt;/param-name&gt;</div><div class="line">			&lt;param-value&gt;true&lt;/param-value&gt;</div><div class="line">		&lt;/init-param&gt;</div><div class="line">	&lt;/servlet&gt;</div><div class="line">	&lt;servlet-mapping&gt;</div><div class="line">		&lt;servlet-name&gt;dwr&lt;/servlet-name&gt;</div><div class="line">		&lt;url-pattern&gt;/js/dwr/*&lt;/url-pattern&gt;</div><div class="line">	&lt;/servlet-mapping&gt;</div><div class="line"></div><div class="line"></div><div class="line">&lt;3&gt;dwr.xml配置</div><div class="line">	&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</div><div class="line">	&lt;!DOCTYPE dwr PUBLIC &quot;-GetAhead Limited/DTD Direct Web Remoting 2.0//EN&quot; &quot;http://www.getahead.org/dwr/dwr30.tdt&quot;&gt;</div><div class="line">	&lt;dwr&gt;</div><div class="line">		&lt;allow&gt;</div><div class="line">			 &lt;!--动态生成js文件--&gt;</div><div class="line">			&lt;create creator=&quot;new&quot; javascript=&quot;PushMessage&quot;&gt;</div><div class="line">				&lt;param name=&quot;class&quot;&gt;com.my.PushMessage&lt;/param&gt;&lt;!--指定java类--&gt;</div><div class="line">			&lt;/create&gt;</div><div class="line">		&lt;/allow&gt;</div><div class="line">	&lt;/dwr&gt;</div><div class="line"></div><div class="line"></div><div class="line">&lt;4&gt;java代码的推送方法</div><div class="line">	public class PushMessage&#123;</div><div class="line">		public void send(String msg)&#123;</div><div class="line">			ScriptBuffer scriptBuffer = new ScriptBuffer();//构建js脚本</div><div class="line">			WebContext webContext = WebContextFactory.get();</div><div class="line">			ScriptSession mySession = webContext.getScriptSession();//获取所有ScriptSession【一个客户端发送会推送到所有客户端(各种回调函数)】</div><div class="line">	</div><div class="line">			scriptBuffer.appendScript(&quot;callHello(&quot;); //调用页面回调方法</div><div class="line">			scriptBuffer.appendData(msg);  //传入</div><div class="line">			scriptBuffer.appendScript(&quot;)&quot;);</div><div class="line">	</div><div class="line">			Util util = new Util(mySession);</div><div class="line">			util.addScript(scriptBuffer);//向客户端推送信息</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line"></div><div class="line">&lt;5&gt;jsp页面中使用DWR【需引入util.js和engine.js】</div><div class="line">	&lt;html&gt;</div><div class="line">		&lt;head&gt;</div><div class="line">			&lt;!--引入js文件 --&gt;</div><div class="line">			&lt;script type=&quot;text/javascript&quot; src=&quot;js/util.js&quot;&gt;&lt;/script&gt; </div><div class="line">			&lt;script type=&quot;text/javascript&quot; src=&quot;js/engine.js&quot;&gt;&lt;/script&gt;</div><div class="line">			&lt;script type=&quot;text/javascript&quot; src=&quot;dwr/interface/PushMessage.js&quot;&gt;&lt;/script&gt;&lt;!--java类由DWR动态生成的JS文件--&gt;</div><div class="line">			&lt;script type=&quot;text/javascript&quot; src=&quot;js/jquery-1.7.1.min.js&quot;&gt;&lt;/script&gt;</div><div class="line">			&lt;!--页面中调用--&gt;</div><div class="line">			&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">				/*调用java方法*/</div><div class="line">				$(document).read(&#123;</div><div class="line">					function()&#123;</div><div class="line">						dwr.engine.setActiveReverseAjax(true); //激活反转AJAX</div><div class="line">	</div><div class="line">						//点击按钮,调用Java代码</div><div class="line">						$(&quot;#sign&quot;).click()&#123;</div><div class="line">							PushMessage.Send(&quot;传入参数值&quot;);</div><div class="line">						&#125;</div><div class="line">	</div><div class="line">					&#125;;</div><div class="line">				&#125;;</div><div class="line"></div><div class="line"></div><div class="line">				/*回调函数*/</div><div class="line">				function callHello(data)&#123;</div><div class="line">					alert(data); //提示信息</div><div class="line">				&#125;</div><div class="line">			&lt;/script&gt;</div><div class="line">		&lt;/head&gt;</div><div class="line">		&lt;body&gt;</div><div class="line">			&lt;button id=&quot;sign&quot;&gt;点击这里向客户端推送信息&lt;/button&gt;</div><div class="line">		&lt;/body&gt;</div><div class="line">	&lt;/html&gt;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;6&gt;思路流程</div><div class="line">	a.配置web.xml的DWR的Servlet</div><div class="line">	b.配置dwr.xml文件</div><div class="line">	c.【推送页面】js页面点击按钮 </div><div class="line">	d.调用指定java类的函数(客户端推送功能)</div><div class="line">	e.【消息显示页面】推送成功,跳到js的回调函数</div></pre></td></tr></table></figure></p>
<hr>
<p><br><br></p>
<hr>
<p><br>&lt;</p>
<h1 id="三-设计模式"><a href="#三-设计模式" class="headerlink" title="三.设计模式"></a>三.设计模式</h1><h2 id="1-单例模式"><a href="#1-单例模式" class="headerlink" title="1.单例模式"></a>1.单例模式</h2><p>资源</p>
<ul>
<li><a href="http://blog.csdn.net/goodlixueyong/article/details/51935526" target="_blank" rel="external">Java单例模式——并非看起来那么简单</a><br><br></li>
</ul>
<p>使用</p>
<ul>
<li>每次增删查改数据，都要连接数据库,可获取一个实例多次应用</li>
<li>多线程爬虫，不重复创建实例，使用唯一的资源</li>
<li>已应用到Utils【个人工具包】里的UseDB.java<br><br></li>
</ul>
<p>思路整理：</p>
<ol>
<li>懒汉模式</li>
<li>饿汉模式</li>
<li>双重校验锁</li>
<li>JDK1.5之后版本增加了volatile关键字</li>
<li>静态内部类实现单例<br><br></li>
</ol>
<hr>
<p><br><br></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure>
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Java/" rel="tag"># Java</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/07/11/Redis_基础使用/" rel="next" title="Redis_基础使用">
                <i class="fa fa-chevron-left"></i> Redis_基础使用
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/09/21/MyProject_Neubbs 论坛/" rel="prev" title="Neubbs 校内论坛">
                Neubbs 校内论坛 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
  <a class="jiathis_button_tsina"></a>
  <a class="jiathis_button_tqq"></a>
  <a class="jiathis_button_weixin"></a>
  <a class="jiathis_button_cqq"></a>
  <a class="jiathis_button_douban"></a>
  <a class="jiathis_button_renren"></a>
  <a class="jiathis_button_qzone"></a>
  <a class="jiathis_button_kaixin001"></a>
  <a class="jiathis_button_copy"></a>
  <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
  <a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" >
  var jiathis_config={
    hideMore:false
  }
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js" charset="utf-8"></script>
<!-- JiaThis Button END -->

      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/suvan-min.jpg"
               alt="刘淑玮" />
          <p class="site-author-name" itemprop="name">刘淑玮</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">55</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">29</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">29</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>
   
        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        


        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/Suvan-L" target="_blank" title="GitHub"">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="mailto:liushuwei0925@gmail.com" target="_blank" title="Gmail"">
                  
                    <i class="fa fa-fw fa-envelope"></i>
                  
                  Gmail
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#目录"><span class="nav-text">目录:</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#一-语法整理"><span class="nav-text">一. 语法整理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二-操作整理"><span class="nav-text">二. 操作整理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#三-研究Github开源项目"><span class="nav-text">三. 研究Github开源项目</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#一-语法整理-1"><span class="nav-text">一.语法整理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-概述-基本语法与规范"><span class="nav-text">1. 概述(基本语法与规范)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-变量"><span class="nav-text">2.变量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-运算符"><span class="nav-text">3.运算符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-循环和判断"><span class="nav-text">4.循环和判断</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-数组"><span class="nav-text">5.数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-函数-方法"><span class="nav-text">6.函数(方法)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-异常处理"><span class="nav-text">7.异常处理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-面向对象【继承-多态-封装-抽象和接口】"><span class="nav-text">8.面向对象【继承,多态,封装,抽象和接口】</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-Java的数据结构【集合框架】"><span class="nav-text">9.Java的数据结构【集合框架】</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-泛型与对象序列化"><span class="nav-text">10.泛型与对象序列化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-静态关键字static"><span class="nav-text">11.静态关键字static</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-内部类"><span class="nav-text">12.内部类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-多线程基础"><span class="nav-text">13.多线程基础</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14-Java网络编程-Socket编程"><span class="nav-text">14.Java网络编程(Socket编程)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-IO体系构图"><span class="nav-text">15.IO体系构图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#16-解析Java注解"><span class="nav-text">16.解析Java注解</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#17-VM虚拟机【管理内存分区】"><span class="nav-text">17.VM虚拟机【管理内存分区】</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18-了解Java中的内存泄漏"><span class="nav-text">18.了解Java中的内存泄漏</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#19-专业术语"><span class="nav-text">19.专业术语</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#20-程序设计"><span class="nav-text">20.程序设计</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#21-项目管理"><span class="nav-text">21.项目管理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#22-数据结构基础"><span class="nav-text">22.数据结构基础</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#二-常用操作"><span class="nav-text">二.常用操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-操作日期和时间"><span class="nav-text">1.操作日期和时间</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-自定义异常"><span class="nav-text">2.自定义异常</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#"><span class="nav-text"></span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-反射操作"><span class="nav-text">3.反射操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-正则表达式"><span class="nav-text">4.正则表达式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#-1"><span class="nav-text"></span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-操作I-O输入输出流和文件"><span class="nav-text">5.操作I/O输入输出流和文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-编写定时任务"><span class="nav-text">6.编写定时任务</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#-2"><span class="nav-text"></span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-获取控制台键盘输入"><span class="nav-text">7.获取控制台键盘输入</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#-3"><span class="nav-text"></span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-文档注释【JavaDoc】"><span class="nav-text">8.文档注释【JavaDoc】</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#-4"><span class="nav-text"></span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-编码问题"><span class="nav-text">9.编码问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#-5"><span class="nav-text"></span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-Applet的简单介绍"><span class="nav-text">10.Applet的简单介绍</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-发送邮件【JavaMail】"><span class="nav-text">11.发送邮件【JavaMail】</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#-6"><span class="nav-text"></span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-GUI开发"><span class="nav-text">12.GUI开发</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#-7"><span class="nav-text"></span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-自动化操作【模拟键盘和鼠标】"><span class="nav-text">13.自动化操作【模拟键盘和鼠标】</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#-8"><span class="nav-text"></span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14-JDBC连接数据库"><span class="nav-text">14.JDBC连接数据库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-遍历与控制台打印输出"><span class="nav-text">15.遍历与控制台打印输出</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#16-XML文件读取与生成"><span class="nav-text">16.XML文件读取与生成</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#17-1-Java加密与解密机制介绍"><span class="nav-text">17_1.Java加密与解密机制介绍</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#17-2-运用Base64算法"><span class="nav-text">17_2.运用Base64算法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#-9"><span class="nav-text"></span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#17-3-运用消息摘要算法"><span class="nav-text">17_3.运用消息摘要算法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#17-4-运用对称加密算法"><span class="nav-text">17_4.运用对称加密算法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#17-5-运用非对称加密算法"><span class="nav-text">17_5.运用非对称加密算法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#17-6-运用数字签名算法"><span class="nav-text">17_6.运用数字签名算法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#-10"><span class="nav-text"></span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18-1-JSP开发"><span class="nav-text">18_1.JSP开发</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18-2-Servlet基础"><span class="nav-text">18_2.Servlet基础</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18-3-过滤器"><span class="nav-text">18_3.过滤器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18-4-监听器"><span class="nav-text">18_4.监听器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18-5-JSTL标签"><span class="nav-text">18_5.JSTL标签</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18-6-JSP自定义标签"><span class="nav-text">18_6.JSP自定义标签</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#19-JSON数据处理"><span class="nav-text">19.JSON数据处理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#20-DWR实现服务器向客户端推送"><span class="nav-text">20.DWR实现服务器向客户端推送</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#三-设计模式"><span class="nav-text">三.设计模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-单例模式"><span class="nav-text">1.单例模式</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script> <!--博客量统计-->
<div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Suvan</span>
</div>


<div class="powered-by">
   
  <!--
    由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
    -->
</div>

<div class="theme-info">
	能力决定走的多快，心态决定走的多远

  <!-- 主题
    主题 -
    <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
      NexT.Mist
    </a>
  -->
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="https://cdn.bootcss.com/jquery/2.1.3/jquery.min.js"></script>

  
  <script type="text/javascript" src="https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js"></script>

  
  <script type="text/javascript" src="https://cdn.bootcss.com/jquery_lazyload/1.9.7/jquery.lazyload.min.js"></script>

  
  <script type="text/javascript" src="https://cdn.bootcss.com/velocity/1.2.1/velocity.min.js"></script>

  
  <script type="text/javascript" src="https://cdn.bootcss.com/velocity/1.2.1/velocity.ui.min.js"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  

  

  
  <script type="text/javascript" src="/js/src/js.cookie.js?v=5.1.1"></script>
  <script type="text/javascript" src="/js/src/scroll-cookie.js?v=5.1.1"></script>


  

</body>
</html>
